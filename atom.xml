<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>安知鱼</title>
  <icon>https://www.gravatar.com/avatar/e04bb745ddb4503076f6b8f540d5c60a</icon>
  <subtitle>生活明朗, 万物可爱</subtitle>
  <link href="https://anzhiy.cn/atom.xml" rel="self"/>
  
  <link href="https://anzhiy.cn/"/>
  <updated>2023-04-20T12:59:31.000Z</updated>
  <id>https://anzhiy.cn/</id>
  
  <author>
    <name>安知鱼</name>
    <email>anzhiy-c@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>AnZhiYu主题安装文档（四）</title>
    <link href="https://anzhiy.cn/posts/c27d.html"/>
    <id>https://anzhiy.cn/posts/c27d.html</id>
    <published>2023-04-20T11:55:44.000Z</published>
    <updated>2023-04-20T12:59:31.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning flat"><p>本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)<br>🐟 安知鱼 已经更新到 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu/releases/tag/1.1.7">1.1.7</a></p></div><h2 id="ai-摘要"><a href="#ai-摘要" class="headerlink" title="ai 摘要"></a>ai 摘要</h2><p>需主题版本大于 1.1.6 版本</p><p>修改主题配置文件，其中<code>key</code>和<code>Referer</code> 为 <code>tianli gpt</code> 的<code>key</code>和<code>Referer</code>，可在 <a href="https://afdian.net/item/886a79d4db6711eda42a52540025c377">https://afdian.net/item/886a79d4db6711eda42a52540025c377</a> 购买 key，购买完成后添加机器人 QQ：2102916311</p><p>机器人中回复：&#x2F;chat 你的 key 你的博客地址注意保留最后的斜杠(即为 Referer)</p><p>例如：&#x2F;chat tN2jLmG7fX9zHk5dVbQr <a href="https://anzhiy.cn/">https://anzhiy.cn/</a></p><p>格式发送，返回的 token 即你的剩余字数</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 文章顶部ai摘要</span><span class="token key atrule">post_head_ai_description</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">gptName</span><span class="token punctuation">:</span> AnZhiYu  <span class="token key atrule">mode</span><span class="token punctuation">:</span> local <span class="token comment"># 默认模式 可选值: tianli/local</span>  <span class="token key atrule">switchBtn</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 可以配置是否显示切换按钮 以切换tianli/local</span>  <span class="token key atrule">btnLink</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//afdian.net/item/886a79d4db6711eda42a52540025c377  <span class="token key atrule">randomNum</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token comment"># 按钮最大的随机次数，也就是一篇文章最大随机出来几种</span>  <span class="token key atrule">basicWordCount</span><span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token comment"># 最低获取字符数, 最小1000, 最大1999</span>  <span class="token key atrule">key</span><span class="token punctuation">:</span> xxxx  <span class="token key atrule">Referer</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//xx.xx/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>配置完成以后在文章的<code>Front-matter</code>配置<code>ai: true</code></p><p>如果使用<code>local</code>,需要按照以下方式配置</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> AnZhiYu主题快速开始<span class="token key atrule">ai</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> 本教程介绍了如何在博客中安装基于Hexo主题的安知鱼主题，并提供了安装、应用主题、修改配置文件、本地启动等详细步骤及技术支持方式。教程的内容针对最新的主题版本进行更新，如果你是旧版本教程会有出入。  <span class="token punctuation">-</span> 本文真不错</span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="评论配置"><a href="#评论配置" class="headerlink" title="评论配置"></a>评论配置</h2><p>主题配置中修改，添加<code>envId</code>即可。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Twikoo</span><span class="token comment"># https://github.com/imaegoo/twikoo</span><span class="token key atrule">twikoo</span><span class="token punctuation">:</span>  <span class="token key atrule">envId</span><span class="token punctuation">:</span>  <span class="token key atrule">region</span><span class="token punctuation">:</span>  <span class="token key atrule">visitor</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  option<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="控制台信息"><a href="#控制台信息" class="headerlink" title="控制台信息"></a>控制台信息</h2><p>关于控制台信息，主题不提供修改配置，但是可以在主题配置文件中进行关闭。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 控制台打印信息</span><span class="token key atrule">console</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>控制台打印相关信息可以配置页脚内容来修改。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">footer</span><span class="token punctuation">:</span>  <span class="token key atrule">owner</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">since</span><span class="token punctuation">:</span> <span class="token number">2020</span>  <span class="token key atrule">custom_text</span><span class="token punctuation">:</span>  <span class="token key atrule">copyright</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># Copyright of theme and framework</span>  <span class="token key atrule">runtime</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">launch_time</span><span class="token punctuation">:</span> 04/01/2021 00<span class="token punctuation">:</span><span class="token datetime number">00:00</span> <span class="token comment"># 网站上线时间</span>    <span class="token key atrule">work_img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.0.4/img/badge/安知鱼<span class="token punctuation">-</span>上班摸鱼中.svg    <span class="token key atrule">work_description</span><span class="token punctuation">:</span> 距离月入25k也就还差一个大佬带我~    <span class="token key atrule">offduty_img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.0.4/img/badge/安知鱼<span class="token punctuation">-</span>下班啦.svg    <span class="token key atrule">offduty_description</span><span class="token punctuation">:</span> 下班了就该开开心心的玩耍，嘿嘿~<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果实在有强迫症也可以自行修改内容<code>themes/anzhiyu/layout/includes/anzhiyu/log-js.pug</code>。</p><h2 id="如何配置首页顶部右侧不使用轮播图"><a href="#如何配置首页顶部右侧不使用轮播图" class="headerlink" title="如何配置首页顶部右侧不使用轮播图"></a>如何配置首页顶部右侧不使用轮播图</h2><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/03/27/642172c889a45.png" alt="效果预览"></p><p>将主题配置文件中<code>home_top.swiper.enable</code> 修改为 <code>false</code> 即可.</p><h2 id="设置-标签卖萌"><a href="#设置-标签卖萌" class="headerlink" title="设置 标签卖萌"></a>设置 标签卖萌</h2><p>主题配置文件中</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 标签卖萌</span><span class="token key atrule">diytitle</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">leaveTitle</span><span class="token punctuation">:</span> w(ﾟДﾟ)w 不要走！再看看嘛！  <span class="token key atrule">backTitle</span><span class="token punctuation">:</span> ♪(^∇^<span class="token important">*)欢迎肥来！</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="如何配置页脚"><a href="#如何配置页脚" class="headerlink" title="如何配置页脚"></a>如何配置页脚</h2><p>在主题配置文件中<code>footer</code>配置，其中<code>runtime</code>可以配置网站运行时间，工作时间上午 9 点到下午 6 点到图片，描述，下班时间的图片，描述。</p><h2 id="配置关于页与文章页底部打赏二维码"><a href="#配置关于页与文章页底部打赏二维码" class="headerlink" title="配置关于页与文章页底部打赏二维码"></a>配置关于页与文章页底部打赏二维码</h2><p>在主题配置文件中</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Sponsor/reward</span><span class="token key atrule">reward</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">coinAudio</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/akilar<span class="token punctuation">-</span>candyassets@1.0.36/audio/aowu.m4a  <span class="token key atrule">QR_code</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@1.1.6/img/post/common/qrcode<span class="token punctuation">-</span>weichat.png      <span class="token key atrule">link</span><span class="token punctuation">:</span>      <span class="token key atrule">text</span><span class="token punctuation">:</span> wechat    <span class="token punctuation">-</span> <span class="token key atrule">img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@1.1.6/img/post/common/qrcode<span class="token punctuation">-</span>alipay.png      <span class="token key atrule">link</span><span class="token punctuation">:</span>      <span class="token key atrule">text</span><span class="token punctuation">:</span> alipay<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="主题如何获取文章主色调"><a href="#主题如何获取文章主色调" class="headerlink" title="主题如何获取文章主色调"></a>主题如何获取文章主色调</h2><blockquote><p>两种方法，因为我觉得 js 获取到的图片主色调不准确且消耗资源，所以可以使用以下两种方式。</p></blockquote><ol><li><p>使用腾讯云的数据万象能力，前提是图片存储在腾讯云的 cos 上。</p></li><li><p>使用多吉云的云存储+免费 cdn，云存储必须是付费版本的，1000 张图片 1G 以内大概在 1 块钱 1 年。cdn 免费每月 20G</p></li></ol><h2 id="双栏"><a href="#双栏" class="headerlink" title="双栏"></a>双栏</h2><p>如果你需要像我一样首页双栏，修改主题配置文件<code>_config.anzhiyu.yml</code>（主题版本需要 1.1.1 以及以上）</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 双栏文章</span><span class="token key atrule">article_double_row</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="首页顶部-3-大分类配置"><a href="#首页顶部-3-大分类配置" class="headerlink" title="首页顶部 3 大分类配置"></a>首页顶部 3 大分类配置</h2><p>首页技能点轮播下的分类，可通过配置主题配置文件<code>home_top</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page categories<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> Hello World<span class="token key atrule">categories</span><span class="token punctuation">:</span> 前端开发</span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>只需要在创建分类以后在对应的文章中添加上对应的分类，配置 path 即可，注意一定要对应。</p><h2 id="左下角歌单"><a href="#左下角歌单" class="headerlink" title="左下角歌单"></a>左下角歌单</h2><p>歌单配置很简单，只需要修改主题配置文件中<code>nav_music</code>即可.</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 左下角音乐配置项</span><span class="token key atrule">nav_music</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">8152976493</span>  <span class="token key atrule">server</span><span class="token punctuation">:</span> netease<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="首页技能点配置"><a href="#首页技能点配置" class="headerlink" title="首页技能点配置"></a>首页技能点配置</h2><p>[blog]代表你的博客根目录。示例数据中的图片链接为本人图床，请自行上传至您自己的图床，（不保证永久可用性）。</p><p>创建<code>[blog]/source/_data/creativity.yml</code>，输入以下内容</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 开启创造力  <span class="token key atrule">creativity_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Java      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#fff"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b1184e9.jpg    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Docker      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#57b6e6"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b0f0abe.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Photoshop      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#4082c3"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2022/12/15/639aa3a5c240e.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Node      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#333"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.1.1/img/svg/node<span class="token punctuation">-</span>logo.svg    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Webpack      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#2e3a41"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b68026c.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Pinia      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#fff"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.0.8/img/svg/pinia<span class="token punctuation">-</span>logo.svg    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Python      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#fff"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b1230f7.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Vite      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#937df7"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.0.8/img/svg/vite<span class="token punctuation">-</span>logo.svg    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Flutter      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#4499e4"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b1055c2.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Vue      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#b8f0ae"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b6788bd.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> React      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#222"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> data<span class="token punctuation">:</span>image/svg+xml;base64<span class="token punctuation">,</span>PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> CSS3      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#2c51db"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2022/12/15/639aa3a5c251e.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JS      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#f7cb4f"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b121f02.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> HTML      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#e9572b"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2022/12/15/639aa3a5c241c.png    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Git      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#df5b40"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293b10ccdd.webp    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Apifox      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">"#e65164"</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2022/11/19/6378d6458c6b6.png<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>此时可以看到首页顶部已经有技能点的轮播了。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/03/26/641fe7b5c77c3.webp" alt="技能点轮播"></p><p>文字部分在主题配置文件中<code>home_top</code>配置项修改</p><h2 id="配置-nav-顶栏左侧应用列表"><a href="#配置-nav-顶栏左侧应用列表" class="headerlink" title="配置 nav 顶栏左侧应用列表"></a>配置 nav 顶栏左侧应用列表</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># nav左侧菜单</span><span class="token key atrule">nav</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">menu</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">title</span><span class="token punctuation">:</span> 网页      <span class="token key atrule">item</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 个人主页          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//index.anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//index.anzhiy.cn/assets/home.svg        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 博客          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/05/6315ec9737ac4.png        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 云盘主页          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.cloud.anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安知鱼图床          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//image.anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//image.anzhiy.cn/favicon.ico        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> alist文件管理          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//pan.anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//cloud.anzhiy.cn/static/img/c192.png    <span class="token punctuation">-</span> <span class="token key atrule">title</span><span class="token punctuation">:</span> 项目      <span class="token key atrule">item</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安知鱼云盘          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//cloud.anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/04/27/6268e7d9de532.png<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>要为 AnZhiYu 配上字数统计特性, 你需要如下几个步骤:</p><p>打开 hexo 工作目录</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-wordcount <span class="token parameter variable">--save</span> or <span class="token function">yarn</span> <span class="token function">add</span> hexo-wordcount<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>修改 主题配置文件:</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">wordcount</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">post_wordcount</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">total_wordcount</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h2><div class="tabs" id="安装"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#安装-1">algolia</button></li><li class="tab"><button type="button" data-href="#安装-2">本地搜索</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="安装-1"><blockquote><p>记得运行 hexo clean</p></blockquote><blockquote><p>如果你使用 <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch">hexo-algoliasearch</a>，请记得配置 fields 参数的 <code>title</code>, <code>permalink</code> 和 <code>content</code></p></blockquote><p>你需要安装 <a href="https://github.com/oncletom/hexo-algolia">hexo-algolia</a> 或 <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch">hexo-algoliasearch</a>. 根据它们的说明文档去做相应的配置。</p><p>修改 主题配置文件</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">algolia_search</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">hits</span><span class="token punctuation">:</span>    <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="安装-2"><p>记得运行 <code>hexo clean</code></p><p>你需要安装 <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a>，根据它的文档去做相应配置</p><p>修改 主题配置文件</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">local_search</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">preload</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  CDN<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>enable</td><td>是否开启本地搜索</td></tr><tr><td>preload</td><td>预加载，开启后，进入网页后会自动加载搜索文件。关闭时，只有点击搜索按钮后，才会加载搜索文件</td></tr><tr><td>CDN</td><td>搜索文件的 CDN 地址（默认使用的本地链接）</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h2 id="网站验证"><a href="#网站验证" class="headerlink" title="网站验证"></a>网站验证</h2><p>如果需要搜索引擎收录网站，可能需要登录对应搜索引擎的管理平台进行提交。<br>各自的验证码可从各自管理平台拿到</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">site_verification</span><span class="token punctuation">:</span>  <span class="token comment"># - name: google_site_verification</span>  <span class="token comment">#   content: xxxxxx</span>  <span class="token comment"># - name: baidu_site_verification</span>  <span class="token comment">#   content: xxxxxxx</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)&lt;br&gt;🐟 安知鱼 已经更新到 &lt;a href=&quot;https://github.c</summary>
      
    
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/categories/AnZhiYu/"/>
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/tags/AnZhiYu/"/>
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>AnZhiYu主题安装文档（三）</title>
    <link href="https://anzhiy.cn/posts/acbc.html"/>
    <id>https://anzhiy.cn/posts/acbc.html</id>
    <published>2023-04-10T21:55:44.000Z</published>
    <updated>2023-04-21T03:57:48.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning flat"><p>本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)<br>🐟 安知鱼 已经更新到 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu/releases/tag/1.1.7">1.1.7</a></p></div><h2 id="Footer-设置"><a href="#Footer-设置" class="headerlink" title="Footer 设置"></a>Footer 设置</h2><p><code>since</code> 是一个来展示你站点起始时间的选项。它位于页面的最底部。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Footer Settings</span><span class="token comment"># --------------------------------------</span><span class="token key atrule">footer</span><span class="token punctuation">:</span>  <span class="token key atrule">owner</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">since</span><span class="token punctuation">:</span> <span class="token number">2020</span>  <span class="token key atrule">custom_text</span><span class="token punctuation">:</span>  <span class="token key atrule">runtime</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">launch_time</span><span class="token punctuation">:</span> 04/01/2021 00<span class="token punctuation">:</span><span class="token datetime number">00:00</span> <span class="token comment"># 网站上线时间</span>    <span class="token key atrule">work_img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.0.4/img/badge/安知鱼<span class="token punctuation">-</span>上班摸鱼中.svg    <span class="token key atrule">work_description</span><span class="token punctuation">:</span> 距离月入25k也就还差一个大佬带我~    <span class="token key atrule">offduty_img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.0.4/img/badge/安知鱼<span class="token punctuation">-</span>下班啦.svg    <span class="token key atrule">offduty_description</span><span class="token punctuation">:</span> 下班了就该开开心心的玩耍，嘿嘿~  <span class="token comment"># 徽标部分配置项 https://shields.io/</span>  <span class="token comment"># https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr</span>  <span class="token key atrule">bdageitem</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//hexo.io/ <span class="token comment">#徽标指向网站链接</span>      <span class="token key atrule">shields</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.1.5/img/badge/Frame<span class="token punctuation">-</span>Hexo.svg <span class="token comment">#徽标API</span>      <span class="token key atrule">message</span><span class="token punctuation">:</span> 博客框架为Hexo_v5.4.0 <span class="token comment">#徽标提示语</span>    <span class="token punctuation">-</span> <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/      <span class="token key atrule">shields</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//pan.anzhiy.cn/d/anzhiyu/svg/Theme<span class="token punctuation">-</span>AnZhiYu<span class="token punctuation">-</span>2E67D3.svg      <span class="token key atrule">message</span><span class="token punctuation">:</span> 本站使用AnZhiYu主题    <span class="token punctuation">-</span> <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.dogecloud.com/      <span class="token key atrule">shields</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.2.0/img/badge/CDN<span class="token punctuation">-</span>多吉云<span class="token punctuation">-</span>3693F3.svg      <span class="token key atrule">message</span><span class="token punctuation">:</span> 本站使用多吉云为静态资源提供CDN加速    <span class="token punctuation">-</span> <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/      <span class="token key atrule">shields</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.1.5/img/badge/Source<span class="token punctuation">-</span>Github.svg      <span class="token key atrule">message</span><span class="token punctuation">:</span> 本站项目由Github托管    <span class="token punctuation">-</span> <span class="token key atrule">link</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//creativecommons.org/licenses/by<span class="token punctuation">-</span>nc<span class="token punctuation">-</span>sa/4.0/      <span class="token key atrule">shields</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.2.0/img/badge/Copyright<span class="token punctuation">-</span>BY<span class="token punctuation">-</span>NC<span class="token punctuation">-</span>SA.svg      <span class="token key atrule">message</span><span class="token punctuation">:</span> 本站采用知识共享署名<span class="token punctuation">-</span>非商业性使用<span class="token punctuation">-</span>相同方式共享4.0国际许可协议进行许可<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>owner</td><td>页脚网站所有者@2020-当前年份</td></tr><tr><td>owner.enable</td><td>页脚网站所有者是否启用</td></tr><tr><td>owner.since</td><td>页脚年份，控制台中打印的运行时间也来自这里</td></tr><tr><td>runtime</td><td>运行时间</td></tr><tr><td>runtime.enable</td><td>运行时间是否启用</td></tr><tr><td>runtime.launch_time</td><td>网站上线时间</td></tr><tr><td>runtime.work_img</td><td>页脚上班时间的徽标</td></tr><tr><td>runtime.work_description</td><td>页脚上班时间的 title 描述</td></tr><tr><td>runtime.offduty_img</td><td>页脚下班时间的徽标</td></tr><tr><td>runtime.offduty_description</td><td>页脚下班时间的 title 描述</td></tr><tr><td>bdageitem</td><td>徽标配置项</td></tr><tr><td>bdageitem.link</td><td>徽标配置链接</td></tr><tr><td>bdageitem.shields</td><td>徽标配置徽标</td></tr><tr><td>bdageitem.message</td><td>徽标配置徽标 title</td></tr></tbody></table><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/64412c4c08266.png!blogimg" alt="页脚"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/64412cb6bbbf5.png!blogimg" alt="页脚你好自动定义文字"></p><h2 id="侧边栏设置-aside"><a href="#侧边栏设置-aside" class="headerlink" title="侧边栏设置 (aside)"></a>侧边栏设置 (aside)</h2><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># aside (侧边栏)</span><span class="token comment"># --------------------------------------</span><span class="token key atrule">aside</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">hide</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">button</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">mobile</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># display on mobile</span>  <span class="token key atrule">position</span><span class="token punctuation">:</span> right <span class="token comment"># left or right</span>  <span class="token key atrule">display</span><span class="token punctuation">:</span>    <span class="token key atrule">archive</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">tag</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">category</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">card_author</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment"># 1为使用头像card 2为不使用头像card</span>    <span class="token key atrule">description</span><span class="token punctuation">:</span> &lt;div style="line<span class="token punctuation">-</span>height<span class="token punctuation">:</span>1.38;margin<span class="token punctuation">:</span>0.6rem 0;text<span class="token punctuation">-</span>align<span class="token punctuation">:</span>justify;color<span class="token punctuation">:</span>rgba(255<span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> 0.8);"<span class="token punctuation">></span>这有关于&lt;b style="color<span class="token punctuation">:</span><span class="token comment">#fff">产品、设计、开发&lt;/b>相关的问题和看法，还有&lt;b style="color:#fff">文章翻译&lt;/b>和&lt;b style="color:#fff">分享&lt;/b>。&lt;/div>&lt;div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的&lt;b style="color:#fff">知识&lt;/b>和&lt;b style="color:#fff">教程&lt;/b>。&lt;/div></span>    <span class="token key atrule">button</span><span class="token punctuation">:</span>      <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>      <span class="token key atrule">icon</span><span class="token punctuation">:</span> anzhiyu<span class="token punctuation">-</span>icon<span class="token punctuation">-</span>arrow<span class="token punctuation">-</span>circle<span class="token punctuation">-</span>right      <span class="token key atrule">text</span><span class="token punctuation">:</span> 了解更多      <span class="token key atrule">link</span><span class="token punctuation">:</span> /about/  <span class="token key atrule">card_announcement</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">content</span><span class="token punctuation">:</span> 欢迎来看我的博客鸭~  <span class="token key atrule">card_weixin</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">face</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/11/631ddb7c9b250.png    <span class="token key atrule">backFace</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/11/631ddeb0900b7.png  <span class="token key atrule">card_recent_post</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment"># if set 0 will show all</span>    <span class="token key atrule">sort</span><span class="token punctuation">:</span> date <span class="token comment"># date or updated</span>    <span class="token key atrule">sort_order</span><span class="token punctuation">:</span> <span class="token comment"># Don't modify the setting unless you know how it works</span>  <span class="token key atrule">card_categories</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">8</span> <span class="token comment"># if set 0 will show all</span>    <span class="token key atrule">expand</span><span class="token punctuation">:</span> none <span class="token comment"># none/true/false</span>    <span class="token key atrule">sort_order</span><span class="token punctuation">:</span> <span class="token comment"># Don't modify the setting unless you know how it works</span>  <span class="token key atrule">card_tags</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">40</span> <span class="token comment"># if set 0 will show all</span>    <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">sort_order</span><span class="token punctuation">:</span> <span class="token comment"># Don't modify the setting unless you know how it works</span>  <span class="token key atrule">card_archives</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> monthly <span class="token comment"># yearly or monthly</span>    <span class="token key atrule">format</span><span class="token punctuation">:</span> MMMM YYYY <span class="token comment"># eg: YYYY年MM月</span>    <span class="token key atrule">order</span><span class="token punctuation">:</span> <span class="token number">-1</span> <span class="token comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span>    <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">8</span> <span class="token comment"># if set 0 will show all</span>    <span class="token key atrule">sort_order</span><span class="token punctuation">:</span> <span class="token comment"># Don't modify the setting unless you know how it works</span>  <span class="token key atrule">card_webinfo</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">post_count</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">last_push_date</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">sort_order</span><span class="token punctuation">:</span> <span class="token comment"># Don't modify the setting unless you know how it works</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="访问人数-busuanzi-UV-和-PV"><a href="#访问人数-busuanzi-UV-和-PV" class="headerlink" title="访问人数 busuanzi (UV 和 PV)"></a>访问人数 busuanzi (UV 和 PV)</h2><p>访问 busuanzi 的<a href="http://busuanzi.ibruce.info/">官方网站</a>查看更多的介绍。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">busuanzi</span><span class="token punctuation">:</span>  <span class="token key atrule">site_uv</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">site_pv</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">page_pv</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>如果需要修改 busuanzi 的 CDN 链接，可通过 主题配置文件 的 CDN 中的 option 进行修改</p></blockquote><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">CDN</span><span class="token punctuation">:</span>  <span class="token key atrule">option</span><span class="token punctuation">:</span>  <span class="token key atrule">busuanzi</span><span class="token punctuation">:</span> xxxxxxxxx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/6441312192cba.png"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/6441312d5e8d0.webp!blogimg"></p><h2 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h2><p>网页已运行时间</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Time difference between publish date and now (网页运行时间)</span><span class="token comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span><span class="token key atrule">runtimeshow</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">publish_date</span><span class="token punctuation">:</span> 4/1/2021 00<span class="token punctuation">:</span><span class="token datetime number">00:00</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/6441319e80977.webp" alt="运行时间"></p><h2 id="最新评论"><a href="#最新评论" class="headerlink" title="最新评论"></a>最新评论</h2><p>最新评论只会在刷新时才会去读取，并不会实时变化</p><p>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分钟。也就是説，调用后资料会存在 localStorage 里，10 分钟内刷新网站只会去 localStorage 读取资料。 10 分钟期限一过，刷新页面时才会去调取 API 读取新的数据。（ 3.6.0 新增了 storage 配置，可自行配置缓存时间）</p><p>在侧边栏显示最新评论板块</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Aside widget - Newest Comments</span><span class="token key atrule">newest_comments</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">sort_order</span><span class="token punctuation">:</span> <span class="token comment"># Don't modify the setting unless you know how it works</span>  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">6</span>  <span class="token key atrule">storage</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment"># unit: mins, save data to localStorage</span>  <span class="token key atrule">avatar</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>limit</td><td>显示的数量</td></tr><tr><td>storage</td><td>设置缓存时间，单位 分钟</td></tr><tr><td>avatar</td><td>是否显示头像</td></tr></tbody></table><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/644132e885d91.webp!blogimg"></p><h2 id="右下角按钮-Bottom-right-button"><a href="#右下角按钮-Bottom-right-button" class="headerlink" title="右下角按钮 (Bottom right button)"></a>右下角按钮 (Bottom right button)</h2><h3 id="简繁转换"><a href="#简繁转换" class="headerlink" title="简繁转换"></a>简繁转换</h3><p>简体繁体互换</p><p>右下角会有简繁转换按钮。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">translate</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># 默认按钮显示文字(网站是简体，应设置为'default: 繁')</span>  <span class="token key atrule">default</span><span class="token punctuation">:</span> 简  <span class="token comment">#网站默认语言，1: 繁体中文, 2: 简体中文</span>  <span class="token key atrule">defaultEncoding</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token comment">#延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span>  <span class="token key atrule">translateDelay</span><span class="token punctuation">:</span> <span class="token number">0</span>  <span class="token comment">#当文字是简体时，按钮显示的文字</span>  <span class="token key atrule">msgToTraditionalChinese</span><span class="token punctuation">:</span> <span class="token string">"繁"</span>  <span class="token comment">#当文字是繁体时，按钮显示的文字</span>  <span class="token key atrule">msgToSimplifiedChinese</span><span class="token punctuation">:</span> <span class="token string">"简"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>简体</p></blockquote><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/644133ef810f7.webp" alt="简体"></p><blockquote><p>繁体</p></blockquote><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/644133ef85f42.webp" alt="繁体"></p><h3 id="阅读模式"><a href="#阅读模式" class="headerlink" title="阅读模式"></a>阅读模式</h3><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。</p><p>只会出现在文章页面，右下角会有阅读模式按钮。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">readmode</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/20/6441350b98041.webp" alt="阅读模式"></p><h3 id="夜间模式"><a href="#夜间模式" class="headerlink" title="夜间模式"></a>夜间模式</h3><p>右下角会有夜间模式按钮</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># dark mode</span><span class="token key atrule">darkmode</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># Toggle Button to switch dark/light mode</span>  <span class="token key atrule">button</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># Switch dark/light mode automatically (自动切换 dark mode和 light mode)</span>  <span class="token comment"># autoChangeMode: 1  Following System Settings, if the system doesn't support dark mode, it will switch dark mode between 6 pm to 6 am</span>  <span class="token comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span>  <span class="token comment"># autoChangeMode: false</span>  <span class="token key atrule">autoChangeMode</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token comment"># Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18</span>  <span class="token key atrule">start</span><span class="token punctuation">:</span> <span class="token comment"># 8</span>  <span class="token key atrule">end</span><span class="token punctuation">:</span> <span class="token comment"># 22</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>button</td><td>是否在右下角显示日夜模式切换按钮</td></tr><tr><td>autoChangeMode</td><td>自动切换的模式</td></tr><tr><td>autoChangeMode</td><td>autoChangeMode: 1 跟随系统而变化，不支持的浏览器&#x2F;系统将按照时间 start 到 end 之间切换为 light mode<br/>autoChangeMode: 2 只按照时间 start 到 end 之间切换为 light mode ,其余时间为 dark mode<br/>autoChangeMode: false 取消自动切换<br/></td></tr><tr><td>start</td><td>light mode 的开始时间</td></tr><tr><td>end</td><td>light mode 的结束时间</td></tr></tbody></table><h2 id="按钮排序"><a href="#按钮排序" class="headerlink" title="按钮排序"></a>按钮排序</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Don't modify the following settings unless you know how they work (非必要请不要修改 )</span><span class="token comment"># Choose: readmode,translate,darkmode,hideAside,toc,chat,comment</span><span class="token comment"># Don't repeat 不要重复</span><span class="token key atrule">rightside_item_order</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">hide</span><span class="token punctuation">:</span> <span class="token comment"># readmode,translate,darkmode,hideAside</span>  <span class="token key atrule">show</span><span class="token punctuation">:</span> <span class="token comment"># toc,chat,comment</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="标签外挂（Tag-Plugins）"><a href="#标签外挂（Tag-Plugins）" class="headerlink" title="标签外挂（Tag Plugins）"></a>标签外挂（Tag Plugins）</h2><div class="note info flat"><p>标签外挂是 Hexo 独有的功能，并不是标准的 Markdown 格式。<br>以下的写法，只适用于 AnZhiYu 主题，用在其它主题上不会有效果，甚至可能会报错。使用前请留意</p></div><div class="note warning flat"><p>标签外挂虽然能为主题带来一些额外的功能和 UI 方面的强化，但是，标签外挂也有明显的限制，使用时请留意。</p></div><h3 id="Note-Bootstrap-Callout"><a href="#Note-Bootstrap-Callout" class="headerlink" title="Note (Bootstrap Callout)"></a>Note (Bootstrap Callout)</h3><div class="tabs" id="note"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#note-1">通用配置</button></li><li class="tab"><button type="button" data-href="#note-2">语法格式</button></li><li class="tab"><button type="button" data-href="#note-3">配置参数</button></li><li class="tab active"><button type="button" data-href="#note-4">样式预览</button></li><li class="tab"><button type="button" data-href="#note-5">示例源码</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="note-1"><p>修改主题配置文件</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">note</span><span class="token punctuation">:</span>  <span class="token comment"># Note tag style values:</span>  <span class="token comment">#  - simple    bs-callout old alert style. Default.</span>  <span class="token comment">#  - modern    bs-callout new (v2-v3) alert style.</span>  <span class="token comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span>  <span class="token comment">#  - disabled  disable all CSS styles import of note tag.</span>  <span class="token key atrule">style</span><span class="token punctuation">:</span> simple  <span class="token key atrule">icons</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">border_radius</span><span class="token punctuation">:</span> <span class="token number">3</span>  <span class="token comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span>  <span class="token comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span>  <span class="token key atrule">light_bg_offset</span><span class="token punctuation">:</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>Note</code>标签外挂有两种用法。<code>icons</code>和<code>light_bg_offset</code>只对方法一生效。</p><p><code>fontawesome</code>图标需开启主题配置文件中<code>icons.fontawesome</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="note-2"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note <span class="token url">[<span class="token content">class</span>] [<span class="token variable">no-icon</span>]</span> [style] %&#125;Any content (support inline tags too.io).&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note <span class="token url">[<span class="token content">color</span>] [<span class="token variable">icon</span>]</span> [style] %&#125;Any content (support inline tags too.io).&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="note-3"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <table><thead><tr><th align="left">参数</th><th align="left">用法</th></tr></thead><tbody><tr><td align="left">class</td><td align="left">【可选】标识，不同的标识有不同的配色<br>（ default &#x2F; primary &#x2F; success &#x2F; info &#x2F; warning &#x2F; danger ）</td></tr><tr><td align="left">no-icon</td><td align="left">【可选】不显示 icon</td></tr><tr><td align="left">style</td><td align="left">【可选】可以覆盖配置中的 style<br>（simple&#x2F;modern&#x2F;flat&#x2F;disabled）</td></tr></tbody></table>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <table><thead><tr><th align="left">参数</th><th align="left">用法</th></tr></thead><tbody><tr><td align="left">class</td><td align="left">【可选】标识，不同的标识有不同的配色<br>（ default &#x2F; blue &#x2F; pink &#x2F; red &#x2F; purple &#x2F; orange &#x2F; green ）</td></tr><tr><td align="left">no-icon</td><td align="left">【可选】可配置自定义 icon (支持 fontawesome 图标和主题内置的阿里图标,<code>fontawesome</code>图标需开启主题配置文件中<code>icons.fontawesome</code>, 也可以配置 no-icon )</td></tr><tr><td align="left">style</td><td align="left">【可选】可以覆盖配置中的 style<br>（simple&#x2F;modern&#x2F;flat&#x2F;disabled）</td></tr></tbody></table>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content active" id="note-4"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <ol><li><p><code>simple</code>样式</p><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div></li><li><p><code>modern</code>样式</p><div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div></li><li><p><code>flat</code>样式</p><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div></li><li><p><code>disabled</code>样式</p><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div></li><li><p><code>no-icon</code>样式</p><div class="note no-icon flat"><p>默认 提示块标签</p></div><div class="note default no-icon flat"><p>default 提示块标签</p></div><div class="note primary no-icon flat"><p>primary 提示块标签</p></div><div class="note success no-icon flat"><p>success 提示块标签</p></div><div class="note info no-icon flat"><p>info 提示块标签</p></div><div class="note warning no-icon flat"><p>warning 提示块标签</p></div><div class="note danger no-icon flat"><p>danger 提示块标签</p></div></li></ol>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <p>图标支持 <code>fontawesome</code> 和 <code>主题内置的阿里图标</code>，使用方法为加上对应的类名，<code>fontawesome</code>图标需开启主题配置文件中<code>icons.fontawesome</code>，默认未开启 fontawesome</p><ol><li><p>simple 样式<br><code>主题内置阿里图标</code></p><div class="note anzhiyufont anzhiyu-icon-rocket simple"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue anzhiyufont anzhiyu-icon-bullhorn simple"><p>2022 年快到了….</p></div><div class="note pink anzhiyufont anzhiyu-icon-instagram simple"><p>小心开车 安全至上</p></div><div class="note red anzhiyufont anzhiyu-icon-fan simple"><p>这是三片呢？还是四片？</p></div><div class="note orange anzhiyufont anzhiyu-icon-dengpao simple"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple anzhiyufont anzhiyu-icon-sanmingzhi simple"><p>剪刀石头布</p></div><div class="note green anzhiyufont anzhiyu-icon-ic_train simple"><p>前端最讨厌的浏览器</p></div><p><code>fontawesome 图标</code>，开启主题配置文件中的<code>icons.fontawesome</code>为<code>true</code>后可见</p><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2022 年快到了….</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-fan simple"><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div></li><li><p>modern 样式<br><code>主题内置阿里图标</code></p><div class="note anzhiyufont anzhiyu-icon-rocket modern"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue anzhiyufont anzhiyu-icon-bullhorn modern"><p>2022 年快到了….</p></div><div class="note pink anzhiyufont anzhiyu-icon-instagram modern"><p>小心开车 安全至上</p></div><div class="note red anzhiyufont anzhiyu-icon-fan modern"><p>这是三片呢？还是四片？</p></div><div class="note orange anzhiyufont anzhiyu-icon-dengpao modern"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple anzhiyufont anzhiyu-icon-sanmingzhi modern"><p>剪刀石头布</p></div><div class="note green anzhiyufont anzhiyu-icon-ic_train modern"><p>前端最讨厌的浏览器</p></div><p><code>fontawesome 图标</code>，开启主题配置文件中的<code>icons.fontawesome</code>为<code>true</code>后可见</p><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021 年快到了….</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-fan modern"><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div></li><li><p>flat 样式<br><code>主题内置阿里图标</code></p><div class="note anzhiyufont anzhiyu-icon-rocket flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue anzhiyufont anzhiyu-icon-bullhorn flat"><p>2022 年快到了….</p></div><div class="note pink anzhiyufont anzhiyu-icon-instagram flat"><p>小心开车 安全至上</p></div><div class="note red anzhiyufont anzhiyu-icon-fan flat"><p>这是三片呢？还是四片？</p></div><div class="note orange anzhiyufont anzhiyu-icon-dengpao flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple anzhiyufont anzhiyu-icon-sanmingzhi flat"><p>剪刀石头布</p></div><div class="note green anzhiyufont anzhiyu-icon-ic_train flat"><p>前端最讨厌的浏览器</p></div><p><code>fontawesome 图标</code>，开启主题配置文件中的<code>icons.fontawesome</code>为<code>true</code>后可见</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021 年快到了….</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-fan flat"><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div></li><li><p>disabled 样式<br><code>主题内置阿里图标</code></p><div class="note anzhiyufont anzhiyu-icon-rocket disabled"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue anzhiyufont anzhiyu-icon-bullhorn disabled"><p>2022 年快到了….</p></div><div class="note pink anzhiyufont anzhiyu-icon-instagram disabled"><p>小心开车 安全至上</p></div><div class="note red anzhiyufont anzhiyu-icon-fan disabled"><p>这是三片呢？还是四片？</p></div><div class="note orange anzhiyufont anzhiyu-icon-dengpao disabled"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple anzhiyufont anzhiyu-icon-sanmingzhi disabled"><p>剪刀石头布</p></div><div class="note green anzhiyufont anzhiyu-icon-ic_train disabled"><p>前端最讨厌的浏览器</p></div><p><code>fontawesome 图标</code>，开启主题配置文件中的<code>icons.fontawesome</code>为<code>true</code>后可见</p><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021 年快到了….</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-fan disabled"><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div></li><li><p>no-icon 样式</p><div class="note no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue no-icon flat"><p>2021 年快到了….</p></div><div class="note pink no-icon flat"><p>小心开车 安全至上</p></div><div class="note red no-icon flat"><p>这是三片呢？还是四片？</p></div><div class="note orange no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple no-icon flat"><p>剪刀石头布</p></div><div class="note green no-icon flat"><p>前端最讨厌的浏览器</p></div></li></ol>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="note-5"><details class="folding-tag" ><summary> 方法一 </summary>              <div class='content'>              <ol><li><p><code>simple</code>样式</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>modern</code>样式</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note modern %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default modern %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary modern %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success modern %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info modern %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning modern %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger modern %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>flat</code>样式</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note flat %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default flat %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary flat %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success flat %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info flat %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning flat %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger flat %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>disabled</code>样式</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note disabled %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default disabled %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary disabled %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success disabled %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info disabled %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning disabled %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger disabled %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>no-icon</code>样式</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note no-icon %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default no-icon %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary no-icon %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success no-icon %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info no-icon %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning no-icon %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger no-icon %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol>              </div>            </details><details class="folding-tag" ><summary> 方法二 </summary>              <div class='content'>              <p>图标支持 <code>fontawesome</code> 和 <code>主题内置的阿里图标</code>，使用方法为加上对应的类名，<code>fontawesome</code>图标需开启主题配置文件中<code>icons.fontawesome</code>，默认未开启 fontawesome</p><ol><li><p>simple 样式<br><code>主题内置阿里图标</code></p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'anzhiyufont anzhiyu-icon-rocket' simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'anzhiyufont anzhiyu-icon-bullhorn' simple %&#125;2022 年快到了....&#123;% endnote %&#125;&#123;% note pink 'anzhiyufont anzhiyu-icon-instagram' simple %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'anzhiyufont anzhiyu-icon-fan' simple%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'anzhiyufont anzhiyu-icon-dengpao' simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'anzhiyufont anzhiyu-icon-sanmingzhi' simple %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'anzhiyufont anzhiyu-icon-ic_train' simple %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>fontawesome 图标</code>，开启主题配置文件中的<code>icons.fontawesome</code>为<code>true</code>后可见</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'fab fa-cc-visa' simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'fas fa-bullhorn' simple %&#125;2022 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' simple %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'icon-fan' simple%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' simple %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' simple %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'fab fa-internet-explorer' simple %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>modern 样式<br><code>主题内置阿里图标</code></p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'anzhiyufont anzhiyu-icon-rocket' modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'anzhiyufont anzhiyu-icon-bullhorn' modern %&#125;2022 年快到了....&#123;% endnote %&#125;&#123;% note pink 'anzhiyufont anzhiyu-icon-instagram' modern %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'anzhiyufont anzhiyu-icon-fan' modern%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'anzhiyufont anzhiyu-icon-dengpao' modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'anzhiyufont anzhiyu-icon-sanmingzhi' modern %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'anzhiyufont anzhiyu-icon-ic_train' modern %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>fontawesome 图标</code>，开启主题配置文件中的<code>icons.fontawesome</code>为<code>true</code>后可见</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'fab fa-cc-visa' modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'fas fa-bullhorn' modern %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' modern %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'icon-fan' modern%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' modern %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' modern %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'fab fa-internet-explorer' modern %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>flat 样式<br><code>主题内置阿里图标</code></p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'anzhiyufont anzhiyu-icon-rocket' flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'anzhiyufont anzhiyu-icon-bullhorn' flat %&#125;2022 年快到了....&#123;% endnote %&#125;&#123;% note pink 'anzhiyufont anzhiyu-icon-instagram' flat %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'anzhiyufont anzhiyu-icon-fan' flat%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'anzhiyufont anzhiyu-icon-dengpao' flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'anzhiyufont anzhiyu-icon-sanmingzhi' flat %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'anzhiyufont anzhiyu-icon-ic_train' flat %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>fontawesome 图标<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>，开启主题配置文件中的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>icons.fontawesome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>为<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>后可见<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>&#123;% note 'fab fa-cc-visa' flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'fas fa-bullhorn' flat %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' flat %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'icon-fan' flat%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' flat %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' flat %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'fab fa-internet-explorer' flat %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>disabled 样式<br><code>主题内置阿里图标</code></p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'anzhiyufont anzhiyu-icon-rocket' disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'anzhiyufont anzhiyu-icon-bullhorn' disabled %&#125;2022 年快到了....&#123;% endnote %&#125;&#123;% note pink 'anzhiyufont anzhiyu-icon-instagram' disabled %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'anzhiyufont anzhiyu-icon-fan' disabled%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'anzhiyufont anzhiyu-icon-dengpao' disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'anzhiyufont anzhiyu-icon-sanmingzhi' disabled %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'anzhiyufont anzhiyu-icon-ic_train' disabled %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>fontawesome 图标</code>，开启主题配置文件中的<code>icons.fontawesome</code>为<code>true</code>后可见</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'fab fa-cc-visa' disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue 'fas fa-bullhorn' disabled %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' disabled %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red 'icon-fan' disabled %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' disabled %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' disabled %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green 'fab fa-internet-explorer' disabled %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>no-icon 样式</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue no-icon %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink no-icon %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red no-icon %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple no-icon %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green no-icon %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)&lt;br&gt;🐟 安知鱼 已经更新到 &lt;a href=&quot;https://github.c</summary>
      
    
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/categories/AnZhiYu/"/>
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/tags/AnZhiYu/"/>
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>AnZhiYu主题安装文档（二）</title>
    <link href="https://anzhiy.cn/posts/ce04.html"/>
    <id>https://anzhiy.cn/posts/ce04.html</id>
    <published>2023-03-31T11:55:44.000Z</published>
    <updated>2023-04-19T03:36:53.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning flat"><p>本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)<br>🐟 安知鱼 已经更新到 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu/releases/tag/1.1.7">1.1.7</a></p></div><h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><p>修改站点配置文件 <code>_config.yml</code>，不是主题配置文件。</p><p>默认语言是 en</p><p>主题支持三种语言</p><ul><li>default(en)</li><li>zh-CN (简体中文)</li><li>zh-TW (繁体中文)</li></ul><h2 id="网站资料"><a href="#网站资料" class="headerlink" title="网站资料"></a>网站资料</h2><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改博客根目录的<code>_config.yml</code>，请注意如果需要适配 pjax 必须填写<code>description</code>字段，以保证需要重载的 dom 数量一致。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/05/642cfb7d42a1f.webp"></p><h2 id="导航配置"><a href="#导航配置" class="headerlink" title="导航配置"></a>导航配置</h2><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token key atrule">文章</span><span class="token punctuation">:</span>    <span class="token key atrule">隧道</span><span class="token punctuation">:</span> /archives/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>box<span class="token punctuation">-</span>archive    <span class="token key atrule">分类</span><span class="token punctuation">:</span> /categories/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>shapes    <span class="token key atrule">标签</span><span class="token punctuation">:</span> /tags/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>tags  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token key atrule">友人帐</span><span class="token punctuation">:</span> /link/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>link    <span class="token key atrule">朋友圈</span><span class="token punctuation">:</span> /fcircle/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>artstation    <span class="token key atrule">留言板</span><span class="token punctuation">:</span> /comments/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>envelope  <span class="token key atrule">我的</span><span class="token punctuation">:</span>    <span class="token key atrule">音乐馆</span><span class="token punctuation">:</span> /music/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>music    <span class="token key atrule">追番页</span><span class="token punctuation">:</span> /bangumis/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>bilibili1    <span class="token key atrule">相册集</span><span class="token punctuation">:</span> /album/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>images    <span class="token key atrule">小空调</span><span class="token punctuation">:</span> /air<span class="token punctuation">-</span>conditioner/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>fan  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token key atrule">关于本人</span><span class="token punctuation">:</span> /about/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>zhifeiji    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token key atrule">随便逛逛</span><span class="token punctuation">:</span> javascript<span class="token punctuation">:</span>toRandomPost() <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>shoe<span class="token punctuation">-</span>prints1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>必须是 <code>/xxx/</code>，后面<code>||</code>分开，然后写图标名。</p><p>如果不希望显示图标，图标名可不写。</p><div class="note warning flat"><p>注意： 导航的文字可自行更改</p></div><p>例如：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token key atrule">Article</span><span class="token punctuation">:</span>    <span class="token key atrule">Tunnel</span><span class="token punctuation">:</span> /archives/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>box<span class="token punctuation">-</span>archive    <span class="token key atrule">Classification</span><span class="token punctuation">:</span> /categories/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>shapes    <span class="token key atrule">Label</span><span class="token punctuation">:</span> /tags/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>tags  <span class="token key atrule">Friend</span><span class="token punctuation">:</span>    <span class="token key atrule">Friends account</span><span class="token punctuation">:</span> /link/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>link    <span class="token key atrule">Moments</span><span class="token punctuation">:</span> /fcircle/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>artstation    <span class="token key atrule">Message board</span><span class="token punctuation">:</span> /comments/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>envelope  <span class="token key atrule">My</span><span class="token punctuation">:</span>    <span class="token key atrule">Music Hall</span><span class="token punctuation">:</span> /music/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>music    <span class="token key atrule">Chasing</span><span class="token punctuation">:</span> /bangumis/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>bilibili1    <span class="token key atrule">Album Set</span><span class="token punctuation">:</span> /album/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>images    <span class="token key atrule">Conditioning</span><span class="token punctuation">:</span> /air<span class="token punctuation">-</span>conditioner/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>fan  <span class="token key atrule">About</span><span class="token punctuation">:</span> /about/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>zhifeiji<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433a6d2041e3.png" alt="导航菜单相关配置"></p><h2 id="导航栏设置"><a href="#导航栏设置" class="headerlink" title="导航栏设置"></a>导航栏设置</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># nav相关配置</span><span class="token key atrule">nav</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">travelling</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">clock</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">menu</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">title</span><span class="token punctuation">:</span> 网页      <span class="token key atrule">item</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 博客          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> /img/favicon.png    <span class="token punctuation">-</span> <span class="token key atrule">title</span><span class="token punctuation">:</span> 项目      <span class="token key atrule">item</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安知鱼图床          <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//image.anzhiy.cn/          <span class="token key atrule">icon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//image.anzhiy.cn/favicon.ico<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>enable</td><td>是否启用 nav 左侧项目按钮，仅控制左侧项目按钮</td></tr><tr><td>travelling</td><td>是否启用 nav 开往按钮</td></tr><tr><td>clock</td><td>是否启用 nav 左侧<a href="https://widget.qweather.com/">和风天气</a></td></tr><tr><td>menu</td><td>nav 左侧项目按钮内的菜单</td></tr><tr><td>menu.title</td><td>nav 左侧项目按钮内的菜单标题</td></tr><tr><td>menu.item</td><td>nav 左侧项目按钮内的菜单项</td></tr><tr><td>menu.item</td><td>nav 左侧项目按钮内的菜单项</td></tr><tr><td>menu.item.name</td><td>nav 左侧项目按钮内的菜单项标题</td></tr><tr><td>menu.item.link</td><td>nav 左侧项目按钮内的菜单项链接</td></tr><tr><td>menu.item.icon</td><td>nav 左侧项目按钮内的菜单项图标</td></tr></tbody></table><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433aa002f288.webp"></p><h2 id="代码块配置"><a href="#代码块配置" class="headerlink" title="代码块配置"></a>代码块配置</h2><div class="note info flat"><p>代码块中的所有功能只适用于 Hexo 自带的代码渲染<br>如果使用第三方的渲染器，不一定会有效</p></div><h3 id="代码高亮主题"><a href="#代码高亮主题" class="headerlink" title="代码高亮主题"></a>代码高亮主题</h3><p><code>AnZhiYu</code> 支持 6 种代码高亮样式：</p><ul><li>darker</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ul><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">highlight_theme</span><span class="token punctuation">:</span> light<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><div class="tabs" id="代码块样式"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#代码块样式-1">darker</button></li><li class="tab"><button type="button" data-href="#代码块样式-2">pale night</button></li><li class="tab"><button type="button" data-href="#代码块样式-3">light</button></li><li class="tab"><button type="button" data-href="#代码块样式-4">ocean</button></li><li class="tab"><button type="button" data-href="#代码块样式-5">mac</button></li><li class="tab"><button type="button" data-href="#代码块样式-6">mac light</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="代码块样式-1"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433acf03c029.png" alt="darker"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="代码块样式-2"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433acf02c312.png" alt="pale night"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="代码块样式-3"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433acf0382d1.png" alt="light"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="代码块样式-4"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433acf03185f.png" alt="ocean"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="代码块样式-5"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433acf031c0d.png" alt="mac"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="代码块样式-6"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433acf038752.png" alt="mac light"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h3 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h3><p>主题支持代码复制功能，修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">highlight_copy</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433ae3ceca9b.png" alt="代码复制"></p><h3 id="代码框展开-x2F-关闭"><a href="#代码框展开-x2F-关闭" class="headerlink" title="代码框展开&#x2F;关闭"></a>代码框展开&#x2F;关闭</h3><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击&gt;可展开代码</p><ul><li>true 全部代码框不展开，需点击&gt;打开</li><li>false 代码框展开，有&gt;点击按钮</li><li>none 不显示&gt;按钮</li></ul><p>修改 主题配置文件</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">highlight_shrink</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#代码框不展开，需点击 '>' 打开</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><div class="note info flat"><p>你也可以在 post&#x2F;page 页对应的 markdown 文件 front-matter 添加 highlight_shrink 来独立配置。</p><p>当<strong>主题配置文件</strong>中的 <code>highlight_shrink</code> 设为 true 时，可在 front-matter 添加 <code>highlight_shrink: false</code> 来单独配置文章展开代码框。</p><p>当<strong>主题配置文件</strong>中的 <code>highlight_shrin</code>k 设为 false 时，可在 front-matter 添加 <code>highlight_shrink: true </code>来单独配置文章收缩代码框。</p></div><p><code>highlight_shrink: true</code><br><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433b421da871.png!blogimg"><br><code>highlight_shrink: false</code><br><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433b421dea9b.png!blogimg"><br><code>highlight_shrink: none</code><br><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433b421df10e.png!blogimg"></p><h3 id="代码换行"><a href="#代码换行" class="headerlink" title="代码换行"></a>代码换行</h3><p>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">code_word_wrap</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果你是使用 <code>highlight</code> 渲染，需要找到你站点的 Hexo 配置文件<code>_config.yml</code>，将 <code>line_number</code> 改成 <code>false</code>:</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># &lt;- 改这里</span>  <span class="token key atrule">auto_detect</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  tab_replace<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果你是使用 <code>prismjs</code> 渲染，需要找到你站点的 Hexo 配置文件<code>_config.yml</code>，将 <code>line_number</code> 改成 <code>false</code>:</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">prismjs</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">preprocess</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># &lt;- 改这里</span>  <span class="token key atrule">tab_replace</span><span class="token punctuation">:</span> <span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>设置<code>code_word_wrap</code>之前:</p></blockquote><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433b76aa968f.png!blogimg"></p><blockquote><p>设置<code>code_word_wrap</code>之后:</p></blockquote><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433b76aa955d.png!blogimg"></p><h3 id="代码高度限制"><a href="#代码高度限制" class="headerlink" title="代码高度限制"></a>代码高度限制</h3><p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮，默认 330，可配置为 <code>false</code>。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">highlight_height_limit</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># unit: px</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>注意：</p><ol><li><p>单位是 <code>px</code>，直接添加数字，如 200</p></li><li><p>实际限制高度为 <code>highlight_height_limit + 30 px</code> ，多增加 30px 限制，目的是避免代码高度只超出 highlight_height_limit 一点时，出现展开按钮，展开没内容。</p></li><li><p>不适用于隐藏后的代码块（ css 设置 display: none）</p></li></ol><h2 id="图标配置"><a href="#图标配置" class="headerlink" title="图标配置"></a>图标配置</h2><p>AnZhiYu 支持 <a href="https://fontawesome.com/icons?from=io">font-awesome v6</a> 图标(需配置自己的图标)，与 <a href="https://fontawesome.com/">fontawesome</a> 图标(需开启<code>fontawesome</code>)，使用阿里图标需配置主题配置文件中<code>iconfont</code>字段，默认内置部分图标，修改主题配置文件，视频教程: <a href="https://www.bilibili.com/video/BV1Cv4y1n7FW/?spm_id_from=333.999.0.0&vd_source=4d9717102296e4b7a60ecdfad55ae2dd">安知鱼主题社交图标配置</a></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">icons</span><span class="token punctuation">:</span>  <span class="token key atrule">ali_iconfont</span><span class="token punctuation">:</span> <span class="token comment"># 阿里图标symbol 引用链接，主题会进行加载 symbol 引用，使用icon开头即可svg引入</span>  <span class="token key atrule">fontawesome</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#是否启用fontawesome6图标</span>  <span class="token key atrule">fontawesome_animation_css</span><span class="token punctuation">:</span> <span class="token comment">#fontawesome_animation 如果有就会加载，示例值：https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>社交图标，书写格式 <code>图标名：url || 描述性文字 || hover 动画名</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># social settings (社交图标设置)</span><span class="token comment"># formal:</span><span class="token comment">#   icon: link || the description || Animation</span><span class="token key atrule">social</span><span class="token punctuation">:</span>  <span class="token comment"># Github: https://github.com/anzhiyu-c || icon-gitHub || faa-tada</span>  <span class="token comment"># Email: https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=2268025923@qq.com || icon-youxiang || faa-tada</span>  <span class="token comment"># RSS: atom.xml || icon-rss || faa-tada</span>  <span class="token comment"># BiliBili: https://space.bilibili.com/372204786 || icon-bilibili || faa-tada</span>  <span class="token comment"># QQ: tencent://Message/?Uin=2268025923&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes || icon-QQ1 || faa-tada</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如需 hover 动画生效需配置<code>fontawesome_animation_css</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">icons</span><span class="token punctuation">:</span>  <span class="token key atrule">ali_iconfont</span><span class="token punctuation">:</span> <span class="token comment"># 阿里图标链接，主题会进行加载</span>  <span class="token key atrule">fontawesome</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#是否启用fontawesome6图标</span>  <span class="token key atrule">fontawesome_animation_css</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/hexo<span class="token punctuation">-</span>butterfly<span class="token punctuation">-</span>tag<span class="token punctuation">-</span>plugins<span class="token punctuation">-</span>plus@1.0.17/lib/assets/font<span class="token punctuation">-</span>awesome<span class="token punctuation">-</span>animation.min.css <span class="token comment">#fontawesome_animation 如果有就会加载</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h2><div class="note info flat"><p>如果不要显示顶部图，可直接配置 <code>disable_top_img: true</code></p></div><div class="note success flat"><p>顶部图的获取顺序，如果都没有配置，则不显示顶部图。</p><ol><li><p>页面顶部图的获取顺序：</p><p><code>各自配置的 top_img &gt; 配置文件的 default_top_img</code></p></li><li><p>文章页顶部图的获取顺序：</p><p><code>各自配置的 top_img &gt; cover &gt; 配置文件的 default_top_img</code></p></li></ol></div><p>配置中的值：</p><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>index_img</td><td>主页的 top_img</td></tr><tr><td>default_top_img</td><td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td>archive_img</td><td>归档页面的 top_img</td></tr><tr><td>tag_img</td><td>tag 子页面 的 默认 top_img</td></tr><tr><td>tag_per_img</td><td>tag 子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td>category_img</td><td>category 子页面 的 默认 top_img</td></tr><tr><td>category_per_img</td><td>category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table><p>其它页面 （tags&#x2F;categories&#x2F;自建页面）和 文章页 的 <code>top_img</code> ，请到对应的 md 页面设置 <code>front-matter</code> 中的 <code>top_img</code></p><p>以上所有的 <code>top_img</code> 可配置以下值</p><table><thead><tr><th>配置的值</th><th>效果</th></tr></thead><tbody><tr><td>留空</td><td>显示默认的 top_img（如有），否则显示默认的顔色<br/>（文章页 top_img 留空的话，会显示 cover 的值）</td></tr><tr><td>img 链接</td><td>图片的链接，显示所配置的图片</td></tr><tr><td>顔色(<br/>HEX 值 - #0000FF<br/>RGB 值 - rgb(0,0,255)<br/>顔色单词 - orange<br/>渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)</td><td>对应的顔色</td></tr><tr><td>transparent</td><td>透明</td></tr><tr><td>false</td><td>不显示 top_img</td></tr></tbody></table><p>并不推荐为每个 tag 和每个 category 都配置不同的顶部图，因为配置太多会拖慢生成速度</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">tag_per_img：  <span class="token key atrule">aplayer</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//xxxxxx.png  <span class="token key atrule">android</span><span class="token punctuation">:</span> ddddddd.pngcategory_per_img：  <span class="token key atrule">随想</span><span class="token punctuation">:</span> hdhdh.png  <span class="token key atrule">推荐</span><span class="token punctuation">:</span> ddjdjdjd.png<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h2><p>【推荐】<code>hexo-generator-index</code> 从 2.0.0 开始，已经支持文章置顶功能。你可以直接在文章的 <code>front-matter</code> 区域里添加 <code>sticky: 1</code> 属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p><h2 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h2><p>文章的 markdown 文档上,在 <code>Front-matter</code> 添加 <code>cover</code> ,并填上要显示的图片地址。</p><p>如果不配置 <code>cover</code>,可以设置显示默认的 cover。</p><p>如果不想在首页显示 cover, 可以设置为 <code>false。</code></p><blockquote><p>文章封面的获取顺序 <code>Front-matter</code> 的 <code>cover</code> &gt; <code>配置文件的 default_cover</code> &gt; <code>false</code></p></blockquote><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">cover</span><span class="token punctuation">:</span>  <span class="token comment"># 是否显示文章封面</span>  <span class="token key atrule">index_enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">aside_enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">archives_enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># 封面显示的位置</span>  <span class="token comment"># 三个值可配置 left , right , both</span>  <span class="token key atrule">position</span><span class="token punctuation">:</span> both  <span class="token comment"># 当没有设置cover时，默认的封面显示</span>  default_cover<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>index_enable</td><td>主页是否显示文章封面图</td></tr><tr><td>aside_enable</td><td>侧栏是否显示文章封面图</td></tr><tr><td>archives_enable</td><td>归档页面是否显示文章封面图</td></tr><tr><td>position</td><td>主页卡片文章封面的显示位置<br/>- left：全部显示在左边<br/>- right：全部显示在右边<br/>- both：封面位置以左右左右轮流显示</td></tr><tr><td>default_cover</td><td>默认的 cover, 可配置图片链接&#x2F;顔色&#x2F;渐变色等</td></tr></tbody></table><p>当配置多张图片时,会随机选择一张作为 cover.此时写法应为</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">default_cover</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg.png  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg2.png  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg3.png<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433ddeabbae4.webp!blogimg"></p><h2 id="文章-meta-显示"><a href="#文章-meta-显示" class="headerlink" title="文章 meta 显示"></a>文章 meta 显示</h2><p>这个选项是用来显示文章的相关信息的。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">post_meta</span><span class="token punctuation">:</span>  <span class="token key atrule">page</span><span class="token punctuation">:</span>    <span class="token key atrule">date_type</span><span class="token punctuation">:</span> both <span class="token comment"># created or updated or both 主页文章日期是创建日或者更新日或都显示</span>    <span class="token key atrule">date_format</span><span class="token punctuation">:</span> relative <span class="token comment"># date/relative 显示日期还是相对日期</span>    <span class="token key atrule">categories</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># true or false 主页是否显示分类</span>    <span class="token key atrule">tags</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># true or false 主页是否显示标签</span>    <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># true or false 显示描述性文字</span>  <span class="token key atrule">post</span><span class="token punctuation">:</span>    <span class="token key atrule">date_type</span><span class="token punctuation">:</span> both <span class="token comment"># created or updated or both 文章页日期是创建日或者更新日或都显示</span>    <span class="token key atrule">date_format</span><span class="token punctuation">:</span> relative <span class="token comment"># date/relative 显示日期还是相对日期</span>    <span class="token key atrule">categories</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># true or false 文章页是否显示分类</span>    <span class="token key atrule">tags</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># true or false 文章页是否显示标签</span>    <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># true or false 显示描述性文字</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="post_meta"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#post_meta-1">主页</button></li><li class="tab"><button type="button" data-href="#post_meta-2">文章页</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="post_meta-1"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433ede80d024.webp" alt="主页"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="post_meta-2"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433ede8166d0.png" alt="文章页"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><p><code>date_format</code>配置时间显示明确时间还是相对时间</p><div class="tabs" id="date_format"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#date_format-1">相对时间</button></li><li class="tab"><button type="button" data-href="#date_format-2">明确时间</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="date_format-1"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433eeb22fcca.webp!blogimg" alt="相对时间"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="date_format-2"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433eeb22fd0f.webp!blogimg" alt="明确时间"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h2 id="文章版权"><a href="#文章版权" class="headerlink" title="文章版权"></a>文章版权</h2><p>为你的博客文章展示文章版权和许可协议。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">post_copyright</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">decode</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">author_href</span><span class="token punctuation">:</span>  <span class="token key atrule">license</span><span class="token punctuation">:</span> CC BY<span class="token punctuation">-</span>NC<span class="token punctuation">-</span>SA 4.0  <span class="token key atrule">license_url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//creativecommons.org/licenses/by<span class="token punctuation">-</span>nc<span class="token punctuation">-</span>sa/4.0/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>由于 <code>Hexo 4.1</code> 开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置 <code>decode: true</code> 来显示中文网址。</p><p>如果有文章（例如：转载文章）不需要显示版权，可以在文章 <code>Front-matter</code> 单独设置</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">copyright</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>支持对单独文章设置版权信息，可以在文章 <code>Front-matter</code> 单独设置</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">copyright_author</span><span class="token punctuation">:</span> xxxx<span class="token key atrule">copyright_author_href</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//xxxxxx.com<span class="token key atrule">copyright_url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//xxxxxx.com<span class="token key atrule">copyright_info</span><span class="token punctuation">:</span> 此文章版权归xxxxx所有，如有转载，请注明来自原作者<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>版权显示截图</strong></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433efcd40633.png!blogimg" alt="版权显示截图"></p><h2 id="文章打赏"><a href="#文章打赏" class="headerlink" title="文章打赏"></a>文章打赏</h2><p>在你每篇文章的结尾，可以添加打赏按钮。相关二维码可以自行配置。</p><p>对于没有提供二维码的，可配置一张软件的 icon 图片，然后在 link 上添加相应的打赏链接。用户点击图片就会跳转到链接去。</p><p>link 可以不写，会默认为图片的链接。coinAudio 为投币的音频。</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">reward</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">coinAudio</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/akilar<span class="token punctuation">-</span>candyassets@1.0.36/audio/aowu.m4a  <span class="token key atrule">QR_code</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@1.1.6/img/post/common/qrcode<span class="token punctuation">-</span>weichat.png      <span class="token key atrule">link</span><span class="token punctuation">:</span>      <span class="token key atrule">text</span><span class="token punctuation">:</span> wechat    <span class="token punctuation">-</span> <span class="token key atrule">img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@1.1.6/img/post/common/qrcode<span class="token punctuation">-</span>alipay.png      <span class="token key atrule">link</span><span class="token punctuation">:</span>      <span class="token key atrule">text</span><span class="token punctuation">:</span> alipay<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f0b4b8693.png" alt="文章打赏截图"></p><h2 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h2><p>在文章页，会有一个目录，用于显示 TOC。修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">toc</span><span class="token punctuation">:</span>  <span class="token key atrule">post</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">page</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">number</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">expand</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">style_simple</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># for post</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>属性</th><th>解释</th></tr></thead><tbody><tr><td>post</td><td>文章页是否显示 TOC</td></tr><tr><td>page</td><td>普通页面是否显示 TOC</td></tr><tr><td>number</td><td>是否显示章节数</td></tr><tr><td>expand</td><td>是否展开 TOC</td></tr><tr><td>style_simple</td><td>简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）</td></tr></tbody></table><div class="tabs" id="toc截图"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#toc截图-1">Toc PC</button></li><li class="tab"><button type="button" data-href="#toc截图-2">Toc Mobile</button></li><li class="tab"><button type="button" data-href="#toc截图-3">style_simple: true</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="toc截图-1"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f2bea649b.png!blogimg" alt="Toc PC"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="toc截图-2"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f2be9811f.png!blogimg" alt="Toc Mobile"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="toc截图-3"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f2beaa447.png!blogimg" alt="style_simple: true"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><p><strong>为特定的文章配置</strong></p><p>在你的文章 md 文件的头部，加入 toc_number 和 toc，并配置 true 或者 false 即可。</p><p>主题会优先判断文章 Markdown 的 Front-matter 是否有配置，如有，则以 Front-matter 的配置为准。否则，以主题配置文件中的配置为准</p><h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><div class="note warning flat"><p>当文章封面设置为 <code>false</code> 时，或者没有获取到封面配置，相关文章背景将会显示主题色。</p></div><p>相关文章推荐的原理是根据文章 tags 的比重来推荐</p><p>修改 <code>主题配置文件</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">related_post</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">6</span> <span class="token comment"># 显示推荐文章数目</span>  <span class="token key atrule">date_type</span><span class="token punctuation">:</span> created <span class="token comment"># or created or updated 文章日期显示创建日或者更新日</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f4e1be3af.webp!blogimg" alt="相关文章截图"></p><h2 id="文章过期提醒"><a href="#文章过期提醒" class="headerlink" title="文章过期提醒"></a>文章过期提醒</h2><p>可设置是否显示文章过期提醒，以更新时间为基准。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Displays outdated notice for a post (文章过期提醒)</span><span class="token key atrule">noticeOutdate</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">style</span><span class="token punctuation">:</span> flat <span class="token comment"># style: simple/flat</span>  <span class="token key atrule">limit_day</span><span class="token punctuation">:</span> <span class="token number">365</span> <span class="token comment"># When will it be shown</span>  <span class="token key atrule">position</span><span class="token punctuation">:</span> top <span class="token comment"># position: top/bottom</span>  <span class="token key atrule">message_prev</span><span class="token punctuation">:</span> It has been  <span class="token key atrule">message_next</span><span class="token punctuation">:</span> days since the last update<span class="token punctuation">,</span> the content of the article may be outdated.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>limit_day</code>： 距离更新时间多少天才显示文章过期提醒</p><p><code>message_prev</code>： 天数之前的文字</p><p><code>message_next</code>：天数之后的文字</p><div class="tabs" id="文章过期提醒截图"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#文章过期提醒截图-1">style: flat</button></li><li class="tab"><button type="button" data-href="#文章过期提醒截图-2">style: simple</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="文章过期提醒截图-1"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f770b38e8.webp!blogimg" alt="style: flat"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="文章过期提醒截图-2"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f770b2017.webp!blogimg" alt="style: simple"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h2 id="文章编辑按钮"><a href="#文章编辑按钮" class="headerlink" title="文章编辑按钮"></a>文章编辑按钮</h2><p>在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Post edit</span><span class="token comment"># Easily browse and edit blog source code online.</span><span class="token key atrule">post_edit</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span>  <span class="token comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span>  url<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f83e60756.webp" alt="文章编辑按钮截图"></p><h2 id="文章分页按钮"><a href="#文章分页按钮" class="headerlink" title="文章分页按钮"></a>文章分页按钮</h2><div class="note warning flat"><p>当文章封面设置为 <code>false</code> 时，或者没有获取到封面配置，分页背景将会显示主题色。</p></div><p>可设置分页的逻辑，也可以关闭分页显示</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># post_pagination (分页)</span><span class="token comment"># value: 1 || 2 || false</span><span class="token comment"># 1: The 'next post' will link to old post</span><span class="token comment"># 2: The 'next post' will link to new post</span><span class="token comment"># false: disable pagination</span><span class="token key atrule">post_pagination</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th align="center">参数</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">post_pagination: false</td><td align="center">关闭分页按钮</td></tr><tr><td align="center">post_pagination: 1</td><td align="center">下一篇显示的是旧文章</td></tr><tr><td align="center">post_pagination: 2</td><td align="center">下一篇显示的是新文章</td></tr></tbody></table><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/10/6433f8f0876ae.webp" alt="文章分页截图"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)&lt;br&gt;🐟 安知鱼 已经更新到 &lt;a href=&quot;https://github.c</summary>
      
    
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/categories/AnZhiYu/"/>
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/tags/AnZhiYu/"/>
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>AnZhiYu主题安装文档（一）</title>
    <link href="https://anzhiy.cn/posts/220c.html"/>
    <id>https://anzhiy.cn/posts/220c.html</id>
    <published>2023-03-26T18:55:44.000Z</published>
    <updated>2023-04-22T03:21:06.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning flat"><p>本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)<br>🐟 安知鱼 已经更新到 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu/releases/tag/1.1.7">1.1.7</a></p></div><h2 id="Front-matter-的基本认识"><a href="#Front-matter-的基本认识" class="headerlink" title="Front-matter 的基本认识"></a>Front-matter 的基本认识</h2><p><code>Front-matter</code> 是 <code>markdown</code> 文件最上方以 <code>---</code> 分隔的区域，用于指定个别档案的变数。</p><p>其中又分为两种</p><ol><li>Page Front-matter 用于页面配置</li><li>Post Front-matter 用于文章页配置</li></ol><div class="note info flat"><p>如果标注可选的参数，可根据自己需要添加，不用全部都写在 markdown 里</p></div><div class="tabs" id="front-matter"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#front-matter-1">Page Front-matter</button></li><li class="tab"><button type="button" data-href="#front-matter-2">Post Front-matter</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="front-matter-1"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title:date:updated:type:comments:description:keywords:top_img:mathjax:katex:aside:aplayer:highlight_shrink:type:</span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>写法</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>【必需】页面标题</td></tr><tr><td>date</td><td>【必需】页面创建日期</td></tr><tr><td>type</td><td>【必需】标签、分类、关于、音乐馆、友情链接、相册、相册详情、朋友圈、即刻页面需要配置</td></tr><tr><td>updated</td><td>【可选】页面更新日期</td></tr><tr><td>description</td><td>【可选】页面描述</td></tr><tr><td>keywords</td><td>【可选】页面关键字</td></tr><tr><td>comments</td><td>【可选】显示页面评论模块(默认 true)</td></tr><tr><td>top_img</td><td>【可选】页面顶部图片</td></tr><tr><td>mathjax</td><td>【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="front-matter-2"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title:date:updated:tags:categories:keywords:description:top_img:comments:cover:toc:toc_number:toc_style_simple:copyright:copyright_author:copyright_author_href:copyright_url:copyright_info:mathjax:katex:aplayer:highlight_shrink:aside:swiper_index: 1top_group_index: 1background: "#fff"</span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>写法</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>【必需】文章标题</td></tr><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】文章更新日期</td></tr><tr><td>tags</td><td>【可选】文章标签</td></tr><tr><td>categories</td><td>【可选】文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】文章描述</td></tr><tr><td>top_img</td><td>【可选】文章顶部图片</td></tr><tr><td>cover</td><td>【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false&#x2F;图片地址&#x2F;留空)</td></tr><tr><td>comments</td><td>【可选】显示文章评论模块(默认 true)</td></tr><tr><td>toc</td><td>【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)</td></tr><tr><td>toc_number</td><td>【可选】显示 toc_number(默认为设置中 toc 的 number 配置)</td></tr><tr><td>toc_style_simple</td><td>【可选】显示 toc 简洁模式</td></tr><tr><td>copyright</td><td>【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)</td></tr><tr><td>copyright_author</td><td>【可选】文章版权模块的<code>文章作者</code></td></tr><tr><td>copyright_author_href</td><td>【可选】文章版权模块的<code>文章作者</code>链接</td></tr><tr><td>copyright_url</td><td>【可选】文章版权模块的<code>文章链接</code>链接</td></tr><tr><td>copyright_info</td><td>【可选】文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td>【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的<code>音乐</code> 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td>swiper_index</td><td>【可选】首页轮播图配置 index 索引，数字越小越靠前</td></tr><tr><td>top_group_index</td><td>【可选】首页右侧卡片组配置, 数字越小越靠前</td></tr><tr><td>background</td><td>【可选】文章背景可配置为 16 进制颜色值</td></tr></tbody></table><ol><li>首页轮播图配置: <code>swiper_index</code>, 数字越小越靠前</li><li>首页卡片配置: <code>top_group_index</code>, 数字越小越靠前</li><li>page 中<code>background</code>, 可配置为 16 进制颜色值</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><p>只需要在你的文章顶部的<code>Front-matter</code>配置这两个字段即可显示轮播图和推荐卡片</p><h2 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h2><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page tags<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>你会找到 <code>source/tags/index.md</code> 这个文件</p></li><li><p>修改这个文件：<br>记得添加 <code>type: &quot;tags&quot;</code></p></li></ol><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title: 标签date: 2021-04-06 12:01:51type: "tags"comments: falsetop_img: false</span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>type</td><td>【必须】页面类型，必须为 tags</td></tr><tr><td>comments</td><td>【可选】是否显示评论</td></tr><tr><td>top_img</td><td>【可选】是否显示顶部图</td></tr><tr><td>orderby</td><td>【可选】排序方式 ：random&#x2F;name&#x2F;length</td></tr><tr><td>order</td><td>【可选】排序次序： 1, asc for ascending; -1, desc for descending</td></tr></tbody></table><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/6432634045c13.png!blogimg" alt="标签页详情"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/6432637cecf77.png!blogimg" alt="标签页"></p><h2 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h2><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page categories<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>你会找到 <code>source/categories/index.md</code> 这个文件</p></li><li><p>修改这个文件：<br>记得添加 <code>type: &quot;categories&quot;</code></p></li></ol><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title: 分类date: 2022-02-23 17:56:00aside: falsetop_img: falsetype: "categories"</span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note info flat"><p>分类页面存在自定义界面，本站使用自定义页面显示。</p><details class="folding-tag" blue><summary> 自定义分类界面 </summary>              <div class='content'>              <ol><li>首先去除<code>source/categories/index.md</code>文件中的<code>type: &quot;categories&quot;</code></li><li>修改<code>source/categories/index.md</code>文件，具体内容可自行修改链接与文字。</li></ol><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title: 分类date: 2022-02-23 17:56:00aside: falsetop_img: false</span><span class="token punctuation">---</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token selector">#libCategories .card-wrap:hover .card-info:after</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 300%<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://npm.elemecdn.com/js-heo@1.0.11/3dCard/no3d.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>libCategories<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lib-cards<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>javascript:void(0);<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript">pjax<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"/categories/前端开发/"</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card</span> <span class="token attr-name">data-image</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://img02.anzhiy.cn/adminuploads/1/2022/09/05/6315e144528fb.webp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>前端<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>前端学习之路。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>card</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>javascript:void(0);<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript">pjax<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"/categories/大学生涯/"</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card</span> <span class="token attr-name">data-image</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://img02.anzhiy.cn/adminuploads/1/2022/09/05/6315e1433f197.webp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>大学生活<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>在大学期间发生的一些事儿。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>card</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>javascript:void(0);<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript">pjax<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"/categories/生活日常/"</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>card</span> <span class="token attr-name">data-image</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://img02.anzhiy.cn/adminuploads/1/2022/09/05/6315e142a69a9.webp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>生活<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>和好朋友👬们一起经历的有趣事。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>card</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/vue/2.6.14/vue.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">data-pjax</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn1.tianli0.top/npm/js-heo@1.0.11/3dCard/no3d.js<span class="token punctuation">"</span></span> <span class="token attr-name">data-pjax</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>              </div>            </details></div><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/643263a321142.png!blogimg" alt="分类页"></p><h2 id="首页即刻说说页面配置"><a href="#首页即刻说说页面配置" class="headerlink" title="首页即刻说说页面配置"></a>首页即刻说说页面配置</h2><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page essay<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li><p>你会找到 <code>source/essay/index.md</code> 这个文件</p></li><li><p>修改这个文件：<br>记得添加 <code>type: &quot;essay&quot;</code></p></li></ol><pre class="line-numbers language-MARKDOWN" data-language="MARKDOWN"><code class="language-MARKDOWN">---title: 即刻短文date: 2020-07-22 22:06:17comments: trueaside: falsetop_img: falsetype: essay---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 即刻短文  <span class="token key atrule">essay_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 音乐支持了参数设置自定义歌单      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2023/01/02      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/music/<span class="token punctuation">?</span>id=7269231710<span class="token important">&amp;server=tencent</span>    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 关于页的打赏仿了b站的充电功能，使用svg绘图➕一些动画参数移动，应该不会被b站警告吧😜，另外文章也支持了顶部随机b站同款春秋冬banner。      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/12/18    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> React中不能直接修改state的一个重要原因是在性能优化时的prueComponment会进行浅层比较会认为是用一个对象且不能进入队列中批量更新      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/12/10    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 好耶，马上就可以放假回家了！好想家里的好吃的😋！才不是想捏妹妹的脸了      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/12/06    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 全局音乐的动画也处理好了<span class="token punctuation">,</span> nice<span class="token tag">!</span>      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/11/13    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 把页脚<span class="token punctuation">,</span> 首页顶部全都魔改到本地了<span class="token punctuation">,</span> 方便后续魔改<span class="token punctuation">,</span> 音乐也改成胶囊的样式了<span class="token punctuation">,</span> 其实还是想让胶囊可拖拽<span class="token punctuation">,</span> 不可点击改变歌词位置的<span class="token punctuation">,</span> 但是弄了半天都没弄好就放弃了      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/11/13    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 朋友圈船新版本终于写完了<span class="token punctuation">,</span> 耶✌️      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/11/05      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/album/    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 终于把相册集搞定了<span class="token punctuation">,</span> 耶✌️<span class="token punctuation">,</span> 瀑布流在滑动滚动条一个视口范围上下100的情况执行一次<span class="token punctuation">,</span> 到底部停止监听让性能高了好多，再也不会布局混乱🤪了      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/10/25      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/album/    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 搜索🔍支持缩略图显示啦（默认获取文章内容的第一张图片）      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/10/23 08<span class="token punctuation">:</span><span class="token datetime number">00:00</span>      <span class="token key atrule">from</span><span class="token punctuation">:</span> 安知鱼    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 遇见彩虹🌈吃定彩虹      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/10/23 10<span class="token punctuation">:</span><span class="token datetime number">00:00</span>      <span class="token key atrule">image</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/64329399e285d.webp        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/64329399aa3bc.webp        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/6432939996dd7.webp    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> ThreeJs API真多丫      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/10/19    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 妹妹强制要求我买走了她的两幅画 <span class="token punctuation">-</span>¥30      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/10/02      <span class="token key atrule">image</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293997b92b.jpeg    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 歌曲推荐      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/09/25      <span class="token key atrule">aplayer</span><span class="token punctuation">:</span>        <span class="token key atrule">server</span><span class="token punctuation">:</span> tencent        <span class="token key atrule">id</span><span class="token punctuation">:</span> 001FGQba3i10mw    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> 做了一个噩梦<span class="token punctuation">,</span> 梦到从楼顶坠下去了。😷      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/09/24    <span class="token punctuation">-</span> <span class="token key atrule">content</span><span class="token punctuation">:</span> JOJO是真的好看！      <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/09/21      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.bilibili.com/bangumi/play/ss39431<span class="token punctuation">?</span>spm_id_from=333.337.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>主题配置文件中开启<code>menu</code>中关于和闲言碎语的注释，导航栏闲言碎语，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token comment"># 友链:</span>  <span class="token comment">#   友人帐: /link/ || icon-link</span>  <span class="token comment">#   朋友圈: /fcircle/ || icon-artstation</span>  <span class="token comment">#   留言板: /comments/ || icon-envelope</span>  <span class="token comment"># 我的:</span>  <span class="token comment">#   音乐馆: /music/ || icon-music</span>  <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>  <span class="token comment">#   相册集: /album/ || icon-images</span>  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token comment">#   关于本人: /about/ || icon-zhifeiji</span>    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>主题配置文件中开启<code>essay.enable</code>，自行设置顶部模块背景，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 即刻页面配置</span><span class="token key atrule">essay</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  top_background<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><div class="note warning flat"><p>示例数据中的图片不保证可用性，请自行更换为您自己的图床链接。图床相关知识&#x3D;&gt;<a href="https://anzhiy.cn/posts/2785.html">我的图床方案</a></p></div><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/643263bdd2aa4.png!blogimg" alt="即刻说说页面"></p><h2 id="友情链接配置"><a href="#友情链接配置" class="headerlink" title="友情链接配置"></a>友情链接配置</h2><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page <span class="token function">link</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>你会找到 <code>source/link/index.md</code> 这个文件</p></li><li><p>修改这个文件：<br>记得添加 <code>type: &quot;link&quot;</code></p><pre class="line-numbers language-MARKDOWN" data-language="MARKDOWN"><code class="language-MARKDOWN">---title: linkdate: 2020-12-01 22:19:45type: &#39;link&#39;---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>新建文件<code>[blog]\source\_data\link.yml</code>,没有<code>_data</code>文件夹的话也请自己新建。以下是默认友链格式示例(<del>自己写的教程，夹带点私货不过分吧，嘻嘻</del>)。打开<code>[blog]\source\_data\link.yml</code>，输入：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 框架  <span class="token key atrule">flink_style</span><span class="token punctuation">:</span> flexcard  <span class="token key atrule">link_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Hexo      <span class="token key atrule">hundredSuffix</span><span class="token punctuation">:</span> <span class="token string">""</span>      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//hexo.io/zh<span class="token punctuation">-</span>tw/      <span class="token key atrule">avatar</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg      <span class="token key atrule">descr</span><span class="token punctuation">:</span> 快速、简单且强大的网站框架    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> anzhiyu主题      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/      <span class="token key atrule">avatar</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg      <span class="token key atrule">descr</span><span class="token punctuation">:</span> 生活明朗，万物可爱      <span class="token key atrule">siteshot</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@1.1.6/img/post/common/anzhiy.cn.jpg<span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 推荐博客  <span class="token key atrule">flink_style</span><span class="token punctuation">:</span> flexcard  <span class="token key atrule">link_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安知鱼      <span class="token key atrule">hundredSuffix</span><span class="token punctuation">:</span> <span class="token string">""</span>      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/      <span class="token key atrule">avatar</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg      <span class="token key atrule">descr</span><span class="token punctuation">:</span> 生活明朗，万物可爱      <span class="token key atrule">siteshot</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@1.1.6/img/post/common/anzhiy.cn.jpg<span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 小伙伴  <span class="token key atrule">class_desc</span><span class="token punctuation">:</span> 那些人，那些事  <span class="token key atrule">flink_style</span><span class="token punctuation">:</span> anzhiyu  <span class="token key atrule">link_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安知鱼      <span class="token key atrule">hundredSuffix</span><span class="token punctuation">:</span> <span class="token string">""</span>      <span class="token key atrule">link</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//anzhiy.cn/      <span class="token key atrule">avatar</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg      <span class="token key atrule">descr</span><span class="token punctuation">:</span> 生活明朗，万物可爱<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>会根据 flink_style 产生两种效果，可选值有<code>flexcard</code>或者<code>anzhiyu</code></p><p>当友链数目超过 50 以后会触发，与博主共同进步板块，可以自行配置 <code>hundredSuffix: &quot;!w120&quot;</code>,该参数可以解决共同进步板块头像质量问题，配置后共同进步板块的头像会添加该后缀。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">flink_style</span><span class="token punctuation">:</span> flexcard <span class="token punctuation">|</span><span class="token punctuation">|</span> anzhiyu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>主题配置文件中开启<code>menu</code>中友链和友人帐的注释，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token key atrule">友人帐</span><span class="token punctuation">:</span> /link/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>link  <span class="token comment">#   朋友圈: /fcircle/ || icon-artstation</span>  <span class="token comment">#   留言板: /comments/ || icon-envelope</span>  <span class="token comment"># 我的:</span>  <span class="token comment">#   音乐馆: /music/ || icon-music</span>  <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>  <span class="token comment">#   相册集: /album/ || icon-images</span>  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token comment">#   关于本人: /about/ || icon-zhifeiji</span>    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/6432641611b97.png!blogimg" alt="友情链接页"></p><h2 id="关于页面配置"><a href="#关于页面配置" class="headerlink" title="关于页面配置"></a>关于页面配置</h2><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page about<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>你会找到 <code>source/about/index.md</code> 这个文件</p></li><li><p>修改这个文件：<br>记得添加 <code>type: &quot;about&quot;</code></p><pre class="line-numbers language-MARKDOWN" data-language="MARKDOWN"><code class="language-MARKDOWN">---title: 关于date: 2021-03-30 15:57:51aside: falsetop_img: falsebackground: &quot;#f8f9fe&quot;comments: falsetype: &quot;about&quot;---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>主题配置文件中开启<code>menu</code>中关于和关于本人的注释，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token key atrule">友人帐</span><span class="token punctuation">:</span> /link/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>link  <span class="token comment">#   朋友圈: /fcircle/ || icon-artstation</span>  <span class="token comment">#   留言板: /comments/ || icon-envelope</span>  <span class="token key atrule">我的</span><span class="token punctuation">:</span>    <span class="token key atrule">音乐馆</span><span class="token punctuation">:</span> /music/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>music  <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>  <span class="token comment">#   相册集: /album/ || icon-images</span>  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token key atrule">关于本人</span><span class="token punctuation">:</span> /about/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>zhifeiji    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>主题配置文件中开启<code>menu</code>中关于和关于本人的注释，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token key atrule">友人帐</span><span class="token punctuation">:</span> /link/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>link  <span class="token comment">#   朋友圈: /fcircle/ || icon-artstation</span>  <span class="token comment">#   留言板: /comments/ || icon-envelope</span>  <span class="token comment"># 我的:</span>  <span class="token comment">#   音乐馆: /music/ || icon-music</span>  <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>  <span class="token comment">#   相册集: /album/ || icon-images</span>  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token key atrule">关于本人</span><span class="token punctuation">:</span> /about/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>zhifeiji    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>新建<code>source/_data/about.yml</code>，输入以下内容</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 关于页  <span class="token key atrule">subtitle</span><span class="token punctuation">:</span> 生活明朗，万物可爱✨  <span class="token key atrule">avatarImg</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog<span class="token punctuation">-</span>static@1.0.0/img/avatar.webp  <span class="token key atrule">name</span><span class="token punctuation">:</span> 陈志伟  <span class="token key atrule">description</span><span class="token punctuation">:</span> 是一名 前端工程师、学生、独立开发者、博主  <span class="token key atrule">aboutsiteTips</span><span class="token punctuation">:</span>    <span class="token key atrule">tips</span><span class="token punctuation">:</span> 追求    <span class="token key atrule">title1</span><span class="token punctuation">:</span> 源于    <span class="token key atrule">title2</span><span class="token punctuation">:</span> 热爱而去 感受    <span class="token key atrule">word</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> 学习      <span class="token punctuation">-</span> 生活      <span class="token punctuation">-</span> 程序      <span class="token punctuation">-</span> 体验  <span class="token key atrule">helloAbout</span><span class="token punctuation">:</span> Hello there<span class="token tag">!</span>  <span class="token key atrule">skillsTips</span><span class="token punctuation">:</span>    <span class="token key atrule">tips</span><span class="token punctuation">:</span> 技能    <span class="token key atrule">title</span><span class="token punctuation">:</span> 开启创造力  <span class="token key atrule">careers</span><span class="token punctuation">:</span>    <span class="token key atrule">tips</span><span class="token punctuation">:</span> 生涯    <span class="token key atrule">title</span><span class="token punctuation">:</span> 无限进步    <span class="token key atrule">item</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> EDU<span class="token punctuation">,</span>软件工程专业    <span class="token key atrule">img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/26/6330e9bcc39cc.png  <span class="token key atrule">statistic</span><span class="token punctuation">:</span>    <span class="token key atrule">link</span><span class="token punctuation">:</span> /archives    <span class="token key atrule">text</span><span class="token punctuation">:</span> 文章隧道    <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/23/632d634f8376d.jpg  <span class="token key atrule">map</span><span class="token punctuation">:</span>    <span class="token key atrule">title</span><span class="token punctuation">:</span> 我现在住在    <span class="token key atrule">StrengthenTitle</span><span class="token punctuation">:</span> 中国，长沙市    <span class="token key atrule">background</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/24/632e6f48981d8.jpg    <span class="token key atrule">backgroundDark</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/26/6330ebf1f3e65.jpg  <span class="token key atrule">selfInfo</span><span class="token punctuation">:</span>    <span class="token key atrule">selfInfoTips1</span><span class="token punctuation">:</span> 生于    <span class="token key atrule">selfInfoContentYear</span><span class="token punctuation">:</span> <span class="token number">2002</span>    <span class="token key atrule">selfInfoTips2</span><span class="token punctuation">:</span> 湖南信息学院    <span class="token key atrule">selfInfoContent2</span><span class="token punctuation">:</span> 软件工程    <span class="token key atrule">selfInfoTips3</span><span class="token punctuation">:</span> 现在职业    <span class="token key atrule">selfInfoContent3</span><span class="token punctuation">:</span> 大三学生👨‍🎓  <span class="token key atrule">personalities</span><span class="token punctuation">:</span>    <span class="token key atrule">author_name</span><span class="token punctuation">:</span> 执政官    <span class="token key atrule">personality_type</span><span class="token punctuation">:</span> ESFJ<span class="token punctuation">-</span>A    <span class="token key atrule">photo_url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/24/632e9643611ec.jpg    <span class="token key atrule">personality_img</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog@2.0.8/img/svg/ESFJ<span class="token punctuation">-</span>A.svg    <span class="token key atrule">name_url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.16personalities.com/ch/esfj<span class="token punctuation">-</span>%E4%BA%BA%E6%A0%BC  <span class="token key atrule">maxim</span><span class="token punctuation">:</span>    <span class="token key atrule">maxim_tips</span><span class="token punctuation">:</span> 座右铭    <span class="token key atrule">maxim_top</span><span class="token punctuation">:</span> 生活明朗，    <span class="token key atrule">maxim_bottom</span><span class="token punctuation">:</span> 万物可爱。  <span class="token key atrule">buff</span><span class="token punctuation">:</span>    <span class="token key atrule">buff_tips</span><span class="token punctuation">:</span> 特长    <span class="token key atrule">buff_top</span><span class="token punctuation">:</span> 脑回路新奇的 酸菜鱼    <span class="token key atrule">buff_bottom</span><span class="token punctuation">:</span> 二次元指数 MAX  <span class="token key atrule">game</span><span class="token punctuation">:</span>    <span class="token key atrule">game_tips</span><span class="token punctuation">:</span> 爱好游戏    <span class="token key atrule">game_title</span><span class="token punctuation">:</span> 原神    <span class="token key atrule">game_uid</span><span class="token punctuation">:</span> <span class="token string">"UID: 125766904"</span>    <span class="token key atrule">game_bg</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/12/19/63a079ca63c8a.webp  <span class="token key atrule">comic</span><span class="token punctuation">:</span>    <span class="token key atrule">comic_tips</span><span class="token punctuation">:</span> 爱好番剧    <span class="token key atrule">comic_title</span><span class="token punctuation">:</span> 追番    <span class="token key atrule">comic_list</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 约定的梦幻岛        <span class="token key atrule">href</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.bilibili.com/bangumi/media/md5267750/<span class="token punctuation">?</span>spm_id_from=666.25.b_6d656469615f6d6f64756c65.1        <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/12/13/63988658aa1b1.webp      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 咒术回战        <span class="token key atrule">href</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.bilibili.com/bangumi/media/md28229899/<span class="token punctuation">?</span>spm_id_from=666.25.b_6d656469615f6d6f64756c65.1        <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/12/13/6398864e572ed.webp      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 紫罗兰永恒花园        <span class="token key atrule">href</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.bilibili.com/bangumi/media/md8892/<span class="token punctuation">?</span>spm_id_from=666.25.b_6d656469615f6d6f64756c65.1        <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/12/13/639886315d658.webp      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 鬼灭之刃        <span class="token key atrule">href</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.bilibili.com/bangumi/media/md22718131/<span class="token punctuation">?</span>spm_id_from=666.25.b_6d656469615f6d6f64756c65.1        <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/12/13/639886403d472.webp      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JOJO的奇妙冒险 黄金之风        <span class="token key atrule">href</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.bilibili.com/bangumi/media/md135652/<span class="token punctuation">?</span>spm_id_from=666.25.b_6d656469615f6d6f64756c65.1        <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/12/13/6398862649585.webp  <span class="token key atrule">like</span><span class="token punctuation">:</span>    <span class="token key atrule">like_tips</span><span class="token punctuation">:</span> 关注偏好    <span class="token key atrule">like_title</span><span class="token punctuation">:</span> 数码科技    <span class="token key atrule">like_bg</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/09/24/632f0dd8f33c6.webp    <span class="token key atrule">like_bottom</span><span class="token punctuation">:</span> 手机、电脑软硬件  <span class="token key atrule">music</span><span class="token punctuation">:</span>    <span class="token key atrule">music_tips</span><span class="token punctuation">:</span> 音乐偏好    <span class="token key atrule">music_title</span><span class="token punctuation">:</span> 许嵩、民谣、华语流行    <span class="token key atrule">music_bg</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//p2.music.126.net/Mrg1i7DwcwjWBvQPIMt_Mg==/79164837213438.jpg    <span class="token key atrule">music_link</span><span class="token punctuation">:</span> /music  <span class="token key atrule">reward_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 海阔蓝      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">8.8</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2023-03-28</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> LK66      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">66.6</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2023-03-24</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 张时貳      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">6.6</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2023-01-22</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> ZeroAf      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">9.9</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-12-14</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> LuckyWangXi      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">6.6</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-12-14</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 刀中日月长      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">10</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-11-16</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 鹿啵包      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">10</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-11-08</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 疾速k      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">50</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-09-20</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 伴舟先生大霖子      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">4.03</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-10-27</span>      <span class="token key atrule">suffix</span><span class="token punctuation">:</span> 贝壳    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Magica_0x0      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">3.36</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-10-07</span>      <span class="token key atrule">suffix</span><span class="token punctuation">:</span> 贝壳    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 名字就是要短像这样      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">3.36</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-08-25</span>      <span class="token key atrule">suffix</span><span class="token punctuation">:</span> 贝壳    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Leviathan520      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">1.34</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-08-23</span>      <span class="token key atrule">suffix</span><span class="token punctuation">:</span> 贝壳    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 托马斯      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">10</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-08-19</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 哇是猫猫欸      <span class="token key atrule">amount</span><span class="token punctuation">:</span> <span class="token number">1.34</span>      <span class="token key atrule">datatime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-08-19</span>      <span class="token key atrule">suffix</span><span class="token punctuation">:</span> 贝壳  <span class="token key atrule">extra</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>备选值&#x2F;类型</th><th>解释</th></tr></thead><tbody><tr><td>class_name</td><td>关于页</td><td>【必须】页面类</td></tr><tr><td>subtitle</td><td>string</td><td>【必须】副标题</td></tr><tr><td>avatarImg</td><td>url</td><td>【必须】头像链接</td></tr><tr><td>name</td><td>string</td><td>【必须 作者名称</td></tr><tr><td>description</td><td>string</td><td>【必须】描述</td></tr><tr><td>aboutsiteTips</td><td>object</td><td>【必须】站点关于提示相关配置</td></tr><tr><td>aboutsiteTips.tips</td><td>string</td><td>【必须】站点关于提示性文字</td></tr><tr><td>aboutsiteTips.title1</td><td>string</td><td>【必须】站点关于标题文字 1</td></tr><tr><td>aboutsiteTips.title2</td><td>string</td><td>【必须】站点关于标题文字 2</td></tr><tr><td>aboutsiteTips.word</td><td>list</td><td>【必须】站点关于标题滚动文字</td></tr><tr><td>helloAbout</td><td>string</td><td>【必须】hello 文字</td></tr><tr><td>skillsTips</td><td>object</td><td>【必须】技能相关配置</td></tr><tr><td>skillsTips.tips</td><td>string</td><td>【必须】技能提示文字</td></tr><tr><td>skillsTips.title</td><td>string</td><td>【必须】技能标题</td></tr><tr><td>careers</td><td>object</td><td>【必须】生涯相关配置</td></tr><tr><td>careers.tips</td><td>string</td><td>【必须】生涯提示性文字</td></tr><tr><td>careers.title</td><td>string</td><td>【必须】生涯标题</td></tr><tr><td>careers.item</td><td>list</td><td>【必须】生涯 item</td></tr><tr><td>careers.img</td><td>string</td><td>【必须】生涯图片</td></tr><tr><td>statistic</td><td>object</td><td>【必须】统计数据相关配置</td></tr><tr><td>statistic.link</td><td>url</td><td>【必须】统计数据按钮前往链接</td></tr><tr><td>statistic.text</td><td>string</td><td>【必须】统计数据按钮文字</td></tr><tr><td>map</td><td>object</td><td>【必须】地图相关配置</td></tr><tr><td>map.title</td><td>string</td><td>【必须】地图标题</td></tr><tr><td>map.StrengthenTitle</td><td>string</td><td>【必须】地图大标题</td></tr><tr><td>map.background</td><td>url</td><td>【必须】地图亮色模式背景</td></tr><tr><td>map.backgroundDark</td><td>url</td><td>【必须】地图暗色模式背景</td></tr><tr><td>selfInfo</td><td>object</td><td>【必须】作者相关信息配置</td></tr><tr><td>selfInfo.selfInfoTips1</td><td>string</td><td>【必须】作者相关提示文字 1</td></tr><tr><td>selfInfo.selfInfoContentYear</td><td>number</td><td>【必须】作者生日年份</td></tr><tr><td>selfInfo.selfInfoTips2</td><td>string</td><td>【必须】作者相关提示文字 2</td></tr><tr><td>selfInfo.selfInfoContent2</td><td>string</td><td>【必须】作者相关内容 2</td></tr><tr><td>selfInfo.selfInfoTips3</td><td>string</td><td>【必须】作者相关提示文字 3</td></tr><tr><td>selfInfo.selfInfoContent3</td><td>string</td><td>【必须】作者相关内容 3</td></tr><tr><td>personalities</td><td>object</td><td>【必须】作者性格相关配置</td></tr><tr><td>personalities.author_name</td><td>string</td><td>【必须】作者性格名称</td></tr><tr><td>personalities.personality_type</td><td>string</td><td>【必须】作者性格类型</td></tr><tr><td>personalities.photo_url</td><td>url</td><td>【必须】作者自拍图片</td></tr><tr><td>personalities.personality_img</td><td>url</td><td>【必须】作者性格表述图片</td></tr><tr><td>personalities.name_url</td><td>url</td><td>【必须】点击性格跳转到链接</td></tr><tr><td>maxim</td><td>object</td><td>【必须】座右铭相关配置</td></tr><tr><td>maxim.maxim_tips</td><td>string</td><td>【必须】座右铭相关提示文字</td></tr><tr><td>maxim.maxim_top</td><td>string</td><td>【必须】座右铭相关顶部文字</td></tr><tr><td>maxim.maxim_bottom</td><td>string</td><td>【必须】座右铭相关底部文字</td></tr><tr><td>buff</td><td>object</td><td>【必须】特长相关配置</td></tr><tr><td>buff.buff_tips</td><td>string</td><td>【必须】特长相关提示文字</td></tr><tr><td>buff.buff_top</td><td>string</td><td>【必须】特长相关顶部文字</td></tr><tr><td>buff.buff_bottom</td><td>string</td><td>【必须】特长相关底部文字</td></tr><tr><td>game</td><td>object</td><td>【必须】爱好游戏相关配置</td></tr><tr><td>game.game_tips</td><td>string</td><td>【必须】爱好游戏提示文字</td></tr><tr><td>game.game_title</td><td>string</td><td>【必须】爱好游戏标题</td></tr><tr><td>game.game_uid</td><td>string</td><td>【必须】爱好游戏 uid</td></tr><tr><td>game.game_bg</td><td>url</td><td>【必须】爱好游戏背景</td></tr><tr><td>comic</td><td>object</td><td>【必须】追番相关配置，需要 5 条数据</td></tr><tr><td>comic.comic_tips</td><td>string</td><td>【必须】追番相关提示文字</td></tr><tr><td>comic.comic_title</td><td>string</td><td>【必须】追番相关标题</td></tr><tr><td>comic.comic_list</td><td>list</td><td>【必须】追番相关列表</td></tr><tr><td>comic.comic_list.name</td><td>string</td><td>【必须】追番 item 名称</td></tr><tr><td>comic.comic_list.href</td><td>url</td><td>【必须】追番 item 链接</td></tr><tr><td>comic.comic_list.cover</td><td>url</td><td>【必须】追番 item 的 cover</td></tr><tr><td>like</td><td>object</td><td>【必须】关注偏好相关配置</td></tr><tr><td>like.like_tips</td><td>string</td><td>【必须】关注偏好配置提示文字</td></tr><tr><td>like.like_title</td><td>string</td><td>【必须】关注偏好配置标题</td></tr><tr><td>like.like_bg</td><td>url</td><td>【必须】关注偏好配置背景</td></tr><tr><td>like.like_bottom</td><td>string</td><td>【必须】关注偏好配置底部文字</td></tr><tr><td>music</td><td>object</td><td>【必须】音乐偏好相关配置</td></tr><tr><td>music.music_tips</td><td>string</td><td>【必须】音乐偏好提示性文字</td></tr><tr><td>music.music_title</td><td>string</td><td>【必须】音乐偏好标题</td></tr><tr><td>music.music_bg</td><td>url</td><td>【必须】音乐偏好背景</td></tr><tr><td>music.music_link</td><td>url</td><td>【必须】音乐偏好按钮链接</td></tr><tr><td>reward_list</td><td>object</td><td>【可选】打赏相关配置，如果不配置将没有打赏模块</td></tr><tr><td>reward_list.name</td><td>string</td><td>【必须】打赏 item 名称</td></tr><tr><td>reward_list.amount</td><td>number</td><td>【必须】打赏 item 金额</td></tr><tr><td>reward_list.datatime</td><td>Date</td><td>【必须】打赏 item 时间</td></tr><tr><td>reward_list.suffix</td><td>string&#x2F;元</td><td>【可选】打赏 item 后缀（默认元）</td></tr><tr><td>extra</td><td>boolean&#x2F;false</td><td>【必须】开发字段，表示额外模块内容可通过修改主题<code>themes/anzhiyu/layout/includes/anzhiyu/about-extra.pug</code>自行开发，修改为 true 后会引入该 pug 内容。</td></tr></tbody></table><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/6432643720ef6.png!blogimg" alt="关于页"></p><h2 id="配置相册页面"><a href="#配置相册页面" class="headerlink" title="配置相册页面"></a>配置相册页面</h2><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page album<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>你会找到 <code>source/album/index.md</code> 这个文件</p></li><li><p>修改这个文件：<br>记得添加 <code>type: &quot;album&quot;</code></p><pre class="line-numbers language-MARKDOWN" data-language="MARKDOWN"><code class="language-MARKDOWN">---title: 相册集date: 2022-10-23 15:57:51aside: falsetop_img: falsetype: &quot;album&quot;---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>主题配置文件中开启<code>menu</code>中我的和相册集的注释，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token key atrule">友人帐</span><span class="token punctuation">:</span> /link/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>link  <span class="token comment">#   朋友圈: /fcircle/ || icon-artstation</span>  <span class="token comment">#   留言板: /comments/ || icon-envelope</span>  <span class="token key atrule">我的</span><span class="token punctuation">:</span>    <span class="token key atrule">音乐馆</span><span class="token punctuation">:</span> /music/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>music    <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>    <span class="token key atrule">相册集</span><span class="token punctuation">:</span> /album/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>images  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token comment">#   关于本人: /about/ || icon-zhifeiji</span>    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>新建文件<code>[blog]\source\_data\album.yml</code>,没有<code>_data</code>文件夹的话也请自己新建。打开<code>[blog]\source\_data\album.yml</code>，输入：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 世界各地夕阳与风景  <span class="token key atrule">path_name</span><span class="token punctuation">:</span> /wordScenery  <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token number">2</span>  <span class="token key atrule">description</span><span class="token punctuation">:</span> 因为到不了世界各地，所以请网友们发来了各地的夕阳与风景🌇。  <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/64329399d1175.jpg  <span class="token key atrule">rowHeight</span><span class="token punctuation">:</span> <span class="token number">220</span>  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">10</span>  <span class="token key atrule">lazyload</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">btnLazyload</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">album_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">date</span><span class="token punctuation">:</span> 2022/10/26 01<span class="token punctuation">:</span><span class="token datetime number">00:00</span>      <span class="token key atrule">content</span><span class="token punctuation">:</span> 湘潭的一角。      <span class="token key atrule">address</span><span class="token punctuation">:</span> 湖南湘潭      <span class="token key atrule">from</span><span class="token punctuation">:</span> 再吃一口就减肥      <span class="token key atrule">image</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/64329399db122.webp    <span class="token punctuation">-</span> <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2022-10-25</span>      <span class="token key atrule">content</span><span class="token punctuation">:</span> 洛阳暴雨后的天空。      <span class="token key atrule">address</span><span class="token punctuation">:</span> 河南洛阳      <span class="token key atrule">from</span><span class="token punctuation">:</span> 紫菜卷      <span class="token key atrule">image</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/64329399db122.webp        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/64329399db2e1.webp<span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> 我的日常  <span class="token key atrule">path_name</span><span class="token punctuation">:</span> /dailyPhoto  <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token key atrule">description</span><span class="token punctuation">:</span> 这里存放的是有关我自己的一些沙雕生活与有趣的事情。  <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/64329399cea5a.webp  <span class="token key atrule">album_list</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2022-10-24</span>      <span class="token key atrule">content</span><span class="token punctuation">:</span> 老妹的画      <span class="token key atrule">image</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//bu.dusays.com/2023/04/09/643293997b92b.jpeg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>备选值&#x2F;类型</th><th>解释</th></tr></thead><tbody><tr><td>class_name</td><td>string</td><td>【必须】页面类</td></tr><tr><td>path_name</td><td>url</td><td>【必须】当前相册路径</td></tr><tr><td>type</td><td>number</td><td>【必须】当前相册页面样式类型</td></tr><tr><td>description</td><td>string</td><td>【必须】当前相册描述</td></tr><tr><td>cover</td><td>url</td><td>【必须】当前相册 cover 图片</td></tr><tr><td>rowHeight</td><td>number</td><td>【可选】仅当 type 为 2 时有效，当前相册 rowHeight</td></tr><tr><td>limit</td><td>number</td><td>【可选】仅当 type 为 2 时有效，当前相册 一次懒加载的数量</td></tr><tr><td>lazyload</td><td>boolean</td><td>【可选】仅当 type 为 2 时有效，当前相册 lazyload 是否开启懒加载，默认懒加载为滚动懒加载，type 为 1 时懒加载不可关闭。</td></tr><tr><td>btnLazyload</td><td>boolean</td><td>【可选】仅当 type 为 2 且 lazyload 开启 时有效，当前相册 lazyload 懒加载的方式，默认为滚动懒加载，开启本选项后为按钮点击懒加载。</td></tr><tr><td>album_list</td><td>list</td><td>【必须】当前相册内图片列表</td></tr><tr><td>url</td><td>url</td><td>【可选】仅当 type 为 2 时有效，可以加载远程的 json 数据。</td></tr><tr><td>album_list.date</td><td>date</td><td>【必须】当前图片创建时间</td></tr><tr><td>album_list.content</td><td>string</td><td>【必须】当前图片描述内容</td></tr><tr><td>album_list.image</td><td>list</td><td>【必须】当前图片集，可以多张</td></tr><tr><td>album_list.from</td><td>string</td><td>【可选】当前图片的创建人，未填写则不显示</td></tr><tr><td>album_list.address</td><td>string</td><td>【必须】当前图片地址</td></tr></tbody></table><div class="note warning flat"><p>注意示例数据中的图片不保证可用性。</p></div><p>由于相册页面需要很多的 page，所以在写数据的时候自行写入路径<code>path_name</code>，示例数据中有两个<code>path_name</code>，所以需要再创建两个页面</p><p>注意新建的页面必须与<code>path_name</code>一致。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page dailyPhotohexo new page wordScenery<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>你会找到 <code>source/dailyPhoto/index.md</code> 和<code>source/wordScenery/index.md</code>两个文件，这两个为相册集详情页</p><p>然后内容为以下内容, 需在详情页加上<code>type: &quot;album_detail&quot;</code></p><pre class="line-numbers language-MARKDOWN" data-language="MARKDOWN"><code class="language-MARKDOWN">---title: 日常生活date: 2022-10-23 15:57:51aside: falsetop_img: falsetype: &quot;album_detail&quot;---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-MARKDOWN" data-language="MARKDOWN"><code class="language-MARKDOWN">---title: 世界各地风景date: 2022-10-23 15:57:51aside: falsetop_img: falsetype: &quot;album_detail&quot;---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>远程加载json示例数据</code></p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0556.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"alt"</span><span class="token operator">:</span> <span class="token string">"IMG_0556.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"这是title"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0472.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"alt"</span><span class="token operator">:</span> <span class="token string">"IMG_0472.jpg"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0453.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"alt"</span><span class="token operator">:</span> <span class="token string">""</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0931.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"alt"</span><span class="token operator">:</span> <span class="token string">""</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="相册页type"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#相册页type-1">相册页</button></li><li class="tab"><button type="button" data-href="#相册页type-2">相册页type: 1样式</button></li><li class="tab"><button type="button" data-href="#相册页type-3">相册页type: 2样式</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="相册页type-1"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/64326458a0f01.png!blogimg" alt="相册页"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="相册页type-2"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/19/643f4351c8245.webp!blogimg" alt="相册页"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="相册页type-3"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/19/643f42162d2f4.webp!blogimg" alt="相册页"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h2 id="朋友圈页面配置"><a href="#朋友圈页面配置" class="headerlink" title="朋友圈页面配置"></a>朋友圈页面配置</h2><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page fcircle<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>打开<code>[blog]\source\fcircle\index.md</code>,添加一行<code>type: &#39;fcircle&#39;</code>:</p><pre class="line-numbers language-MARKDOWN" data-language="MARKDOWN"><code class="language-MARKDOWN">---title: 朋友圈date: 2022-11-21 17:06:17comments: falseaside: falsetop_img: falsetype: &quot;fcircle&quot;---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>主题配置文件中开启<code>menu</code>中友链和朋友圈的注释，导航栏朋友圈，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token comment">#   友人帐: /link/ || icon-link</span>    <span class="token key atrule">朋友圈</span><span class="token punctuation">:</span> /fcircle/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>artstation    <span class="token comment">#   留言板: /comments/ || icon-envelope</span>  <span class="token comment"># 我的:</span>  <span class="token comment">#   音乐馆: /music/ || icon-music</span>  <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>  <span class="token comment">#   相册集: /album/ || icon-images</span>  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token comment">#   关于本人: /about/ || icon-zhifeiji</span>    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>主题配置文件中开启<code>friends_vue.enable</code>，自行设置 twikoo 地址和顶部模块背景，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 朋友圈配置</span><span class="token key atrule">friends_vue</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">vue_js</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog<span class="token punctuation">-</span>static@1.0.0/js/friends_vue/index.js  <span class="token key atrule">apiurl</span><span class="token punctuation">:</span> <span class="token comment"># 朋友圈后端地址</span>  top_background<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>参数</th><th>备选值&#x2F;类型</th><th>解释</th></tr></thead><tbody><tr><td>enable</td><td>boolean</td><td>【必须】是否启用</td></tr><tr><td>vue_js</td><td>url</td><td>【必须】朋友圈前端构建后的 url</td></tr><tr><td>apiurl</td><td>string</td><td>【必须】朋友圈后端 url</td></tr><tr><td>top_background</td><td>url</td><td>【可选】朋友圈顶部背景图</td></tr></tbody></table><p>以下是本站配置</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">friends_vue</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">vue_js</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/anzhiyu<span class="token punctuation">-</span>blog<span class="token punctuation">-</span>static@1.0.0/js/friends_vue/index.js  <span class="token key atrule">apiurl</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//friends.anzhiy.cn/ <span class="token comment"># 朋友圈后端地址</span>  <span class="token key atrule">top_background</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//img02.anzhiy.cn/adminuploads/1/2022/08/21/630249e2df20f.jpg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其中<code>vue_js</code>参数，可以将<code>https://npm.elemecdn.com/anzhiyu-blog-static@1.0.0/js/friends_vue/index.js</code>中的<br><code>friends.anzhiy.cn</code>替换为您的后端 url 然后使用，原项目地址：<a href="https://github.com/anzhiyu-c/hexo-circle-of-friends-front/tree/anzhiyu">hexo-circle-of-friends-front</a>，也可以自行下载项目后，修改代码中的 url 变量路径<code>friends.anzhiy.cn</code>为你自己的，然后执行<code>npm run build</code>构建使用。</p><p>主题配置文件中开启<code>menu</code>中友链和朋友圈的注释，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token comment">#  友人帐: /link/ || icon-link</span>    <span class="token key atrule">朋友圈</span><span class="token punctuation">:</span> /fcircle/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>artstation  <span class="token comment">#  留言板: /comments/ || icon-envelope</span>  <span class="token key atrule">我的</span><span class="token punctuation">:</span>    <span class="token key atrule">音乐馆</span><span class="token punctuation">:</span> /music/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>music  <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>  <span class="token comment">#   相册集: /album/ || icon-images</span>  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token comment">#   关于本人: /about/ || icon-zhifeiji</span>    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/64326468190c2.png!blogimg" alt="朋友圈页"></p><h2 id="音乐馆页配置"><a href="#音乐馆页配置" class="headerlink" title="音乐馆页配置"></a>音乐馆页配置</h2><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>在 Hexo 博客根目录 <code>[blog]</code>下打开终端，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page music<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>你会找到 <code>source/music/index.md</code> 这个文件</p></li><li><p>修改这个文件：<br>记得添加 <code>type: &quot;music&quot;</code></p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> 音乐馆<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2021-04-24 21:41:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> music<span class="token key atrule">aplayer</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">top_img</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">comments</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">aside</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>新建 <code>source/json/music.json</code>，此 json 为切换歌单按钮的歌单数据。</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"青花瓷"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"稻香"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"晴天"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"七里香"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"花海"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"反方向的钟"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"兰亭序"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"说好的辛福呢"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"等你下课 (with 杨瑞代)"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"我落泪情绪零碎"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"听妈妈的话"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"明明就"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"我是如此相信"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"发如雪"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"以父之名"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"园游会"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"本草纲目"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"龙卷风"</span><span class="token punctuation">,</span>    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"周杰伦"</span><span class="token punctuation">,</span>    <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000"</span><span class="token punctuation">,</span>    <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>hexo 配置文件<code>_config.yml</code>中添加以下配置，注意不是主题配置文件</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># APlayer</span><span class="token comment"># https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md</span><span class="token key atrule">aplayer</span><span class="token punctuation">:</span>  <span class="token key atrule">meting</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">asset_inject</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>主题配置文件中开启<code>menu</code>中我的和音乐馆的注释，注意缩进！！！</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>  <span class="token comment"># 文章:</span>  <span class="token comment">#   隧道: /archives/ || icon-box-archive</span>  <span class="token comment">#   分类: /categories/ || icon-shapes</span>  <span class="token comment">#   标签: /tags/ || icon-tags</span>  <span class="token key atrule">友链</span><span class="token punctuation">:</span>    <span class="token key atrule">友人帐</span><span class="token punctuation">:</span> /link/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>link  <span class="token comment">#   朋友圈: /fcircle/ || icon-artstation</span>  <span class="token comment">#   留言板: /comments/ || icon-envelope</span>  <span class="token key atrule">我的</span><span class="token punctuation">:</span>    <span class="token key atrule">音乐馆</span><span class="token punctuation">:</span> /music/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>music  <span class="token comment">#   追番页: /bangumis/ || icon-bilibili1</span>  <span class="token comment">#   相册集: /album/ || icon-images</span>  <span class="token comment">#   小空调: /air-conditioner/ || icon-fan</span>  <span class="token key atrule">关于</span><span class="token punctuation">:</span>    <span class="token comment">#   关于本人: /about/ || icon-zhifeiji</span>    <span class="token key atrule">闲言碎语</span><span class="token punctuation">:</span> /essay/ <span class="token punctuation">|</span><span class="token punctuation">|</span> icon<span class="token punctuation">-</span>lightbulb    <span class="token comment">#   随便逛逛: javascript:toRandomPost() || icon-shoe-prints1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><blockquote><p>如何修改默认歌单?</p></blockquote><p>将<code>menu</code>中音乐馆的路径修改为以下格式即可<code>/music/?id=1708664797&amp;server=tencent</code>，支持<code>id</code>和<code>server</code>参数。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/643264b4da332.png!blogimg" alt="音乐馆页"></p><h2 id="404-页面"><a href="#404-页面" class="headerlink" title="404 页面"></a>404 页面</h2><p>主题内置了一个简单的 404 页面，可在设置中开启</p><div class="note warning flat"><p>本地预览时，访问出错的网站是不会跳到 404 页面的。<br>如需本地预览，请访问 <a href="http://localhost:4000/404.html">http://localhost:4000/404.html</a></p></div><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># A simple 404 page</span><span class="token key atrule">error_404</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">subtitle</span><span class="token punctuation">:</span> <span class="token string">"页面没有找到"</span>  background<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/64326263a9eda.png!blogimg" alt="404页面"></p><h2 id="追番页面"><a href="#追番页面" class="headerlink" title="追番页面"></a>追番页面</h2><p>在博客根目录执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-bilibili-bangumi <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在 hexo 配置文件<code>_config.yml</code>中加入以下配置，注意不是主题配置文件，更多配置请参考<a href="https://github.com/HCLonely/hexo-bilibili-bangumi">hexo-bilibili-bangumi</a></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 追番插件</span><span class="token comment"># https://github.com/HCLonely/hexo-bilibili-bangumi</span><span class="token key atrule">bangumi</span><span class="token punctuation">:</span> <span class="token comment"># 追番设置</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">source</span><span class="token punctuation">:</span> bili  <span class="token key atrule">path</span><span class="token punctuation">:</span>  <span class="token key atrule">vmid</span><span class="token punctuation">:</span> <span class="token number">372204786</span>  <span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"追番列表"</span>  <span class="token key atrule">quote</span><span class="token punctuation">:</span> <span class="token string">"生命不息，追番不止！"</span>  <span class="token key atrule">show</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token key atrule">lazyload</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">loading</span><span class="token punctuation">:</span>  <span class="token key atrule">showMyComment</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">pagination</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">metaColor</span><span class="token punctuation">:</span>  <span class="token key atrule">color</span><span class="token punctuation">:</span>  <span class="token key atrule">webp</span><span class="token punctuation">:</span>  <span class="token key atrule">progress</span><span class="token punctuation">:</span>  <span class="token key atrule">extraOrder</span><span class="token punctuation">:</span>  <span class="token key atrule">proxy</span><span class="token punctuation">:</span>    <span class="token key atrule">host</span><span class="token punctuation">:</span> <span class="token string">"代理host"</span>    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token string">"代理端口"</span>  <span class="token key atrule">extra_options</span><span class="token punctuation">:</span>    <span class="token key atrule">top_img</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">lazyload</span><span class="token punctuation">:</span>      <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/643264bec3298.png!blogimg" alt="追番页"></p><h2 id="留言板页面"><a href="#留言板页面" class="headerlink" title="留言板页面"></a>留言板页面</h2><p>在博客根目录执行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-butterfly-envelope <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在主题配置文件中修改<code>envelope_comment</code>，改为<code>enable: true</code>，更多配置请查看<a href="https://akilar.top/posts/e2d3c450/">信笺样式留言板</a></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># envelope_comment</span><span class="token comment"># see https://akilar.top/posts/e2d3c450/</span><span class="token key atrule">envelope_comment</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#控制开关</span>  <span class="token key atrule">custom_pic</span><span class="token punctuation">:</span>    <span class="token key atrule">cover</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/hexo<span class="token punctuation">-</span>butterfly<span class="token punctuation">-</span>envelope/lib/violet.jpg <span class="token comment">#信笺头部图片</span>    <span class="token key atrule">line</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/hexo<span class="token punctuation">-</span>butterfly<span class="token punctuation">-</span>envelope/lib/line.png <span class="token comment">#信笺底部图片</span>    <span class="token key atrule">beforeimg</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/hexo<span class="token punctuation">-</span>butterfly<span class="token punctuation">-</span>envelope/lib/before.png <span class="token comment"># 信封前半部分</span>    <span class="token key atrule">afterimg</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/hexo<span class="token punctuation">-</span>butterfly<span class="token punctuation">-</span>envelope/lib/after.png <span class="token comment"># 信封后半部分</span>  <span class="token key atrule">message</span><span class="token punctuation">:</span> <span class="token comment">#信笺正文，多行文本，写法如下</span>    <span class="token punctuation">-</span> 有什么想问的？    <span class="token punctuation">-</span> 有什么想说的？    <span class="token punctuation">-</span> 有什么想吐槽的？    <span class="token punctuation">-</span> 哪怕是有什么想吃的，都可以告诉我哦~  <span class="token key atrule">bottom</span><span class="token punctuation">:</span> 自动书记人偶竭诚为您服务！ <span class="token comment">#仅支持单行文本</span>  <span class="token key atrule">height</span><span class="token punctuation">:</span> <span class="token comment">#1024px，信封划出的高度</span>  <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span>  <span class="token key atrule">front_matter</span><span class="token punctuation">:</span> <span class="token comment">#【可选】comments页面的 front_matter 配置</span>    <span class="token key atrule">title</span><span class="token punctuation">:</span> 留言板    <span class="token key atrule">comments</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">top_img</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> envelope<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/09/643264eb13666.png!blogimg" alt="留言板"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)&lt;br&gt;🐟 安知鱼 已经更新到 &lt;a href=&quot;https://github.c</summary>
      
    
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/categories/AnZhiYu/"/>
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/tags/AnZhiYu/"/>
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>AnZhiYu主题快速开始</title>
    <link href="https://anzhiy.cn/posts/61e4.html"/>
    <id>https://anzhiy.cn/posts/61e4.html</id>
    <published>2023-03-26T15:55:44.000Z</published>
    <updated>2023-04-19T03:36:53.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning flat"><p>本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)<br>🐟 安知鱼 已经更新到 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu/releases/tag/1.1.7">1.1.7</a></p></div><blockquote><p>hexo-theme-anzhiyu 是基于 <a href="https://butterfly.js.org/">hexo-theme-butterfly</a> 的基础上进行开发的。</p></blockquote><h2 id="💻-安裝"><a href="#💻-安裝" class="headerlink" title="💻 安裝"></a>💻 安裝</h2><div class="tabs" id="安装"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#安装-1">git安装(github)</button></li><li class="tab"><button type="button" data-href="#安装-2">npm安装</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="安装-1"><p>在博客根目录里安装最新版【推荐】</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">git clone <span class="token operator">-</span>b main https:<span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com/anzhiyu-c/hexo-theme-anzhiyu<span class="token punctuation">.</span>git themes/anzhiyu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>测试版</strong></p><blockquote><p>测试版可能存在 bug，追求稳定的请安装稳定版</p></blockquote><p>如果想要安装比较新的 dev 分支，可以</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">git clone <span class="token operator">-</span>b dev https:<span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com/anzhiyu-c/hexo-theme-anzhiyu<span class="token punctuation">.</span>git themes/anzhiyu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>升级方法：在主题目录下，运行 <code>git pull</code></p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="安装-2"><blockquote><p>此方法只支持 Hexo 5.0.0 以上版本<br><strong>通过 npm 安装并不会在 themes 里生成主题文件夹，而是在 node_modules 里生成</strong></p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">npm i hexo-theme-anzhiyu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>升级方法：在 Hexo 根目录下，运行 npm update hexo-theme-anzhiyu</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><p>什么？你还是不会？这里有视频 <a class="btn-anzhiyu " href="https://www.bilibili.com/video/BV1Rs4y127hu/?spm_id_from=333.788&vd_source=4d9717102296e4b7a60ecdfad55ae2dd"   title="AnZhiYu主题安装教程"><i class="far fa-hand-point-right"></i><span>AnZhiYu主题安装教程</span></a></p><h2 id="⚙-应用主题"><a href="#⚙-应用主题" class="headerlink" title="⚙ 应用主题"></a>⚙ 应用主题</h2><p>修改 hexo 配置文件<code>_config.yml</code>，把主题改为<code>anzhiyu</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">theme</span><span class="token punctuation">:</span> anzhiyu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="安装-pug-和-stylus-渲染插件"><a href="#安装-pug-和-stylus-渲染插件" class="headerlink" title="安装 pug 和 stylus 渲染插件"></a>安装 pug 和 stylus 渲染插件</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">npm install hexo-renderer-pug hexo-renderer-stylus <span class="token operator">--</span>save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="更好的配置，便于升级主题"><a href="#更好的配置，便于升级主题" class="headerlink" title="更好的配置，便于升级主题"></a>更好的配置，便于升级主题</h2><ul><li><p>macos&#x2F;linux<br>在博客根目录运行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cp</span> <span class="token parameter variable">-rf</span> ./themes/anzhiyu/_config.yml ./_config.anzhiyu.yml<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>windows<br>复制<code>/themes/anzhiyu/_config.yml</code>此文件到 hexo 根目录，并重命名为<code>_config.anzhiyu.yml</code></p></li></ul><p><code>_config.anzhiyu.yml</code>中的配置优先级大于<code>_config.yml</code></p><h2 id="本地启动-hexo"><a href="#本地启动-hexo" class="headerlink" title="本地启动 hexo"></a>本地启动 hexo</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo clhexo ghexo s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>此时就能在看到效果了。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/03/31/642677a150e9d.png"></p><h2 id="有问题"><a href="#有问题" class="headerlink" title="有问题?"></a>有问题?</h2><p>可到仓库提交 <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu/issues">isses</a></p><h2 id="群聊"><a href="#群聊" class="headerlink" title="群聊"></a>群聊</h2><p>群号：<code>464636182</code><br><img src="https://img02.anzhiy.cn/adminuploads/1/2023/04/14/6438b945e1834.webp" alt="464636182"></p><h2 id="技术支持"><a href="#技术支持" class="headerlink" title="技术支持"></a>技术支持</h2><p>联系 QQ<code>2268025923</code>或群聊内咨询</p><h2 id="主题设计"><a href="#主题设计" class="headerlink" title="主题设计"></a>主题设计</h2><p><a href="https://github.com/zhheo">@张洪 Heo</a></p><a class="btn-anzhiyu " href="https://anzhiy.cn/posts/220c.html"   title="AnZhiYu主题安装文档（一）"><i class="far fa-hand-point-right"></i><span>AnZhiYu主题安装文档（一）</span></a>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;本教程更新于 2023 年 4 月 15 日，教程的内容针对最新的 anzhiyu 主题(如果你是旧版本，教程会有出入，请留意)&lt;br&gt;🐟 安知鱼 已经更新到 &lt;a href=&quot;https://github.c</summary>
      
    
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/categories/AnZhiYu/"/>
    
    
    <category term="AnZhiYu" scheme="https://anzhiy.cn/tags/AnZhiYu/"/>
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客工作流CI（一键部署的快乐）</title>
    <link href="https://anzhiy.cn/posts/b228.html"/>
    <id>https://anzhiy.cn/posts/b228.html</id>
    <published>2023-02-15T15:55:44.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>在日常写博客的过程中我常常使用 CI 部署，一开始我是使用<a href="https://www.jenkins.io/">Jenkins</a>，后来觉得很丑且经常拉库失败（设置的 cron 是半小时拉取一次，然而常常 4-5 小时才能更新）</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/02/15/63ec8e5037b2f.png!blogimg"></p><p>就转向了<a href="https://help.aliyun.com/document_detail/159666.htm">阿里的工作流</a>，好看很多且界面操作也简单了许多，缺点就是个人使用实在是没必要，企业的话用起来还是很爽的。</p><p>再后来看到店长的文章以后就开始使用 Github Action，具体可以去看这篇文章</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://anzhiy.cn/posts/asdx.html">    <div class="tag-link-tips">站内地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(/img/favicon.ico);"></div>        <div class="tag-link-right">            <div class="tag-link-title">使用 Github Action 自动部署</div>            <div class="tag-link-sitename"> 使用 Github Action 自动部署</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h1 id="Github-Action-优点"><a href="#Github-Action-优点" class="headerlink" title="Github Action 优点"></a>Github Action 优点</h1><ol><li>可以多域名多站点部署</li><li>不会出现从服务器去连接 github 连接不上的情况</li><li>可以一键多处全部部署完成 ✅</li><li>不再需要使用繁杂的前置命令<blockquote><p>hexo clean<br>hexo bangumi -u #bilibili 番剧更新<br>hexo generate<br>hexo algolia<br>gulp</p></blockquote></li></ol><p>比如我自己是在<a href="https://vercel.com/">vercel</a>, <a href="https://netlify.app/">netlify</a>, <a href="https://www.dogecloud.com/?iuid=4945">服务器多吉云加速</a>，三处部署。</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://anzhiyu-c-github-io.vercel.app/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/anzhiyu-c-github-io.vercel.app/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">安知鱼博客vercel线路</div>            <div class="tag-link-sitename"> 安知鱼博客vercel线路</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://cheerful-otter-8af915.netlify.app/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url( /img/favicon.ico);"></div>        <div class="tag-link-right">            <div class="tag-link-title">安知鱼博客netlify线路</div>            <div class="tag-link-sitename"> 安知鱼博客netlify线路</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://anzhiy.cn/">    <div class="tag-link-tips">站内地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(/img/favicon.ico);"></div>        <div class="tag-link-right">            <div class="tag-link-title">安知鱼博客多吉云线路</div>            <div class="tag-link-sitename"> 安知鱼博客多吉云线路</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p>大大提高可用性与速度。</p><h1 id="工作流"><a href="#工作流" class="headerlink" title="工作流"></a>工作流</h1><p>在这里分享一下我的工作流，平时写完文章以后，配合 vscode 左侧的叉子，填写提交信息后，点击提交，立即就可以提交至源码仓库</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/02/15/63ec947ee9897.webp!blogimg"></p><p>通过源码仓库的 github action 推送至服务器与 github page 的仓库，<code>vercel</code>与<code>netlify</code>会自行拉取 github page 的仓库的更新，进而实现所有线路更新。</p><p>并且使用了店长分享的全站提交至 npm，并<code>排除提交html文件</code>大大减小 npm 包体积大小，具体可以去看这篇文章<a href="https://anzhiy.cn/posts/72ea.html">npm 图床使用</a>。</p><p>这使我可以随时使用静态资源文件（如 js,css,img 等），我只需修改<code>package.json</code>的版本即可实现资源更新，而丰富的 npm 镜像又让我的站点速度大大提升，极大的便利性使我得到了极其舒适的体验。</p><p>以下是该工作流部分代码，注意该工作流已解决使用 CI 更新时，hexo 更新时间不一致的问题。</p><p><code>autodeploy.yml</code></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> 自动部署<span class="token comment"># 当有改动推送到master分支时，启动Action</span><span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master      <span class="token comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span>  <span class="token key atrule">release</span><span class="token punctuation">:</span>    <span class="token key atrule">types</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> published<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">steps</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 检查分支        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">ref</span><span class="token punctuation">:</span> master          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Sync local file timestamps        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          git ls-files -z | while read -d '' path; do touch -d $(git log -1 --format="@%ct" "$path") "$path"; done</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安装 Node        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">"16.x"</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安装 Hexo        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          export TZ='Asia/Shanghai'          npm install hexo-cli -g</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 缓存 Hexo        <span class="token key atrule">id</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>npm        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v3        <span class="token key atrule">env</span><span class="token punctuation">:</span>          <span class="token key atrule">cache-name</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>node<span class="token punctuation">-</span>modules        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">path</span><span class="token punctuation">:</span> node_modules          <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> runner.os <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">-</span>build<span class="token punctuation">-</span>$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> env.cache<span class="token punctuation">-</span>name <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">-</span>$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> hashFiles('<span class="token important">**/package-lock.json')</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token key atrule">restore-keys</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">            $&#123;&#123; runner.os &#125;&#125;-build-$&#123;&#123; env.cache-name &#125;&#125;-            $&#123;&#123; runner.os &#125;&#125;-build-            $&#123;&#123; runner.os &#125;&#125;-</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 安装依赖        <span class="token key atrule">if</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> steps.cache<span class="token punctuation">-</span>npm.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> 'true' <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          npm install gulp-cli -g #全局安装gulp          npm install --save</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 生成静态文件        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          hexo clean          hexo bangumi -u #bilibili番剧更新          hexo generate          hexo algolia          gulp</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to Server        <span class="token key atrule">uses</span><span class="token punctuation">:</span> easingthemes/ssh<span class="token punctuation">-</span>deploy@v2        <span class="token key atrule">env</span><span class="token punctuation">:</span>          <span class="token key atrule">SSH_PRIVATE_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.SSH_PRIVATE_KEY <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token key atrule">ARGS</span><span class="token punctuation">:</span> <span class="token string">"-rltgoDzvO --delete"</span>          <span class="token key atrule">EXCLUDE</span><span class="token punctuation">:</span> <span class="token string">".well-known"</span>          <span class="token key atrule">SOURCE</span><span class="token punctuation">:</span> <span class="token string">"./public/*"</span>          <span class="token key atrule">REMOTE_HOST</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.SERVER_IP <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token key atrule">REMOTE_PORT</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.REMOTE_PORT <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token key atrule">REMOTE_USER</span><span class="token punctuation">:</span> <span class="token string">"你的用户名"</span>          <span class="token key atrule">TARGET</span><span class="token punctuation">:</span> <span class="token string">"你的服务器绝对路径"</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 推送百度必应url        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          hexo deploy</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 部署到Github        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          cd ./public          git init          git config --global user.name "anzhiyu-c"          git config --global user.email "userEmail@gmail.com"          git add .          git commit -m '$&#123;&#123; github.event.head_commit.message &#125;&#125;'          git push --force --all https://xxxxxxToken@github.com/anzhiyu-c/anzhiyu-c.github.io</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>npmignore.js</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>generator<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">"npmignore"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">locals</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// Object</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/.npmignore"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">**/*.html.github/download/ads.txtCNAMErobots.txt</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>npmpublish.js</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* * @Description: npm * @Author: 安知鱼 * @Email: 2268025923@qq.com * @Date: 2022-02-22 12:13:18 * @LastEditTime: 2022-08-27 12:29:41 * @LastEditors: 安知鱼 */</span>hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>generator<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">"npmpush"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">locals</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// Object</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/.github/workflows/autopublish.yml"</span><span class="token punctuation">,</span>    <span class="token literal-property property">data</span><span class="token operator">:</span>      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name: Node.js Package# 监测分支，2020年10月后github新建仓库默认分支改为main，记得更改on:  push:    branches:      - masterjobs:  publish-npm:    runs-on: ubuntu-latest    steps:      - uses: actions/checkout@v2      - uses: actions/setup-node@v1        with:          node-version: "12.x"          registry-url: https://registry.npmjs.org/      - run: npm publish        env:          NODE_AUTH_TOKEN: </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> <span class="token string">"$&#123;&#123;secrets.npm_token&#125;&#125;"</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在日常写博客的过程中我常常使用 CI 部署，一开始我是使用&lt;a href=&quot;https://www.jenkins.io/&quot;&gt;Jenkins&lt;/a&gt;，后来觉得很丑且经常拉库失败（设置的 cron 是半小时拉取一次，然而常常 4-5 小时才能更新）&lt;/p&gt;
&lt;p&gt;&lt;img s</summary>
      
    
    
    
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
    <category term="工作流" scheme="https://anzhiy.cn/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>给你的博客加一个优雅的音乐界面</title>
    <link href="https://anzhiy.cn/posts/c3d3.html"/>
    <id>https://anzhiy.cn/posts/c3d3.html</id>
    <published>2023-02-10T15:55:44.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>很久之前就想把整个音乐界面好好写一写，不过一直迫于咕咕咕的属性没有去做这件事，以至于悔之不及，没有早点做，对我这种重度音乐控来说真的是太爽了，很快啊，马上就听了一下午。</p><p>前两天看到 <a href="https://blog.yeooe.cn/">叶子</a> 重做了音乐界面于是马上就搞过来了啊，很快啊哈哈哈哈哈，谢谢大叶子的投喂！</p><p>博主思路和叶子有所不同，每个人都有每个人的实现方法，本文仅做分享博主自己的实现思路。</p><h3 id="在线体验"><a href="#在线体验" class="headerlink" title="在线体验"></a>在线体验</h3><p><a href="https://anzhiy.cn/music/">一个优雅的音乐界面</a></p><h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p>整体效果我还是非常满意的 hhh</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/02/10/63e6004607d39.png"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/02/10/63e600366bcc7.png"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/02/10/63e60049a1b24.png" alt="移动端"></p><h3 id="魔改步骤"><a href="#魔改步骤" class="headerlink" title="魔改步骤"></a>魔改步骤</h3><p>博主使用的 meting2 的版本，修改主题配置文件 <code>_config.butterfly.yml</code> 最下面 <code>CDN.option.meting_js</code>，有能力的建议自己下载下来并传到自己的 oss 或直接使用本地路径引用。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">meting_js</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//npm.elemecdn.com/hexo<span class="token punctuation">-</span>anzhiyu<span class="token punctuation">-</span>music@1.0.1/assets/js/Meting2.min.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>创建页面, 新建 <code>source/music/index.md</code> 文件</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> 音乐馆<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2021-04-24 21:41:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> music<span class="token key atrule">aplayer</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">top_img</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">comments</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">aside</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>创建页面，新建<code>themes/butterfly/layout/includes/page/music.pug</code>，并方便后续可以使用 css 将页面(page)本身的样式给去除。此处可以自行修改<strong>server</strong>和<strong>歌单 id</strong>，我的 id 是 8152976493，歌单 id 是对应的服务商的歌单页面路径最后面的那个数字。</p><p><code>music.pug</code></p><pre class="line-numbers language-pug" data-language="pug"><code class="language-pug"><span class="token tag"><span class="token attr-id">#anMusic-page</span></span>  <span class="token tag">meting-js<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"8152976493"</span> server<span class="token operator">=</span><span class="token string">"netease"</span> type<span class="token operator">=</span><span class="token string">"playlist"</span> mutex<span class="token operator">=</span><span class="token string">"true"</span> preload<span class="token operator">=</span><span class="token string">"auto"</span> theme<span class="token operator">=</span>"<span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>anzhiyu<span class="token operator">-</span>main</span><span class="token punctuation">)</span></span></span>" order<span class="token punctuation">=</span>"list")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>修改<code>themes/butterfly/layout/page.pug</code></p><pre class="line-numbers language-diff" data-language="diff"><code class="language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> #page</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   if top_img === false</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   if top_img === false &amp;&amp; page.type != 'music'</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     h1.page-title= page.title</span><span class="token prefix unchanged"> </span><span class="token line">   case page.type</span><span class="token prefix unchanged"> </span><span class="token line">     when 'link'</span><span class="token prefix unchanged"> </span><span class="token line">       include includes/page/flink.pug</span><span class="token prefix unchanged"> </span><span class="token line">     ...</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">     when 'music'</span><span class="token prefix inserted">+</span><span class="token line">       include includes/page/music.pug</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     default</span><span class="token prefix unchanged"> </span><span class="token line">       include includes/page/default-page.pug</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>创建背景元素，修改<code>themes/butterfly/layout/includes/layout.pug</code></p><pre class="line-numbers language-diff" data-language="diff"><code class="language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> body</span><span class="token prefix unchanged"> </span><span class="token line">   if theme.background</span><span class="token prefix unchanged"> </span><span class="token line">     #web_bg</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">     #an_music_bg</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="js-部分"><a href="#js-部分" class="headerlink" title="js 部分"></a>js 部分</h4><p>css 部分和 js 部分不会引用的同学可以去看 <a href="https://www.bilibili.com/video/BV1rT411w7gj/?spm_id_from=333.999.0.0">https://www.bilibili.com/video/BV1rT411w7gj/?spm_id_from=333.999.0.0</a></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 自定义js</span><span class="token punctuation">-</span> &lt;script async data<span class="token punctuation">-</span>pjax src="/js/anzhiyu.js"<span class="token punctuation">></span>&lt;/script<span class="token punctuation">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>anzhiyu.js</code>,其中有一部分代码是暂停 nav 的音乐的，需要的同学可以打开注释自己实现一下 musicToggle 方法。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> anzhiyu <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 音乐节目切换背景</span>  <span class="token function-variable function">changeMusicBg</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">isChangeBg <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">!=</span> <span class="token string">"/music/"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> anMusicBg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"an_music_bg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isChangeBg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// player listswitch 会进入此处</span>      <span class="token keyword">const</span> musiccover <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#anMusic-page .aplayer-pic"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      anMusicBg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage <span class="token operator">=</span> musiccover<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 第一次进入，绑定事件，改背景</span>      <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> musiccover <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#anMusic-page .aplayer-pic"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 确保player加载完成</span>        console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>anMusicBg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>musiccover<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>          anMusicBg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage <span class="token operator">=</span> musiccover<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage<span class="token punctuation">;</span>          <span class="token comment">// 绑定事件</span>          anzhiyu<span class="token punctuation">.</span><span class="token function">addEventListenerChangeMusicBg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 暂停nav的音乐</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>            document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#nav-music meting-js"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>aplayer <span class="token operator">&amp;&amp;</span>            <span class="token operator">!</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#nav-music meting-js"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>aplayer<span class="token punctuation">.</span>audio<span class="token punctuation">.</span>paused          <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            anzhiyu<span class="token punctuation">.</span><span class="token function">musicToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token function-variable function">addEventListenerChangeMusicBg</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> anMusicPage <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"anMusic-page"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> aplayerIconMenu <span class="token operator">=</span> anMusicPage<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".aplayer-info .aplayer-time .aplayer-icon-menu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    anMusicPage<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"meting-js"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>aplayer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"loadeddata"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      anzhiyu<span class="token punctuation">.</span><span class="token function">changeMusicBg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"player loadeddata"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    aplayerIconMenu<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"menu-mask"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"menu-mask"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>animation <span class="token operator">=</span> <span class="token string">"0.5s ease 0s 1 normal none running to_show"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"menu-mask"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">!=</span> <span class="token string">"/music/"</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>      anMusicPage<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".aplayer-list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"aplayer-list-hide"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 调用</span>anzhiyu<span class="token punctuation">.</span><span class="token function">changeMusicBg</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><p>css 部分, 自行建立 css 能成功引入即可</p><p><code>music.css</code></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">#page:has(#anMusic-page)</span> <span class="token punctuation">&#123;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> transparent <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#an_music_bg</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>63px<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.6<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> -999<span class="token punctuation">;</span>  <span class="token property">background-attachment</span><span class="token punctuation">:</span> local<span class="token punctuation">;</span>  <span class="token property">background-position</span><span class="token punctuation">:</span> center center<span class="token punctuation">;</span>  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>  <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>  <span class="token property">top</span><span class="token punctuation">:</span> -50%<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> -50%<span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body:has(#anMusic-page) #an_music_bg</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body:has(#anMusic-page)</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>13<span class="token punctuation">,</span> 13<span class="token punctuation">,</span> 13<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page meting-js .aplayer</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row-reverse<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body:has(#anMusic-page) #web_bg</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body:has(#anMusic-page) #footer,body:has(#anMusic-page) #nav-music</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-body</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 40%<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 75vh<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page ol > li:hover</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #ffffff33<span class="token punctuation">;</span>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-pic</span> <span class="token punctuation">&#123;</span>  <span class="token property">float</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 0 20px 0 20px<span class="token punctuation">;</span>  <span class="token property">border-bottom</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-music</span> <span class="token punctuation">&#123;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-music .aplayer-author,#anMusic-page .aplayer-info .aplayer-music .aplayer-title</span> <span class="token punctuation">&#123;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>  <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-lrc</span> <span class="token punctuation">&#123;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 800%<span class="token punctuation">;</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>  <span class="token property">mask-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to bottom<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #0000<span class="token punctuation">,</span> #0000<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-lrc p</span> <span class="token punctuation">&#123;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer .aplayer-lrc:after,#anMusic-page .aplayer .aplayer-lrc:before</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* 控制器 */</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-controller</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>  <span class="token property">max-width</span><span class="token punctuation">:</span> 1500px<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-controller .aplayer-bar-wrap</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 0 160px 0 150px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-controller .aplayer-played</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--anzhiyu-white<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-controller .aplayer-thumb</span> <span class="token punctuation">&#123;</span>  <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #fff <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-back,#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-forward,#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-play</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span> 21px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-time-inner</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin-right</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> -8px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-back</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-play</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-forward</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>  <span class="token property">margin-left</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-menu</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon path</span> <span class="token punctuation">&#123;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--anzhiyu-white<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page .aplayer-list</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span>  <span class="token property">max-height</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page ol</span> <span class="token punctuation">&#123;</span>  <span class="token property">max-height</span><span class="token punctuation">:</span> 75vh <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token property">padding-right</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page ol > li</span> <span class="token punctuation">&#123;</span>  <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid transparent<span class="token punctuation">;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page ol > li.aplayer-list-light</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255 255 255 / 20%<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page ol > li span</span> <span class="token punctuation">&#123;</span>  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--anzhiyu-white<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page ol > li.aplayer-list-light .aplayer-list-cur</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#anMusic-page ol > li span.aplayer-list-author</span> <span class="token punctuation">&#123;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.6<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* 导航栏 */</span><span class="token selector">.page:has(#anMusic-page) #nav</span> <span class="token punctuation">&#123;</span>  <span class="token property">backdrop-filter</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> 0 0 <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token property">border-bottom</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.page:has(#anMusic-page) #page-header.not-top-img #nav a,.page:has(#anMusic-page) #page-header #nav .back-home-button</span> <span class="token punctuation">&#123;</span>  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--anzhiyu-white<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body:has(#anMusic-page) .s-sticker div</span> <span class="token punctuation">&#123;</span>  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--anzhiyu-white<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body:has(#anMusic-page) .aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-loop</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin-right</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">[data-theme="dark"] .page:has(#anMusic-page) #page-header:before</span> <span class="token punctuation">&#123;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* **** 移动端样式 ***** */</span><span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>  <span class="token selector">body:has(#anMusic-page) #rightside</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">body:has(#anMusic-page) #content-inner,  body:has(#anMusic-page) #page</span> <span class="token punctuation">&#123;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/* 歌曲列表 */</span>  <span class="token selector">#anMusic-page .aplayer-list</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 1002<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> -76%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--sidebar-bg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 15px 15px 0px 0px<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 15px 0px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-list.aplayer-list-hide</span> <span class="token punctuation">&#123;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0% <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol</span> <span class="token punctuation">&#123;</span>    <span class="token property">max-height</span><span class="token punctuation">:</span> 60vh <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">padding-right</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li span</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--font-color<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li span.aplayer-list-title</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 30%<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li.aplayer-list-light</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #33a673<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 5px 20px<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li.aplayer-list-light span</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li span.aplayer-list-title</span> <span class="token punctuation">&#123;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> 55%<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>    <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li span.aplayer-list-author</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> 35%<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>    <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page ol > li.aplayer-list-light span.aplayer-list-author</span> <span class="token punctuation">&#123;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/* 歌词信息 */</span>  <span class="token selector">#anMusic-page .aplayer-body</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-lrc</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">max-height</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>    <span class="token property">min-height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">mask-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to bottom<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #0000<span class="token punctuation">,</span> #0000<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-lrc p.aplayer-lrc-current</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #33a673<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/* 控制按键和进度条 */</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-controller</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-controller .aplayer-bar-wrap</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0 30px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time</span> <span class="token punctuation">&#123;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> -40px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-time-inner</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">margin-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> -33px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-time-inner .aplayer-dtime</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-time-inner .aplayer-ptime</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-back</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 110px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-play</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-forward</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 110px<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-order</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 22px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-loop</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-info .aplayer-time .aplayer-icon-menu</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> -90px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer-volume-bar-wrap</span> <span class="token punctuation">&#123;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 7px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#anMusic-page .aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap</span> <span class="token punctuation">&#123;</span>    <span class="token property">left</span><span class="token punctuation">:</span> -66px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;很久之前就想把整个音乐界面好好写一写，不过一直迫于咕咕咕的属性没有去做这件事，以至于悔之不及，没有早点做，对我这种重度音乐控来说真的是太爽了，很快啊，马上就听了一下午。&lt;/p&gt;
&lt;p&gt;前两天看到 &lt;a href=&quot;https://blog.yeooe.cn/&quot;&gt;叶子&lt;/a&gt;</summary>
      
    
    
    
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://anzhiy.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="aplayer" scheme="https://anzhiy.cn/tags/aplayer/"/>
    
  </entry>
  
  <entry>
    <title>操作系统复习题</title>
    <link href="https://anzhiy.cn/posts/d4d2.html"/>
    <id>https://anzhiy.cn/posts/d4d2.html</id>
    <published>2023-02-02T15:55:12.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<span class='p center logo large'>操作系统</span><details class="folding-tag" open><summary> 选择题 </summary>              <div class='content'>              <ol><li><p>操作系统的最主要设计目标是（ ）。<br>A．方便性和有效性 B．方便性和可扩展性<br>C．有效性和可扩展性 D．有效性和开放性<br>答：<psw>A</psw></p></li><li><p>有甲、乙两道算题，每道需执行 1 小时（其中处理器的工作时间为 12 分钟）。若它们在多道系统中执行，甲、乙两道题总共需执行 80 分钟，则处理器的利用率为（ ）。<br>A．50% B．40% C．30% D．20%<br>答：<psw>C</psw></p></li><li><p>从下面对临界区的论述中，选出一条正确的论述。（ ）<br>A.临界区是指进程中用于实现进程同步的那段代码<br>B.临界区是指进程中用于实现进程通信的那段代码<br>C.临界区是指进程中用于访问共享资源的那段代码<br>D.临界区是指进程中访问临界资源的那段代码<br>答：<psw>D</psw></p></li><li><p>操作系统提供一组特殊的程序，它们不能被系统中断，在操作系统中称为（ ）。<br>A.初始化程序 B.原语 C.子程序 D.控制模块<br>答：<psw>B</psw></p></li><li><p>一种既有利于短小作业又兼顾到长作业的作业调度算法是（ ）。<br>A．先来先服务 B．轮转 C．最高响应比优先 D．均衡调度<br>答：<psw>C</psw></p></li><li><p>操作系统中，资源分配的基本单位是（ ）。<br>A．进程 B．线程 C．作业 D．程序<br>答：<psw>A</psw></p></li><li><p>进程之间的制约关系可以归结为（ ）。<br>A．同步与互斥 B．并发与异步 C．同步与并发 D．同步与异步<br>答：<psw>A</psw></p></li><li><p>产生死锁的原因是（ ）有关。<br>A．与多个进程竞争 CPU<br>B．与多个进程释放资源<br>C．仅由于并发进程的执行速度不当<br>D．除资源分配策略不当外，也与并发进程执行速度不当<br>答：<psw>D</psw></p></li><li><p>死锁的 4 个必要条件中，无法破坏的是（ ）。<br>A.环路等待资源 B.互斥使用资源 C.占有且等待资源 D.非抢夺式分配<br>答：<psw>B</psw></p></li><li><p>页式存储管理中，每次从主存中取指令或取操作数，当读快表失败时，要读（ ）次主存。<br>A．1 B．2 C．3 D．4<br>答：<psw>B</psw></p></li><li><p>中断和通道技术的引入，使得（ ）。<br>A．CPU 与外设能紧密结合 B．CPU 与外设能并行工作<br>C．CPU 速度提高 D．外设速度提高<br>答：<psw>B</psw></p></li><li><p>下列关于进程和线程的叙述中，正确的是（ ）<br>A．不管系统是否支持线程，进程都是资源分配的基本单位<br>B．线程是资源分配的基本单位，进程是调度的基本单位<br>C．系统级线程和用户级线程的切换都需要内核的支持<br>D．同一进程中的各个线程拥有各自不同的地址空间<br>答：<psw>A</psw></p></li><li><p>在下述进程状态的转换中，( ) 是不可能的。<br>A．运行态 → 就绪态 B．运行态 → 等待态 C．等待态 → 就绪态 D．就绪态 → 等待态<br>答：<psw>D</psw></p></li><li><p>若信号量 S 的初值为 2，当前值为-1，则表示有( )个等待进程。<br>A．0 B．1 C．2 D．3<br>答：<psw>B</psw></p></li><li><p>下列选项中，会导致进程从执行态变为就绪态的事件是（ ）。<br>A.执行 P 操作 B.申请内存失败 C.启动 I&#x2F;O 设备 D.被高优先级进程抢占<br>答：<psw>D</psw></p></li><li><p>将主存空闲区按地址顺序从小到大登记在空闲区表中，每次分配时总是顺序查找空闲区表，此种分配算法称为 ( ) 分配算法。<br>A．首次适应 B．最佳适应 C．最坏适应 D．循环首次适应<br>答：<psw>B</psw></p></li><li><p>系统为某进程分配了 4 个页框，该进程已访问的页号序列为 2、0、2、9、3、4、2、8、2、4、8、4、5。若进程要访问的下一页的页号为 7，依据 LRU 算法，应淘汰页的页号是（ ）。<br>A. 2 B. 3 C. 4 D. 8<br>答：<psw>A</psw></p></li><li><p>按文件的组织方式可将文件分成 （ ） 等。<br>A．数据文件，命令文件，文本文件<br>B．命令文件，库文件，索引文件<br>C．顺序文件，索引文件，索引顺序文件<br>D．输入文件，输出文件，随机文件<br>答：<psw>C</psw></p></li><li><p>并发性是指若干事件在（ ）发生。<br>A.同一时刻 B.不同时刻 C.同一时间间隔内 D.不同时间间隔内<br>答：<psw>C</psw></p></li><li><p>设与某资源相关联的信号量初值为 3，当前值为 1，若 M 表示该资源的可用个数，N 表示等待资源的进程数，则 M、N 分别是（ ）。<br>A. 0、1 B. 1、0 C. 1、2 D. 2、0<br>答：<psw>B</psw></p></li><li><p>在对记录型信号量的 P 操作的定义中，当信号量的值（ ）时，执行 P 操作的进程变为阻塞状态。<br>A.大于 0<br>B.小于 0<br>C.等于 0<br>D.小于或等于 0<br>答：<psw>B</psw></p></li><li><p>系统中有 4 个进程都要使用某类资源。若每个进程最多需要 3 个该类资源，为保证系统不发生死锁，系统应提供该类资源至少是（ ）。<br>A.3 个 B.4 个 C.9 个 D.12 个<br>答：<psw>C</psw></p></li><li><p>采用分页存储管理方式进行存储分配时产生的存储碎片，被称为（ ）。<br>A.外零头 B.内零头 C.外零头或内零头 D.A、B、C 都正确<br>答：<psw>D</psw></p></li><li><p>进程和程序的本质区别是（ ）。<br>A.前者是动态的，后者是静态的<br>B.前者存储在内存，后者存储在外存<br>C.前者在一个文件中，后者在多个文件中<br>D.前者分时使用 CPU，后者独占 CPU<br>答：<psw>A</psw></p></li><li><p>分页存储管理系统中，虚拟地址转换成物理地址的工作是由（ ）完成的。<br>A.地址转换程序 B.用户程序 C.硬件 D.装入程序<br>答：<psw>C</psw></p></li><li><p>一个作业 8:00 到达系统，估计运行时间为 1 小时。若 10:00 开始执行该作业，其响应比是（ ）。<br>A.2<br>B.1<br>C.3<br>D.0.5<br>答：<psw>C， 响应比定义为：响应比&#x3D;作业响应时间&#x2F;运行时问的估计值。其中响应时间为作业进入系统后的等待时间加上估计的运行时间。于是响应比&#x3D;1+作业等待时间&#x2F;运行时间的估计值。所以本题计算*: 1+(10-8)&#x2F;1&#x3D;3,</psw></p></li><li><p>具有 3 级页表的系统中，访问内存的次数为（ ）。<br>A.4<br>B.3<br>C.2<br>D.1<br>答：<psw>A</psw></p></li></ol>              </div>            </details><details class="folding-tag" open><summary> 填空题 </summary>              <div class='content'>              <ol><li><p>设有四个作业同时到达，每个作业的执行时间均为 1 小时，它们在一台处理机上按单道方式运行，则平均周转时间为<psw>2.5</psw>小时。</p></li><li><p>在 OS 中，不可中断的操作称为<psw>原语</psw>。</p></li><li><p>如果系统中有 n 个进程，则在等待队列中进程的个数最多为 <psw>n</psw>个。</p></li><li><p>操作系统是一种<psw>系统</psw>软件。</p></li><li><p>一次仅允许一个进程使用的资源称为<psw>临界资源</psw>。</p></li><li><p>操作系统的接口有<psw>命令接口</psw>、程序接口和图形用户接口。</p></li><li><p>操作系统中的 SPOOLing 技术，实质是将<psw>独占</psw>设备转化为共享设备的技术。</p></li><li><p>设备 I&#x2F;O 方式有如下三种：程序方式、中断方式、<psw>询问</psw>和通道工作方式。</p></li><li><p>现代操作系统应当具备的特征为<psw>程序的并发执行</psw>、资源共享、<psw>操作的</psw>异步。</p></li></ol>              </div>            </details><details class="folding-tag" open><summary> 简答题 </summary>              <div class='content'>              <ol><li><p>画出进程的五种状态转换图并注明转换的条件。</p><div class="hide-block"><button type="button" class="hide-button" style="">答案 </button><div class="hide-content"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2023/02/07/63e1dd4b3942a.png"></p></div></div></li><li><p>简述分页和分段的主要区别。</p><div class="hide-block"><button type="button" class="hide-button" style="">答案 </button><div class="hide-content"><blockquote><p>主要的区别如下：</p><ol><li>单位：分页是以固定页面大小（通常为 4KB 或 8KB）为单位进行内存分配的，而分段则是以程序段为单位进行内存分配的。</li><li>粒度：分页的粒度较小，适合管理大量小数据块，而分段的粒度较大，适合管理较大的数据段。</li><li>空间利用率：分页可以有效利用内存空间，因为它可以将内存块进行细粒度的分配，而分段则存在内存碎片问题。</li><li>管理方式：分页通常由操作系统自动完成，而分段则需要程序员手动实现。</li><li>总体来说，分页适用于管理大量小数据块，分段适用于管理大块内存。操作系统根据需求选择使用分页或分段，或者两者结合使用。</li></ol></blockquote></div></div></li><li><p>在操作系统中引起进程调度的因素有哪些？</p><div class="hide-block"><button type="button" class="hide-button" style="">答案 </button><div class="hide-content"><blockquote><ol><li>进程状态：当进程进入就绪状态，即可以运行，操作系统就会考虑是否进行调度。</li><li>优先级：操作系统会根据进程的优先级来选择哪个进程先运行。</li><li>CPU 时间片：操作系统通常使用时间片轮转算法，从而选择哪个进程先运行。</li><li>I&#x2F;O 操作：当进程在等待 I&#x2F;O 操作完成时，操作系统可以将 CPU 资源分配给其他进程。</li><li>进程睡眠：当进程处于睡眠状态，操作系统可以将 CPU 资源分配给其他进程。</li></ol></blockquote></div></div></li><li><p>（1）描述访问临界资源的循环进程（2）写出同步机制应遵循的准则</p><div class="hide-block"><button type="button" class="hide-button" style="">答案 </button><div class="hide-content"><blockquote><p>访问临界资源的循环进程是指多个进程同时对一个共享资源进行读写操作。由于多个进程同时竞争这个资源，可能导致数据冲突、不一致等问题。</p></blockquote><blockquote><ul><li>互斥性：在任意时刻，最多只有一个进程可以访问共享资源。</li><li>占有且继续：当一个进程占有共享资源时，它不会释放该资源直到完成对其的操作。</li><li>不死锁：在任意时刻，系统不会发生死锁现象，即多个进程因互相等待对方释放资源而陷入僵局。</li><li>有限等待：系统保证每个进程最多等待一个固定的时间限制，在该时间限制内，如果共享资源仍未被释放，则该进程被强制剥夺其占用资源的权利。</li><li>公平性：系统必须保证每个进程在等待共享资源的同时，都有相同的机会获得资源，不存在某个进程长期占有资源的情况。</li></ul></blockquote></div></div></li><li><p>简述死锁产生的原因及必要条件。</p><div class="hide-block"><button type="button" class="hide-button" style="">答案 </button><div class="hide-content"><blockquote><p>死锁是指两个或更多的进程在执行过程中因竞争资源而造成的一种互相等待的现象，若无外力作用将无法推进下去。死锁产生的必要条件包括：</p><ol><li>互斥条件：一个资源每次只能被一个进程使用。</li><li>请求与保持条件：进程已经占有了至少一个资源，但又提出了新的资源请求，而该资源已被其他进程占有，此时请求进程阻塞。</li><li>不剥夺条件：进程所获得的资源在未使用完之前，不能强行剥夺。</li><li>循环等待条件：存在一个进程等待序列，使得每个进程等待的其他进程正在等待该进程所占有的资源，形成一个环。</li></ol><p>当满足以上四个条件时，就会发生死锁。</p></blockquote></div></div></li></ol>              </div>            </details>]]></content>
    
    
      
      
    <summary type="html">&lt;span class=&#39;p center logo large&#39;&gt;操作系统&lt;/span&gt;

&lt;details class=&quot;folding-tag&quot; open&gt;&lt;summary&gt; 选择题 &lt;/summary&gt;
              &lt;div class=&#39;content&#39;</summary>
      
    
    
    
    <category term="大学生涯" scheme="https://anzhiy.cn/categories/%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF/"/>
    
    
    <category term="操作系统" scheme="https://anzhiy.cn/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>2022年度总结</title>
    <link href="https://anzhiy.cn/posts/4c6a.html"/>
    <id>https://anzhiy.cn/posts/4c6a.html</id>
    <published>2022-12-27T10:57:50.000Z</published>
    <updated>2023-04-19T02:33:35.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note blue anzhiyu-icon-fan flat"><p>眨眼之间一年就过去了，这一年发生了好多好多的事情呐。多图流量警告。</p></div><p>在这一年里有试过在杭州剪过一次新发型。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa89943caea.webp!blogimg"></p><h3 id="关于工作"><a href="#关于工作" class="headerlink" title="关于工作"></a>关于工作</h3><p>今年年初继续上年在一家很棒的公司做着前端实习工作，虽然工资不高，只有 5k，不过在这里认识的人都特别好，以至于到现在也常有联系。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa89943f20b.webp!blogimg"></p><p>工位也很喜欢，每天来到办公室的第一件事就是开中央空调。因为是直播公司的缘故，在这里从来没有缺过零食，除了一开始的单休不太美丽以外，后续也改为了双休（打工人高呼）</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa89943f2bc.webp!blogimg"></p><p>临近春节以后给住了半年的小区最后拍了一张清晨的拱墅区。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa899440a1c.webp!blogimg"></p><p>在杭州的日子里，这座城市给我感觉很棒，很魔幻，可惜第一次来到一个陌生的城市，租到了一个离工作地点通勤需要地铁 1 个半小时 ➕ 公交半小时才能抵达滨江实在是令人窒息。也曾试过 6 点半起来然后骑自行车只需要 1 个小时多到达公司楼下，这样 8 点多到，然后吃个早餐就差不多正好（9 点考勤），不过实在是太累了（也有过买小电驴的想法 💡），但是杭州的小电驴管的特别严，给我印象最深刻的就是过斑马线的时候一大堆人和电瓶车一起等红绿灯 🚥 的场景，然后几个人开始抢跑 hhh，这是湘潭这种小县城所不具备的。</p><p>再后来过完年本来打算是离职的，不过出乎意料的是居然被留下来兼职，后来一直在家里准备专升本的考试且 5k 兼职到了 5 月底左右。直到考试结束，挺谢谢老板的啦。</p><h3 id="关于生活"><a href="#关于生活" class="headerlink" title="关于生活"></a>关于生活</h3><p>从杭州回来以后就一直处于备考的状态，说起来老板真的人很好，年假提前了 10 多天放假足足放到了元宵，差不多大半个月。回来以后因为在杭州常常以外卖应付了事，胖了好多好多，于是积极响应女朋友的号召每天跑步跑步锻炼身体，坚持了一个月以后瘦了差不多 10 斤左右。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa93423ff38.webp!blogimg"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa9342b9d18.webp!blogimg"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa9342bbad6.webp!blogimg"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa9342bdb0f.webp!blogimg"></p><p>在 3 月份开始迷上各种开源项目，看了许许多多的开源项目，从中也偷窥了很多很多大牛 🐮 的思想。</p><p>也是在今年攒下了 10w，买房又进了一步。</p><p>第一次织花花，因为真的没有什么时间，但是又马上要到 520 了的我，只要一个星期就可以织完的线材，前前后后居然用了 20 天才织完，所幸效果很不错，那段时间脑子 🧠 里都是短针，中长针，长针。😵，一共 9 朵，献给了我的宝。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa9607c545c.webp!blogimg"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa9607b8a98.webp!blogimg"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa9607ace7d.webp!blogimg"></p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa9607d3d66.webp!blogimg"></p><p>还有几件令人高兴的事情，原神我抽出了双黄蛋！，万叶也出来了！</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa970010973.webp!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa97001233a.webp!blogimg"></p><p>在这一年里我换掉了跟了我 3 年的联想 Y7000 游戏本，换上了现在的 macbook</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa984111f93.webp!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/27/63aa984111b5c.webp!blogimg"></p><p>具体使用感受可以去看我的这篇文章</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://anzhiy.cn/posts/571d.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/anzhiy.cn/posts/571d.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">macbook pro 2021真实体验</div>            <div class="tag-link-sitename">https://anzhiy.cn/posts/571d.html</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h3 id="关于学业"><a href="#关于学业" class="headerlink" title="关于学业"></a>关于学业</h3><p>在考完后的 1 个月迎来了升本录取通知书</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abba3867a90.webp!blogimg"></p><h3 id="关于美食"><a href="#关于美食" class="headerlink" title="关于美食"></a>关于美食</h3><p>本年的娱乐活动少的可怜，由于口罩的原因几乎没有外出，但是依然忙里偷闲在 6 月和小伙伴们自己尝试做烧烤吃<del>虽然不是那么好吃，一顿海底捞的钱居然没有吃饱</del>，一定是打开方式不对。</p><p>在湘江边上的烧烤很棒！</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abbd2e7c15b.webp!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abbd2e9567b.webp!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abbd2e84e97.webp!blogimg"></p><p>只不过打开方式不太对，实在是吃不下去，大部分都喂给小狗狗吃了。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abbd2e9da8b.jpeg!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abbd2e90681.webp!blogimg"></p><p>后来还陆陆续续的约了几次麻将 🀄️<br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abbd2e8cb68.webp!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abbd2e926ca.webp!blogimg"></p><h3 id="关于博客"><a href="#关于博客" class="headerlink" title="关于博客"></a>关于博客</h3><p>这一年把博客改了很多很多，也开始陆陆续续的产出文章，只是没售后 🤡，也开始尝试在 bilbili 发视频，想尝试更多新的内容，认识好多好多有趣的人。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3dab5a29.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3dac6e62.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3daee9b8.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3daef07a.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3daf4019.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3daf1a87.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3db096a3.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3db075fb.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3db0998c.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3db09f9b.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3db09650.png!blogimg"><br><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/28/63abc3db09c62.png!blogimg"></p><h3 id="关于技术"><a href="#关于技术" class="headerlink" title="关于技术"></a>关于技术</h3><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>vue3+pinia</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>react18新hook</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>threeJS，智慧城市</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>canvas，svg绘制</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>css奇技淫巧</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>javascript技巧总结</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>springboot重提</p>            </div><div class='checkbox blue'><input type="checkbox" />            <p>视频流，音频流，流媒体</p>            </div>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note blue anzhiyu-icon-fan flat&quot;&gt;&lt;p&gt;眨眼之间一年就过去了，这一年发生了好多好多的事情呐。多图流量警告。&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;在这一年里有试过在杭州剪过一次新发型。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https:</summary>
      
    
    
    
    <category term="年度总结" scheme="https://anzhiy.cn/categories/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="年度总结" scheme="https://anzhiy.cn/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>[转载]还在用 JS 做节流吗？CSS 也可以防止按钮重复点击</title>
    <link href="https://anzhiy.cn/posts/dd9.html"/>
    <id>https://anzhiy.cn/posts/dd9.html</id>
    <published>2022-12-24T15:59:37.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://juejin.cn/post/7165828047520661534">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/juejin.cn/post/7165828047520661534.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">还在用 JS 做节流吗？CSS 也可以防止按钮重复点击</div>            <div class="tag-link-sitename"> https://juejin.cn/post/7165828047520661534</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p>众所周知，函数节流（throttle）是 JS 中一个非常常见的优化手段，可以有效的避免函数过于频繁的执行。</p><p>举个例子：一个保存按钮，为了避免重复提交或者服务器考虑，往往需要对点击行为做一定的限制，比如只允许每<code>300ms</code>提交一次，这时候我想大部分同学都会到网上直接拷贝一段<code>throttle</code>函数，或者直接引用<code>lodash</code>工具库</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> _<span class="token punctuation">.</span><span class="token function">throttle</span><span class="token punctuation">(</span>save<span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>其实除了 JS 方式， CSS 也可以非常轻易的实现这样一个功能，无需任何框架库，一起看看吧</p><h2 id="一、CSS-实现思路分析"><a href="#一、CSS-实现思路分析" class="headerlink" title="一、CSS 实现思路分析"></a>一、CSS 实现思路分析</h2><p>CSS 实现和 JS 的思维不同，需要从另一个角度去看待这个问题。</p><p>比如这里的需要对点击事件进行限制，也就是禁用点击事件，想想有什么方式可以禁用事件，没错，就是<code>pointer-events</code>;</p><p>然后是时间的限制，每次点击后需要自动禁用<code>300ms</code>，时间过后重新恢复，那么，有什么特性和时间以及状态恢复有关呢？没错，就是<code>animation</code>;</p><p>除此之外，还需要有触发时机，这里是点击行为，所以必然和伪类<code>:active</code>有关联。</p><p>因此，综合分析，实现这样一个功能需要用到<code>pointer-events</code>、<code>animation</code>以及<code>:active</code>，那么如何将这些思路串联起来呢？</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ddc0830dbf747c6a2f256ff9910a5f0~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image-20221112001600031"></p><p>思考 3 秒…</p><p>🤔</p><p>🤔</p><p>🤔</p><p>你想到了吗？💡💡💡</p><p>其实这种场景可以理解成是<strong>对 CSS 动画的控制</strong>，比如有一个动画控制按钮从<strong>禁用</strong>-&gt;<strong>可点击</strong>的变化，每次点击时让这个动画重新执行一遍，在执行的过程中，一直处于<strong>禁用</strong>状态，是不是就达到了“节流”的效果了？</p><p>接下来看看具体实现</p><h2 id="二、CSS-动画的精准控制"><a href="#二、CSS-动画的精准控制" class="headerlink" title="二、CSS 动画的精准控制"></a>二、CSS 动画的精准控制</h2><p>假设有一个按钮，绑定了一个点击事件</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'保存'</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>保存<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这时的按钮连续点击就会不断地触发，效果如下</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/598ff1d433dd40e8a828257aa0495140~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Kapture 2022-11-12 at 00.17.44"></p><p>下面定义一个关于<code>pointer-events</code>的动画，就叫做 <code>throttle</code> 吧</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> throttle</span> <span class="token punctuation">&#123;</span>  <span class="token selector">from</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">to</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>很简单吧，就是从<strong>禁用</strong>到<strong>可点击</strong>的变化。</p><p>接下来，将这个动画绑定在按钮上，这里为了方便测试，将动画设置成了<code>2s</code></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">button</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> throttle 2s step-end forwards<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>注意，这里动画的缓动函数设置成了阶梯曲线，<code>step-end</code>，它可以很方便的控制<code>pointer-events</code>的变化时间点。</p><blockquote><p>有兴趣的可以参考这篇文章：<a href="https://link.juejin.cn/?target=https://www.zhangxinxu.com/wordpress/2018/06/css3-animation-steps-step-start-end/" title="https://www.zhangxinxu.com/wordpress/2018/06/css3-animation-steps-step-start-end/">CSS3 animation 属性中的 steps 功能符深入介绍 « 张鑫旭-鑫空间-鑫生活 (zhangxinxu.com)</a></p></blockquote><p>如下示意，<code>pointer-events</code>在 0~2 秒内的值都是<code>none</code>，一旦到达 2 秒，就立刻变成了<code>all</code>，由于是<code>forwards</code>，会一直保持<code>all</code>的状态</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49075510ac2d4f058940b2fcdedd8ef7~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="image-20221112005210875"></p><p>最后，在点击时重新执行一遍动画，只需要在按下时设置动画为<code>none</code>就行了</p><blockquote><p>这个技巧之前在这篇文章中有更详细的介绍： <a href="https://juejin.cn/post/7064404257436336135" title="https://juejin.cn/post/7064404257436336135">CSS 实现按钮点击动效的套路</a></p></blockquote><p>实现如下</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">button:active</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>为了演示方便，我们暂时把颜色变化也加在动画里</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> throttle</span> <span class="token punctuation">&#123;</span>  <span class="token selector">from</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">to</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>现在如果文字是<code>red</code>，表示是禁用态，只有是<code>green</code>，才表示可以被点击，非常清晰明了，如下</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/504f0df68b174ec680027204aa68f60a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Kapture 2022-11-12 at 10.54.43"></p><p>下面是最终点击对比效果，很好地限制了点击频率</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0149a2bfc61a4bfe9476e4817977b380~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Kapture 2022-11-12 at 10.48.13"></p><p>完整代码如下，就这么几行，<strong>如果需要改限制时间，直接改动画时间就行了</strong></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">button</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> throttle 2s step-end forwards<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">button:active</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> throttle</span> <span class="token punctuation">&#123;</span>  <span class="token selector">from</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">to</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>你也可以查看以下任意链接：</p><ul><li><a href="https://link.juejin.cn/?target=https://codepen.io/xboxyan/pen/rNKmmVq" title="https://codepen.io/xboxyan/pen/rNKmmVq">CSS throttle (codepen.io)</a></li><li><a href="https://link.juejin.cn/?target=https://runjs.work/projects/47885939389440f4" title="https://runjs.work/projects/47885939389440f4">CSS throttle (runjs.work)</a></li></ul><h2 id="三、CSS-实现的其他思路"><a href="#三、CSS-实现的其他思路" class="headerlink" title="三、CSS 实现的其他思路"></a>三、CSS 实现的其他思路</h2><p>还记得之前这一篇文章吗？</p><blockquote><p><a href="https://juejin.cn/post/7143051955810598926" title="https://juejin.cn/post/7143051955810598926">还在用定时器吗？借助 CSS 来监听事件</a></p></blockquote><p>借用这种思路，也可以很轻松的实现节流的效果。而且为了更好的体验，可以用上真正的按钮禁用</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">btn<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>具体思路是这样的，通过<code>:active</code>去触发<code>transition</code>变化，然后通过监听<code>transition</code>回调去动态设置按钮的禁用状态，实现如下</p><p>定义一个无关紧要的过渡属性，比如<code>opacity</code></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">button</span> <span class="token punctuation">&#123;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.99<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> opacity 2s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">button:not(:disabled):active</span> <span class="token punctuation">&#123;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> 0s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后监听<code>transition</code>的起始回调</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 过渡开始</span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"transitionstart"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 过渡结束</span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"transitionend"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这样做的最大好处是，<strong>这部分禁用的逻辑是完全和业务逻辑是解耦的</strong>，可以在任意时候，任意场合下无缝接入，也不受框架和环境影响，效果如下</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18d578d705104d84ab32394cd7426bab~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="Kapture 2022-11-14 at 17.25.49"></p><p>完整代码也可以查看以下任意链接：</p><ul><li><a href="https://link.juejin.cn/?target=https://codepen.io/xboxyan/pen/oNyWwvB" title="https://codepen.io/xboxyan/pen/oNyWwvB">CSS throttle disabled (codepen.io)</a></li><li><a href="https://link.juejin.cn/?target=https://runjs.work/projects/41e8b998624743fc" title="https://runjs.work/projects/41e8b998624743fc">CSS throttle disabled (runjs.work)</a></li></ul><h2 id="四、总结一下"><a href="#四、总结一下" class="headerlink" title="四、总结一下"></a>四、总结一下</h2><p>以上通过 CSS 的思路实现了类似“节流”的功能，相比 JS 实现而言，实现更精简、使用更简单，没有框架限制，下面一起总结一下实现要点：</p><ol><li>函数节流是一个非常常见的优化方式，可以有效避免函数过于频繁的执行</li><li>CSS 的实现思路和 JS 不同，重点在于在于找到和该场景相关联的属性</li><li>CSS 实现“节流”其实就是控制一个动画的精准控制，假设有一个动画控制按钮从<strong>禁用</strong>-&gt;<strong>可点击</strong>的变化，每次点击时让这个动画重新执行一遍，在执行的过程中，一直处于<strong>禁用</strong>状态，这样就达到了“节流”的效果</li><li>还可以通过 transition 的回调函数动态设置按钮禁用态</li><li>这种实现的好处在于禁用逻辑和业务逻辑是完全解耦的</li></ol><p>不过，这种实现方式还是比较有局限的，仅限于点击行为，像很多时候，节流可能会用在滚动事件或者键盘事件上，像这些场景就用传统方式实现就行了。最后，如果觉得还不错，对你有帮助的话，欢迎点赞、收藏、转发 ❤❤❤</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div calss=&#39;anzhiyu-tag-link&#39;&gt;&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://juejin.cn/post/7165828047520661534&quot;&gt;
    &lt;div class=&quot;tag-lin</summary>
      
    
    
    
    <category term="前端开发" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="开发" scheme="https://anzhiy.cn/tags/%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端" scheme="https://anzhiy.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="css3" scheme="https://anzhiy.cn/tags/css3/"/>
    
  </entry>
  
  <entry>
    <title>transform 支持单独赋值改变</title>
    <link href="https://anzhiy.cn/posts/b019.html"/>
    <id>https://anzhiy.cn/posts/b019.html</id>
    <published>2022-12-24T15:14:23.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>在掘金看到一篇文章</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://juejin.cn/post/7152331836578856967">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/juejin.cn/post/7152331836578856967.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">解放生产力！transform 支持单独赋值改变</div>            <div class="tag-link-sitename">https://juejin.cn/post/7152331836578856967</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p>看完以后有感而发<code>transform</code>在制作动画时经常被占用，因为一个元素只能使用一个 transform，所以当我有多属性值需要设置时，我通常的做法是通过添加一个父元素来给它设置 transform 属性。</p><p>比如在魔改博客的过程中希望改变<code>transform</code>中的某一部分, 我必须把前面的部分也照抄一遍才能达到覆盖修改的目的</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">header.nav</span> <span class="token punctuation">&#123;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/*这样不行，会丢失translate*/</span><span class="token punctuation">&#125;</span><span class="token comment">/*必须写完整*/</span><span class="token selector">header.nav</span> <span class="token punctuation">&#123;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>所以<code>transform</code>很需要能够像<code>background</code>那样能够有单独书写的属性以覆盖 transform 中的值。</p><p>但是从<code>Chrome 104</code>开始，浏览器终于正式支持单独赋值了</p><p>比如说</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">header.nav</span> <span class="token punctuation">&#123;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>可以写成</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">header.nav</span> <span class="token punctuation">&#123;</span>  <span class="token property">translate</span><span class="token punctuation">:</span> -50% -50%<span class="token punctuation">;</span>  <span class="token property">scale</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>这样如果需要改变某一部分，就只需要像普通属性一样覆盖就行了</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">header.nav</span> <span class="token punctuation">&#123;</span>  <span class="token property">scale</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>想了解更多的话可以去看看原文，但是这个写法实在是太新了，不建议这么玩。</p><p>基于此我们可以发散思维想一想还有什么办法可以解决<code>transform占用</code>的问题，没错就是 css 变量</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">&#123;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>通过 CSS 变量，将 transform 拆分</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">&#123;</span>  <span class="token property">--translate</span><span class="token punctuation">:</span> -50%<span class="token punctuation">,</span> -50%<span class="token punctuation">;</span>  <span class="token property">--scale</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--translate<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--scale<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>经过这样拆分以后，CSS 变量就成了独立属性，如果需要覆盖，只需要修改其中一个就行了，而无需关注–translate 是什么样的，这样变化的部分就可以单独作为一个公共的样式了，如下</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.div1</span> <span class="token punctuation">&#123;</span>  <span class="token property">--translate</span><span class="token punctuation">:</span> -50%<span class="token punctuation">,</span> -50%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.div1</span> <span class="token punctuation">&#123;</span>  <span class="token property">--translate</span><span class="token punctuation">:</span> 10px<span class="token punctuation">,</span> 10px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">div.scale</span> <span class="token punctuation">&#123;</span>  <span class="token property">--scale</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span> <span class="token comment">/*无需关注其他transform，可以作为公共的样式*/</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这么做如果是单纯的状态变化是没有问题的，只需要使用<code>transition: .3s;</code>就可以实现过渡动画，不过当在做 <code>animation</code> 的时候,<br>会发现过渡不了，此时需要下面的代码来实现过渡<code>@property</code>属性可以让我们的自定义属性<code>--scale</code>的变化像 <code>transition: .3s</code> 那样来实现过渡效果。</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@property</span> --scale</span> <span class="token punctuation">&#123;</span>  <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">"&lt;number>"</span><span class="token punctuation">;</span>  <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>  <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在掘金看到一篇文章&lt;/p&gt;
&lt;div calss=&#39;anzhiyu-tag-link&#39;&gt;&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://juejin.cn/post/7152331836578856967&quot;&gt;
    &lt;d</summary>
      
    
    
    
    <category term="前端开发" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="开发" scheme="https://anzhiy.cn/tags/%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端" scheme="https://anzhiy.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="css" scheme="https://anzhiy.cn/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>css模糊羽化</title>
    <link href="https://anzhiy.cn/posts/fd57.html"/>
    <id>https://anzhiy.cn/posts/fd57.html</id>
    <published>2022-12-24T11:22:54.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>在逛 codepen 的时候发现一个有意思的 css 羽化项目</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://codepen.io/xboxyan/pen/ZERZrQw">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://img02.anzhiy.cn/adminuploads/1/2022/12/24/63a6a601154d7.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">css羽化</div>            <div class="tag-link-sitename">css 羽化</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p>原理是使用了 svg 中的 <code>foreignObject</code> 将 dom 转化为图片来创建一个边缘模糊的遮罩</p><p>让原本有<code>backdrop-filter: blur(10px);</code>的元素产生了羽化的效果</p><p>核心代码</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.name</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px 15px<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>  <span class="token property">backdrop-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>10px<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">-webkit-mask</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3CforeignObject width='100%25' height='100%25'%3E%3Cbody class='wrap' xmlns='http://www.w3.org/1999/xhtml'%3E%3Cstyle%3E.wrap%7Bbox-sizing:border-box;margin:0;height:100%25;padding:15px%7D.shadow%7Bheight:100%25;background:black;border-radius:10px;box-shadow:0 0 5px black, 0 0 10px black, 0 0 15px black %7D%3C/style%3E%3Cdiv class='shadow'/%3E%3C/body%3E%3C/foreignObject%3E%3C/svg%3E"</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>且这么创建出来的羽化效果可以达到自适应。当然我觉得或许可以用 box-shadow 也可以实现，只不过觉得这种实现方式思路新奇，特此记录 📝。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在逛 codepen 的时候发现一个有意思的 css 羽化项目&lt;/p&gt;
&lt;div calss=&#39;anzhiyu-tag-link&#39;&gt;&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://codepen.io/xboxyan/pe</summary>
      
    
    
    
    <category term="前端开发" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="开发" scheme="https://anzhiy.cn/tags/%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端" scheme="https://anzhiy.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="css" scheme="https://anzhiy.cn/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>butterfly文章顶部添加波浪效果</title>
    <link href="https://anzhiy.cn/posts/98c4.html"/>
    <id>https://anzhiy.cn/posts/98c4.html</id>
    <published>2022-12-21T15:55:44.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info simple"><div class="hide-block"><button type="button" class="hide-button" style="">预览效果    </button><div class="hide-content"><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/21/63a2dcb4d781a.png"></p></div></div></div><h1 id="魔改"><a href="#魔改" class="headerlink" title="魔改"></a>魔改</h1><p>修改 <code>themes/butterfly/layout/includes/header/index.pug</code> 大概第 33 行左右</p><pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">if top_img !== false<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> if is_post()</span><span class="token prefix unchanged"> </span><span class="token line">   include ./post-info.pug</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   section.main-hero-waves-area.waves-area</span><span class="token prefix inserted">+</span><span class="token line">     svg.waves-svg(xmlns='http://www.w3.org/2000/svg', xlink='http://www.w3.org/1999/xlink', viewBox='0 24 150 28', preserveAspectRatio='none', shape-rendering='auto')</span><span class="token prefix inserted">+</span><span class="token line">       defs</span><span class="token prefix inserted">+</span><span class="token line">         path#gentle-wave(d='M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z')</span><span class="token prefix inserted">+</span><span class="token line">       g.parallax</span><span class="token prefix inserted">+</span><span class="token line">         use(href='#gentle-wave', x='48', y='0')</span><span class="token prefix inserted">+</span><span class="token line">         use(href='#gentle-wave', x='48', y='3')</span><span class="token prefix inserted">+</span><span class="token line">         use(href='#gentle-wave', x='48', y='5')</span><span class="token prefix inserted">+</span><span class="token line">         use(href='#gentle-wave', x='48', y='7')</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   #post-top-cover</span><span class="token prefix unchanged"> </span><span class="token line">     img#post-top-bg(class='nolazyload' src=bg_img)</span><span class="token prefix unchanged"> </span><span class="token line"> else if is_home()</span><span class="token prefix unchanged"> </span><span class="token line">   #site-info</span><span class="token prefix unchanged"> </span><span class="token line">     h1#site-title=site_title</span><span class="token prefix unchanged"> </span><span class="token line">     if theme.subtitle.enable</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>为了方便复制，提供一份需要修改的部分:</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">section<span class="token punctuation">.</span>main<span class="token operator">-</span>hero<span class="token operator">-</span>waves<span class="token operator">-</span>area<span class="token punctuation">.</span>waves<span class="token operator">-</span>area  svg<span class="token punctuation">.</span>waves<span class="token operator">-</span>svg<span class="token punctuation">(</span>xmlns<span class="token operator">=</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> xlink<span class="token operator">=</span><span class="token string">'http://www.w3.org/1999/xlink'</span><span class="token punctuation">,</span> viewBox<span class="token operator">=</span><span class="token string">'0 24 150 28'</span><span class="token punctuation">,</span> preserveAspectRatio<span class="token operator">=</span><span class="token string">'none'</span><span class="token punctuation">,</span> shape<span class="token operator">-</span>rendering<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">)</span>    defs      path<span class="token comment">#gentle-wave(d='M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z')</span>    g<span class="token punctuation">.</span>parallax      use<span class="token punctuation">(</span>href<span class="token operator">=</span><span class="token string">'#gentle-wave'</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">'48'</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">'0'</span><span class="token punctuation">)</span>      use<span class="token punctuation">(</span>href<span class="token operator">=</span><span class="token string">'#gentle-wave'</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">'48'</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">'3'</span><span class="token punctuation">)</span>      use<span class="token punctuation">(</span>href<span class="token operator">=</span><span class="token string">'#gentle-wave'</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">'48'</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">'5'</span><span class="token punctuation">)</span>      use<span class="token punctuation">(</span>href<span class="token operator">=</span><span class="token string">'#gentle-wave'</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">'48'</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">'7'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后在<code>_config.butterfly.yml</code>的 <code>[inject.head]</code> 或者自定义 css 中 引入以下 css, 不会的同学参考<a href="https://blog.leonus.cn/2022/custom.html">Hexo 博客添加自定义 css 和 js 文件</a></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 波浪css */</span><span class="token selector">.main-hero-waves-area</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span> -11px<span class="token punctuation">;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> 5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.waves-area .waves-svg</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 5rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* Animation */</span><span class="token selector">.parallax > use</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> move-forever 25s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>0.55<span class="token punctuation">,</span> 0.5<span class="token punctuation">,</span> 0.45<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span> infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.parallax > use:nth-child(1)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -2s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 7s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #f7f9febd<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.parallax > use:nth-child(2)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -3s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 10s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #f7f9fe82<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.parallax > use:nth-child(3)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -4s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 13s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #f7f9fe36<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.parallax > use:nth-child(4)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -5s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 20s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #f7f9fe<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* 黑色模式背景 */</span><span class="token selector">[data-theme="dark"] .parallax > use:nth-child(1)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -2s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 7s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #18171dc8<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">[data-theme="dark"] .parallax > use:nth-child(2)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -3s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 10s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #18171d80<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">[data-theme="dark"] .parallax > use:nth-child(3)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -4s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 13s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #18171d3e<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">[data-theme="dark"] .parallax > use:nth-child(4)</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation-delay</span><span class="token punctuation">:</span> -5s<span class="token punctuation">;</span>  <span class="token property">animation-duration</span><span class="token punctuation">:</span> 20s<span class="token punctuation">;</span>  <span class="token property">fill</span><span class="token punctuation">:</span> #18171d<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> move-forever</span> <span class="token punctuation">&#123;</span>  <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-90px<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>85px<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/*Shrinking for mobile*/</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>  <span class="token selector">.waves-area .waves-svg</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>    <span class="token property">min-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>大功告成，需要注意的是 css 中<code>fill属性</code>可以控制波浪颜色，最好使其中一个颜色与背景颜色一致，否则会显的有点奇怪。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note info simple&quot;&gt;&lt;div class=&quot;hide-block&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;hide-button&quot; style=&quot;&quot;&gt;预览效果
    &lt;/button&gt;&lt;div class=&quot;hide-</summary>
      
    
    
    
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
    <category term="butterfly" scheme="https://anzhiy.cn/tags/butterfly/"/>
    
    <category term="教程" scheme="https://anzhiy.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Chrome 发布新的 CSS 视口单位：svh、lvh、dvh！！！</title>
    <link href="https://anzhiy.cn/posts/e644.html"/>
    <id>https://anzhiy.cn/posts/e644.html</id>
    <published>2022-12-19T10:13:37.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://web.dev/viewport-units/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/web.dev/viewport-units/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">原文链接</div>            <div class="tag-link-sitename"> The large， small， and dynamic viewport units</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://mp.weixin.qq.com/s/sbdXOo1GUBOxQw_HC7arwQ">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/mp.weixin.qq.com/s/sbdXOo1GUBOxQw_HC7arwQ.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">原文翻译</div>            <div class="tag-link-sitename"> Chrome 发布新的 CSS 视口单位：svh、lvh、dvh！！！</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p><code>CSS</code> 的 <code>Viewport</code>单位听起来很棒。</p><p>如果你想将一个元素设置成<code>全屏高度</code>，你可以设置高度:<code>100vh</code>，这样你就有了一个完美的<code>全屏元素</code>，它会随着视口的改变而改变大小！！！!</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/19/639fe5a920d2b.png" alt="图片"></p><p>遗憾的是，事实并非如此！！！</p><h2 id="vw、vh-的问题"><a href="#vw、vh-的问题" class="headerlink" title="vw、vh 的问题"></a>vw、vh 的问题</h2><p>要调整<code>视口大小</code>，可以使用 <code>vw</code> 和 <code>vh</code> 单位。<code>vw</code>=视口大小<code>宽度</code>的 <code>1%</code>。<code>vh</code>=视口大小<code>高度</code>的 <code>1%</code>。给一个元素 <code>100vw</code>的宽度和 <code>100vh</code> 的高度，它将完全<code>覆盖视口</code>。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/19/639fe465a02d2.png!blogimg" alt="图片"></p><p>虽然现有的设备在桌面上运行良好，但在<code>移动设备</code>上则不同。在那里，视口大小受动态<code>工具栏</code>的存在或不存在的影响。这些是用户界面，如<code>地址栏</code>和<code>选项卡</code>栏。虽然视口大小可以更改，但 <code>vw</code> 和 <code>vh</code> 大小不会更改。因此，大小为 <code>100vh</code> 的元素将从视口中<code>溢出</code>。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/19/639fe4657093c.png!blogimg" alt="图片"></p><p>向下滚动时，这些动态<code>工具栏</code>将<code>缩回</code>。在此状态下，大小为 <code>100vh</code> 的元素将<code>覆盖</code>整个视口。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/19/639fe46573c9c.png!blogimg" alt="图片"></p><p>为了解决这个问题，在 <code>CSS</code> 中指定了视口的各种状态。</p><h2 id="新的视口单位"><a href="#新的视口单位" class="headerlink" title="新的视口单位"></a>新的视口单位</h2><p><code>小视口</code>：这些动态工具栏是展开的<code>大视口</code>：这些动态工具栏是缩回的</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/19/639fe465823eb.png!blogimg" alt="图片"></p><p>表示<code>大视口</code>的单位具有 <code>lv</code> 前缀。单位为 <code>lvw</code>、<code>lvh</code>、<code>lvi</code>、<code>lvb</code>、<code>lvmin</code> 和 <code>lvmax</code>。表示<code>小视口</code>的单位具有 <code>sv</code> 前缀。单位为 <code>svw</code>、<code>svh</code>、<code>svi</code>、<code>svb</code>、<code>svmin</code> 和 <code>svmax</code>。除非调整视口本身的大小，否则这些视口百分比单位的大小是固定的（因此是稳定的）。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/19/639fe46595ae8.png!blogimg" alt="图片"></p><h2 id="动态视口"><a href="#动态视口" class="headerlink" title="动态视口"></a>动态视口</h2><p>除了<code>大视口</code>和<code>小视口</code>，还有一个<code>动态视口</code>，它动态考虑了动态工具栏。展开动态工具栏时，动态视口等于小视口的大小。当动态工具栏缩回时，动态视口等于大视口的大小。其附带的单位具有 <code>dv</code> 前缀：<code>dvw</code>、<code>dvh</code>、<code>dvi</code>、<code>dvb</code>、<code>dvmin</code> 和 <code>dvmax</code>。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/19/639fe46598faa.png!blogimg" alt="图片"></p><p>这些单位在 <code>Chrome108</code> 中发布，加入了已经支持的 <code>Safari</code> 和 <code>Firefox</code>。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div calss=&#39;anzhiyu-tag-link&#39;&gt;&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://web.dev/viewport-units/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站</summary>
      
    
    
    
    <category term="前端开发" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="前端" scheme="https://anzhiy.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="css3" scheme="https://anzhiy.cn/tags/css3/"/>
    
  </entry>
  
  <entry>
    <title>bilibili动态背景</title>
    <link href="https://anzhiy.cn/posts/8d2b.html"/>
    <id>https://anzhiy.cn/posts/8d2b.html</id>
    <published>2022-12-17T15:55:44.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>bilibili 动态背景 winter || autumn || spring，刷新随机顶部 cover，本篇不做教程，仅作为记录艰辛的过程 📝</p><p>本来集成成了好几个 pug 结果发现并不能结构化引入，最后还是变成了 js 操作，难受难受，果然写习惯了 vue， react 再回来就不熟练了</p><details class="folding-tag" blue><summary> 坎坷的失败品 </summary>              <div class='content'>              <p>本来拆分出来了了以下几个 pug，<del>结果发现完全用不了</del></p><p>autumn.pug</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token punctuation">.</span>blqbanner<span class="token punctuation">.</span>mobile<span class="token operator">-</span>hidden  div    img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-1.webp'</span><span class="token punctuation">)</span>  div    img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-2.png'</span><span class="token punctuation">)</span>  div    img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-3.png'</span><span class="token punctuation">)</span>  div    img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-4.png'</span><span class="token punctuation">)</span>  div    img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-5.png'</span><span class="token punctuation">)</span>  div    img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-6.png'</span><span class="token punctuation">)</span>link<span class="token punctuation">(</span>rel<span class="token operator">=</span><span class="token string">"stylesheet"</span><span class="token punctuation">,</span> href<span class="token operator">=</span>url_for<span class="token punctuation">(</span><span class="token string">"/css/biliBg/autumn/autumn.css"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>script<span class="token punctuation">(</span>src<span class="token operator">=</span>url_for<span class="token punctuation">(</span><span class="token string">"/js/biliBg/autumn/autumn.js"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>spring.pug</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token punctuation">.</span>bili<span class="token operator">-</span>banner  <span class="token punctuation">.</span>animated<span class="token operator">-</span>banner    <span class="token operator">//</span><span class="token operator">-</span>  背景    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg1.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'360'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'9666'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'180'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'4833'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(0px, -15px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  左山    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg2.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'360'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'9666'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'180'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'4833'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(1100px, 0px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  右山    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg3.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'360'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'3523'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'162'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'1585'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(675px, 0px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  左桥    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg4.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'360'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'2938'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'176'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'1439'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(-637px, 0px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  右船    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg5.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'139'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'556'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'62'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'250'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(607.5px, 45px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  开船人物    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p4.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'302'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'734'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'84'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'205'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(252px, 36.4px) rotate(0deg); opacity: 0;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  中草坪<span class="token operator">+</span>树    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg6.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'180'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'1757'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'125'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'1229'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(112px, 25px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  中草坪<span class="token operator">+</span>风筝    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg7.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'116'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'1757'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'81'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'1229'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(-350px, 49px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  人物    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p2.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'346'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'497'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'138'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'198'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(-240px, 16px) rotate(0deg); opacity: 0;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  人物    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p1.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'256'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'146'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'102'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'58'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(-340px, 32px) rotate(0deg); opacity: 0;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  中树    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/t1.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'254'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'602'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'114'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'270'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(-90px, 13.5px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  中草坪<span class="token operator">+</span>树    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg8.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'360'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'4277'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'180'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'2138'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(100px, 0px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  中人物    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p3.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'327'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'933'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'147'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'419'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(216px, 13.5px) rotate(0deg); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  右树    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/t3.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'353'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'740'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'211'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'444'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(2100px, 0px) rotate(0deg); filter: blur(2px); opacity: 1;'</span><span class="token punctuation">)</span>    <span class="token operator">//</span><span class="token operator">-</span>  左树    <span class="token punctuation">.</span>layer      img<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/t2.png'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">'360'</span><span class="token punctuation">,</span> data<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">'1916'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'180'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'958'</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">'transform: scale(1) translate(-1000px, 0px) rotate(0deg); filter: blur(1px); opacity: 1;'</span><span class="token punctuation">)</span>    canvas<span class="token comment">#springCanvas(width='1519', height='155', style='position: absolute; top: 0px; left: 0px;    width: 100%;')</span>link<span class="token punctuation">(</span>rel<span class="token operator">=</span><span class="token string">"stylesheet"</span><span class="token punctuation">,</span> href<span class="token operator">=</span>url_for<span class="token punctuation">(</span><span class="token string">"/css/biliBg/spring/spring.css"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>script<span class="token punctuation">(</span>src<span class="token operator">=</span>url_for<span class="token punctuation">(</span><span class="token string">"/js/biliBg/spring/spring.js"</span><span class="token punctuation">)</span> data<span class="token operator">-</span>pjax<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>winter.pug</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token punctuation">.</span>bldbanner  <span class="token punctuation">.</span>bldview    img<span class="token punctuation">.</span>morning<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-1.webp'</span><span class="token punctuation">)</span>    img<span class="token punctuation">.</span>afternoon<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-2.webp'</span><span class="token punctuation">)</span>    img<span class="token punctuation">.</span>ball<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-ball.png'</span><span class="token punctuation">)</span>    video<span class="token punctuation">.</span>evening<span class="token punctuation">(</span>autoplay<span class="token punctuation">,</span> loop<span class="token punctuation">,</span> muted<span class="token punctuation">)</span>      source<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-3.webm'</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">'video/webm'</span><span class="token punctuation">)</span>    img<span class="token punctuation">.</span>window<span class="token operator">-</span>cover<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-3-snow.png'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span>tree    img<span class="token punctuation">.</span>morning<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-tree-1.png'</span><span class="token punctuation">)</span>    img<span class="token punctuation">.</span>afternoon<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-tree-2.png'</span><span class="token punctuation">)</span>    img<span class="token punctuation">.</span>evening<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">'https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-tree-3.png'</span><span class="token punctuation">)</span>link<span class="token punctuation">(</span>rel<span class="token operator">=</span><span class="token string">"stylesheet"</span><span class="token punctuation">,</span> href<span class="token operator">=</span>url_for<span class="token punctuation">(</span><span class="token string">"/css/biliBg/winter/winter.css"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>script<span class="token punctuation">(</span>src<span class="token operator">=</span>url_for<span class="token punctuation">(</span><span class="token string">"/js/biliBg/winter/winter.js"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后发现 pug 居然不能动态引入组件化，因为在编译的时候就已经确定 html 结构了，然而我还是在已经上线后才知道，还曾一度怀疑是 cdn 的缓存 🤡。</p>              </div>            </details><p>最后修改改改还是磕磕绊绊的完成了春秋冬的集成，就是这 js 代码我真的觉得好难受。</p><h2 id="魔改记录"><a href="#魔改记录" class="headerlink" title="魔改记录"></a>魔改记录</h2><p>判断文章是否需要随机 banner</p><p>修改 <code>themes/butterfly/layout/includes/header/index.pug</code>，引入我们的 bili-banner，首先判断文章顶部是否有 bilibili_bg，如果有就引入 bilibili 随机 banner</p><pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">header#page-header(class=`$&#123;isHomeClass&#125;`)<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> !=partial('includes/header/nav', &#123;&#125;, &#123;cache: true&#125;)</span><span class="token prefix unchanged"> </span><span class="token line"> if top_img !== false</span><span class="token prefix unchanged"> </span><span class="token line">   if is_post()</span><span class="token prefix unchanged"> </span><span class="token line">     include ./post-info.pug</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">     if page.bilibili_bg</span><span class="token prefix inserted">+</span><span class="token line">       !=partial('includes/bili-banner/index')</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>新建 <code>themes/butterfly/layout/includes/bili-banner/index.pug</code>,这段直接引入所需要的 js</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span><span class="token operator">-</span> 随机背景script<span class="token punctuation">(</span>src<span class="token operator">=</span>url_for<span class="token punctuation">(</span><span class="token string">"/js/biliBg/biliBg.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token operator">-</span>pjax<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>新建<code>source/js/biliBg/biliBg.js</code>, 动态插入节点</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> biliBannerIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> $biliBannerParentsEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"page-header"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//- 创建脚本节点</span><span class="token keyword">var</span> biliBannerScript <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>biliBannerScript<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"text/javascript"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>biliBannerIndex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>biliBannerIndex <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//- autumn</span>  $biliBannerParentsEl<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span>    <span class="token string">"beforeend"</span><span class="token punctuation">,</span>    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">      &lt;div class="blqbanner mobile-hidden">        &lt;div>&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-1.webp"/>&lt;/div>        &lt;div>&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-2.png"/>&lt;/div>        &lt;div>&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-3.png"/>&lt;/div>        &lt;div>&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-4.png"/>&lt;/div>        &lt;div>&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-5.png"/>&lt;/div>        &lt;div>&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/autumn/bilibili-autumn-6.png"/>&lt;/div>      &lt;/div>      &lt;link rel="stylesheet", href="/css/biliBg/autumn/autumn.css" />    </span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//- 插入js节点</span>  biliBannerScript<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-blog@2.1.7/js/biliBg/autumn/autumn.js"</span><span class="token punctuation">;</span>  $biliBannerParentsEl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>biliBannerScript<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>biliBannerIndex <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//- spring</span>  $biliBannerParentsEl<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span>    <span class="token string">"beforeend"</span><span class="token punctuation">,</span>    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">      &lt;div class="bili-banner">        &lt;div class="animated-banner">            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg1.png" data-height="360" data-width="9666" height="180" width="4833" style="transform: scale(1) translate(0px, -15px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg2.png" data-height="360" data-width="9666" height="180" width="4833" style="transform: scale(1) translate(1100px, 0px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg3.png" data-height="360" data-width="3523" height="162" width="1585" style="transform: scale(1) translate(675px, 0px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg4.png" data-height="360" data-width="2938" height="176" width="1439" style="transform: scale(1) translate(-637px, 0px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg5.png" data-height="139" data-width="556" height="62" width="250" style="transform: scale(1) translate(607.5px, 45px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p4.png" data-height="302" data-width="734" height="84" width="205" style="transform: scale(1) translate(252px, 36.4px) rotate(0deg); opacity: 0;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg6.png" data-height="180" data-width="1757" height="125" width="1229" style="transform: scale(1) translate(112px, 25px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg7.png" data-height="116" data-width="1757" height="81" width="1229" style="transform: scale(1) translate(-350px, 49px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p2.png" data-height="346" data-width="497" height="138" width="198" style="transform: scale(1) translate(-240px, 16px) rotate(0deg); opacity: 0;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p1.png" data-height="256" data-width="146" height="102" width="58" style="transform: scale(1) translate(-340px, 32px) rotate(0deg); opacity: 0;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/t1.png" data-height="254" data-width="602" height="114" width="270" style="transform: scale(1) translate(-90px, 13.5px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/bg8.png" data-height="360" data-width="4277" height="180" width="2138" style="transform: scale(1) translate(100px, 0px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/p3.png" data-height="327" data-width="933" height="147" width="419" style="transform: scale(1) translate(216px, 13.5px) rotate(0deg); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/t3.png" data-height="353" data-width="740" height="211" width="444" style="transform: scale(1) translate(2100px, 0px) rotate(0deg); filter: blur(2px); opacity: 1;"/>&lt;/div>            &lt;div class="layer">&lt;img src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/spring/t2.png" data-height="360" data-width="1916" height="180" width="958" style="transform: scale(1) translate(-1000px, 0px) rotate(0deg); filter: blur(1px); opacity: 1;"/>&lt;/div>            &lt;canvas id="springCanvas" width="1519" height="155" style="position: absolute; top: 0px; left: 0px;width: 100%;">&lt;/canvas>        &lt;/div>      &lt;/div>      &lt;link rel="stylesheet", href="/css/biliBg/spring/spring.css" />    </span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//- 插入js节点</span>  biliBannerScript<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-blog@2.1.7/js/biliBg/spring/spring.js"</span><span class="token punctuation">;</span>  $biliBannerParentsEl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>biliBannerScript<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>biliBannerIndex <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//- winter</span>  $biliBannerParentsEl<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span>    <span class="token string">"beforeend"</span><span class="token punctuation">,</span>    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">      &lt;div class="bldbanner">        &lt;div class="bldview">&lt;img class="morning" src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-1.webp"/>&lt;img class="afternoon" src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-2.webp"/>&lt;img class="ball" src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-ball.png"/>          &lt;video class="evening" autoplay="autoplay" loop="loop" muted="muted">            &lt;source src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-3.webm" type="video/webm"/>          &lt;/video>&lt;img class="window-cover" src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-view-3-snow.png"/>        &lt;/div>        &lt;div class="tree">&lt;img class="morning" src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-tree-1.png"/>&lt;img class="afternoon" src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-tree-2.png"/>&lt;img class="evening" src="https://npm.elemecdn.com/anzhiyu-blog@2.1.7/img/banner/winter/bilibili-winter-tree-3.png"/>&lt;/div>      &lt;/div>      &lt;link rel="stylesheet", href="/css/biliBg/winter/winter.css" />    </span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//- 插入js节点</span>  biliBannerScript<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"https://npm.elemecdn.com/anzhiyu-blog@2.1.7/js/biliBg/winter/winter.js"</span><span class="token punctuation">;</span>  $biliBannerParentsEl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>biliBannerScript<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>部分适配 css</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.post-bg:has(.bldbanner) #post-info:after,.post-bg:has(.bili-banner) #post-info:after,.post-bg:has(.blqbanner) #post-info:after</span> <span class="token punctuation">&#123;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0px -214px 287px 45px <span class="token function">var</span><span class="token punctuation">(</span>--anzhiyu-black-op<span class="token punctuation">)</span> inset<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.post-bg:has(.bldbanner) #post-info .post-meta,.post-bg:has(.bili-banner) #post-info .post-meta,.post-bg:has(.blqbanner) #post-info .post-meta</span> <span class="token punctuation">&#123;</span>  <span class="token property">pointer-events</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.post-bg:has(.bldbanner) #post-info,.post-bg:has(.bili-banner) #post-info,.post-bg:has(.blqbanner) #post-info</span> <span class="token punctuation">&#123;</span>  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#page-header.post-bg:has(.bldbanner),#page-header.post-bg:has(.bili-banner),#page-header.post-bg:has(.blqbanner)</span> <span class="token punctuation">&#123;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 15rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>春 spring.css</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.bili-banner</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 11rem<span class="token punctuation">;</span>  <span class="token property">min-height</span><span class="token punctuation">:</span> 155px<span class="token punctuation">;</span>  <span class="token property">min-width</span><span class="token punctuation">:</span> 999px<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #f9f9f9<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bili-banner .animated-banner</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bili-banner .layer</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bili-banner .layer img</span> <span class="token punctuation">&#123;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.2s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>秋 autumn.css</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.blqbanner</span> <span class="token punctuation">&#123;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 15rem<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token comment">/*    将图片上下左右居中*/</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">--offset</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>  <span class="token property">--blur</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div > img</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 110%<span class="token punctuation">;</span>  <span class="token comment">/*    图片需要左右移动，预先设置的宽一些*/</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>  <span class="token comment">/*    将图片按照比例填满容器*/</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--offset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--blur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> 0.3s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div:nth-child(1) > img</span> <span class="token punctuation">&#123;</span>  <span class="token property">--offset</span><span class="token punctuation">:</span> 1.38426px<span class="token punctuation">;</span>  <span class="token property">--blur</span><span class="token punctuation">:</span> 0.226766px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div:nth-child(2) > img</span> <span class="token punctuation">&#123;</span>  <span class="token property">--offset</span><span class="token punctuation">:</span> 1.79954px<span class="token punctuation">;</span>  <span class="token property">--blur</span><span class="token punctuation">:</span> 0.0724451px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div:nth-child(3) > img</span> <span class="token punctuation">&#123;</span>  <span class="token property">--offset</span><span class="token punctuation">:</span> 2.3394px<span class="token punctuation">;</span>  <span class="token property">--blur</span><span class="token punctuation">:</span> 1.02924px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div:nth-child(4) > img</span> <span class="token punctuation">&#123;</span>  <span class="token property">--offset</span><span class="token punctuation">:</span> 3.04122px<span class="token punctuation">;</span>  <span class="token property">--blur</span><span class="token punctuation">:</span> 3.09714px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div:nth-child(5) > img</span> <span class="token punctuation">&#123;</span>  <span class="token property">--offset</span><span class="token punctuation">:</span> 3.95358px<span class="token punctuation">;</span>  <span class="token property">--blur</span><span class="token punctuation">:</span> 6.27615px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.blqbanner > div:nth-child(6) > img</span> <span class="token punctuation">&#123;</span>  <span class="token property">--offset</span><span class="token punctuation">:</span> 5.13966px<span class="token punctuation">;</span>  <span class="token property">--blur</span><span class="token punctuation">:</span> 10.5663px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>冬 winter.css</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.bldbanner</span> <span class="token punctuation">&#123;</span>  <span class="token property">min-height</span><span class="token punctuation">:</span> 155px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 20rem<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token property">--percentage</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner .tree,.bldbanner .bldview</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> -ms-flexbox<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">-webkit-box-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">-ms-flex-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">-webkit-box-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">-ms-flex-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner .bldview</span> <span class="token punctuation">&#123;</span>  <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translatex</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> * 100px<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translatex</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> * 100px<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner .tree</span> <span class="token punctuation">&#123;</span>  <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translatex</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> * 150px - 25px<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translatex</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> * 150px - 25px<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">-webkit-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>3px<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>3px<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner img,.bldbanner video</span> <span class="token punctuation">&#123;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">max-width</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner .evening</span> <span class="token punctuation">&#123;</span>  <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">(</span>0.5 - <span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span><span class="token punctuation">)</span> / 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner .afternoon</span> <span class="token punctuation">&#123;</span>  <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1 - <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> - 0.5<span class="token punctuation">)</span> / 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner.moving .afternoon,.bldbanner.moving .ball,.bldbanner.moving .evening,.bldbanner.moving .tree,.bldbanner.moving .bldview</span> <span class="token punctuation">&#123;</span>  <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner .ball</span> <span class="token punctuation">&#123;</span>  <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span>  <span class="token property">transition</span><span class="token punctuation">:</span> all 0.2s ease-in<span class="token punctuation">;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1.5 - <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> - 0.5<span class="token punctuation">)</span> / 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span>100px * <span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 22px<span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span>10deg * <span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> + 5deg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span>100px * <span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 22px<span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span>10deg * <span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> + 5deg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.bldbanner .window-cover</span> <span class="token punctuation">&#123;</span>  <span class="token property">z-index</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--percentage<span class="token punctuation">)</span> * -2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>总的来说还不错，巩固了我对于 canvas 的知识与 css 视差绘制。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;bilibili 动态背景 winter || autumn || spring，刷新随机顶部 cover，本篇不做教程，仅作为记录艰辛的过程 📝&lt;/p&gt;
&lt;p&gt;本来集成成了好几个 pug 结果发现并不能结构化引入，最后还是变成了 js 操作，难受难受，果然写习惯了 vu</summary>
      
    
    
    
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
    <category term="bilibili动态背景" scheme="https://anzhiy.cn/tags/bilibili%E5%8A%A8%E6%80%81%E8%83%8C%E6%99%AF/"/>
    
  </entry>
  
  <entry>
    <title>React组件之间的通信</title>
    <link href="https://anzhiy.cn/posts/c939.html"/>
    <id>https://anzhiy.cn/posts/c939.html</id>
    <published>2022-12-10T09:55:44.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/09/639336e44611e.jpg!blogimg"></p><p>React 的组件相对于 Vue 更加的灵活和多样，按照不同的方式可以分成很多类组件：</p><ul><li><code>根据组件的定义方式</code>，可以分为：<code>函数组件(Functional Component )</code>和<code>类组件(Class Component)</code>；</li><li><code>根据组件内部是否有状态需要维护</code>，可以分成：<code>无状态组件(Stateless Component )</code>和<code>有状态组件(Stateful Component)</code>；</li><li><code>根据组件的不同职责</code>，可以分成：<code>展示型组件(Presentational Component)</code>和<code>容器型组件(Container Component)</code>；</li></ul><p>React 中的组件之间的通信方法。</p><h1 id="父子组件通信"><a href="#父子组件通信" class="headerlink" title="父子组件通信"></a>父子组件通信</h1><blockquote><p>下面这个案例演示了<code>子传父</code>与<code>父传子</code>通过 props 传递。</p></blockquote><p>父组件</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">"./Header"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">"./Footer"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Main <span class="token keyword">from</span> <span class="token string">"./Main"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Header的标题"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">headerClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"----"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> title <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>Header title<span class="token operator">=</span><span class="token punctuation">&#123;</span>title<span class="token punctuation">&#125;</span> headerClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">headerClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span>Main <span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span>Footer <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>子组件</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// constructor(props) &#123;</span>  <span class="token comment">//   super(props)</span>  <span class="token comment">//   this.state = &#123;&#125;</span>  <span class="token comment">// &#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> title<span class="token punctuation">,</span> headerClick <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span>headerClick<span class="token punctuation">&#125;</span><span class="token operator">></span>Header<span class="token operator">:</span> <span class="token punctuation">&#123;</span>title<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> Header<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="非父子组件通信"><a href="#非父子组件通信" class="headerlink" title="非父子组件通信"></a>非父子组件通信</h1><blockquote><p>非父子组件数据的共享<br>在开发中，比较常见的数据传递方式是通过 props 属性自上而下（由父到子）进行传递。<br>但是对于有一些场景：比如一些数据需要在多个组件中进行共享（地区偏好、UI 主题、用户登录状态、用户信息等）。<br>如果我们在顶层的 App 中定义这些信息，之后一层层传递下去，那么对于一些中间层不需要数据的组件来说，是一种冗余的操作。</p></blockquote><p>React 提供了一个 API：<code>Context</code>；<br>Context 提供了一种在<code>组件之间共享此类值的方式</code>，而<code>不必显式地通过组件树的逐层传递 props</code>；<br>Context 设计目的是为了<code>共享那些对于一个组件树而言是“全局”的数据</code>，例如当前认证的用户、主题或首选语言；</p><p>可以使用<code>Context</code>或者<code>eventBus</code></p><h2 id="React-createContext"><a href="#React-createContext" class="headerlink" title="React.createContext"></a>React.createContext</h2><p>创建一个需要共享的 Context 对象：</p><p>如果一个组件订阅了 Context，那么这个组件会从离自身最近的那个匹配的  Provider  中读取到当前的 context 值；<br>defaultValue 是组件在顶层查找过程中没有找到对应的 Provider，那么就使用默认值</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> MyContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="Context-Provider"><a href="#Context-Provider" class="headerlink" title="Context.Provider"></a>Context.Provider</h2><p>每个 Context 对象都会返回一个 Provider React 组件，它允许消费组件订阅 context 的变化：</p><p>Provider 接收一个  value  属性，传递给消费组件；<br>一个 Provider 可以和多个消费组件有对应关系；<br>多个 Provider 也可以嵌套使用，里层的会覆盖外层的数据；<br>当 Provider 的  value  值发生变化时，它内部的所有消费组件都会重新渲染；</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>MyContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token comment">/* 某个值 */</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>以下案例同时演示<code>Context</code>与<code>eventBus</code></p><p>context.jsx</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> UserContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"kobe"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>app.jsx</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">"./Home"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Recommend <span class="token keyword">from</span> <span class="token string">"./Recommend"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> UserContext <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"./context"</span><span class="token punctuation">;</span><span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">"./event/event_bus"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"anzhiyu"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"changeName"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>productClick<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    eventBus<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"changeName"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>productClick<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">productClick</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"productClick"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> name <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"安知鱼"</span><span class="token punctuation">,</span> <span class="token literal-property property">level</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Home</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Recommend</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">UserContext.Provider</span></span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Home.jsx</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> HomeProduct <span class="token keyword">from</span> <span class="token string">"./HomeProduct"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HomeProduct</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> Home<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>HomeProduct.jsx</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> UserContext <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"./context"</span><span class="token punctuation">;</span><span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">"./event/event_bus"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">HomeProduct</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">productClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    eventBus<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"changeName"</span><span class="token punctuation">,</span> <span class="token string">"安知鱼变帅"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">HomeProduct</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">productClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">product</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>HomeProduct<span class="token punctuation">.</span>contextType <span class="token operator">=</span> UserContext<span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> HomeProduct<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Recommend.jsx 演示 函数式组件 <code>Consumer</code></p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> UserContext <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"./context"</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Recommend</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">Recommend</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">      </span><span class="token punctuation">&#123;</span><span class="token comment">/* 函数式组件中使用Context共享的数据 */</span><span class="token punctuation">&#125;</span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserContext.Consumer</span></span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token punctuation">&#123;</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>value<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">UserContext.Consumer</span></span><span class="token punctuation">></span></span><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> Recommend<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果需要使用多个 context 可以使用<code>Consumer</code>共享</p><p>theme-context.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token comment">// 1.创建一个Context</span><span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> ThemeContext<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>user-context.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token comment">// 1.创建一个Context</span><span class="token keyword">const</span> UserContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> UserContext<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>HomeInfo.jsx</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> ThemeContext <span class="token keyword">from</span> <span class="token string">"./context/theme-context"</span><span class="token punctuation">;</span><span class="token keyword">import</span> UserContext <span class="token keyword">from</span> <span class="token string">"./context/user-context"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">HomeInfo</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 4.第四步操作: 获取数据, 并且使用数据</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">HomeInfo: </span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>color<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserContext.Consumer</span></span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token punctuation">&#123;</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Info User: </span><span class="token punctuation">&#123;</span>value<span class="token punctuation">.</span>nickname<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">UserContext.Consumer</span></span><span class="token punctuation">></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 3.第三步操作: 设置组件的contextType为某一个Context</span>HomeInfo<span class="token punctuation">.</span>contextType <span class="token operator">=</span> ThemeContext<span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> HomeInfo<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="context-默认数据"><a href="#context-默认数据" class="headerlink" title="context 默认数据"></a>context 默认数据</h2><p>当没有被 context 组件包裹时就会使用到默认数据</p><p>theme-context.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token comment">// 1.创建一个Context</span><span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> ThemeContext<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>App.jsx</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">"./Home"</span><span class="token punctuation">;</span><span class="token keyword">import</span> ThemeContext <span class="token keyword">from</span> <span class="token string">"./context/theme-context"</span><span class="token punctuation">;</span><span class="token keyword">import</span> UserContext <span class="token keyword">from</span> <span class="token string">"./context/user-context"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Profile <span class="token keyword">from</span> <span class="token string">"./Profile"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"kobe"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> info <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">App</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">nickname</span><span class="token operator">:</span> <span class="token string">"kobe"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ThemeContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">"30"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Home</span></span> <span class="token spread"><span class="token punctuation">&#123;</span><span class="token operator">...</span>info<span class="token punctuation">&#125;</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ThemeContext.Provider</span></span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">UserContext.Provider</span></span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Profile</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Profile.jsx</p><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> ThemeContext <span class="token keyword">from</span> <span class="token string">"./context/theme-context"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Profile</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">Profile</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>Profile<span class="token punctuation">.</span>contextType <span class="token operator">=</span> ThemeContext<span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> Profile<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://img02.anzhiy.cn/adminuploads/1/2022/12/09/639336e44611e.jpg!blogimg&quot;&gt;&lt;/p&gt;
&lt;p&gt;React 的组件相对于 Vue 更加的灵活和多样，按照不同的方式可以分成很多类组件</summary>
      
    
    
    
    <category term="前端开发" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="前端" scheme="https://anzhiy.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="React" scheme="https://anzhiy.cn/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>为什么 react 的 setState 要设计成异步的</title>
    <link href="https://anzhiy.cn/posts/6fd4.html"/>
    <id>https://anzhiy.cn/posts/6fd4.html</id>
    <published>2022-12-09T09:55:44.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>在使用 <a href="https://react.docschina.org/">React</a> 的类组件时候我们常常会使用 setState 来更新状态，那么 setState 到底是同步的还是异步的呢？</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">changeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"你好哇, 安知鱼"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello world</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>这段代码最终打印结果是 hello world，可见 setState 是异步的操作，我们并不能在执行完 setState 之后立马拿到最新的 state 的结果，那么 setState 一定是异步的吗？</p><h1 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h1><p>那么 setState 一定是异步的吗？实际上在 React18 之前分为两种情况</p><ol><li>在组件生命周期或者 <code>React合成事件</code>中，setState 是异步的。</li><li>在 setTimeout 或者原生 dom 事件中（promise 之类的），setState 是同步的。</li></ol><p>React18 之前的同步情况</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">changeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"你好哇, 安知鱼"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 你好哇, 安知鱼</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>但是在 <code>React18</code> 之后默认所有的操作都被放到了批处理中（异步处理），即使你像上面那样操作依旧会是异步更新。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/09/6392c48276234.jpg!blogimg"></p><p>如果想要实现同步更新状态并 <code>render</code> 需要使用 <code>flushSync</code> 方法</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> flushSync <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span><span class="token function">changeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">flushSync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"你好哇, 安知鱼"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 你好哇, 安知鱼</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>另外依旧可以传入第二个参数 callback 来获取更新完的状态。</p><h1 id="探索"><a href="#探索" class="headerlink" title="探索"></a>探索</h1><p>setState 设计为异步其实在 Github 上也有很多相关讨论：<a href="https://github.com/facebook/react/issues/11527">RFClarification: why is setState asynchronous?</a></p><p>其中 React 的核心成员(Redux 作者)<a href="https://github.com/gaearon">Dan Abramov</a> 也有对应的回复。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/09/63929c92662af.jpg!blogimg"></p><h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><p>总的看下来以后大概可以总结为以下几点</p><blockquote><p>setState 设计为异步，可以<code>显著的提升性能</code></p></blockquote><p>如果每次调用 setState 都进行一次更新，那么意味着 render 函数会被频繁调用，界面重新渲染，这样效率是很低的。</p><p>最好的办法应该是获取到多个更新之后进行批量更新。</p><blockquote><p>如果同步更新了 state，但是还没有执行 render 函数，那么 <code>state 和 props 不能保持同步</code>！</p></blockquote><p>state 和 props 不能保持一致性，会在开发中产生很多的问题。所以 React 采用了异步更新，并在 React18 中完全控制。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;在使用 &lt;a href=&quot;https://react.docschina.org/&quot;&gt;React&lt;/a&gt; 的类组件时候我们常常会使用 setState 来更新状态，那么 setState 到底是同步的还是异步的呢？&lt;/p&gt;
&lt;/blockquote</summary>
      
    
    
    
    <category term="前端开发" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="前端" scheme="https://anzhiy.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="React" scheme="https://anzhiy.cn/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>butterfly控制特定图片懒加载</title>
    <link href="https://anzhiy.cn/posts/192f.html"/>
    <id>https://anzhiy.cn/posts/192f.html</id>
    <published>2022-12-03T15:55:44.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>经常看我博客的同学应该不难发现我的文章顶图偶尔进来以后还要等一会才能出现，还有加载动画的图片偶尔加载不出来，后来经过我一系列的排查发现居然是懒加载的缘故。</p><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/03/638ac112cfd48.webp!blogimg"></p><p>观察 network 选项卡可以发现我们需要让启动器改变，不让<code>lazyload.iife.min.js</code>来加载我们的顶图与加载动画的头像。</p><h1 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h1><p>可以使用 css 的<code>background</code>属性而不使用 img 标签，就可以做到启动器变成对应的 css，从此排除懒加载的影响。</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.loading-img</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">""</span><span class="token punctuation">)</span></span> no-repeat center center<span class="token punctuation">;</span>  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="方案二（推荐）"><a href="#方案二（推荐）" class="headerlink" title="方案二（推荐）"></a>方案二（推荐）</h1><p>虽然 css 的方式可以做到排除但是这并不是我们所预期的，部分情况为了 seo 我们需要 img 标签且如果有多个特定图片需要指定不太好写 css，于是就产生了方案二。</p><p>我们观察<code>butterfly</code>对懒加载的实现可以发现，在<code>themes/butterfly/scripts/filters/post_lazyload.js</code>中<code>第11行左右</code>的<code>lazyload方法</code>中替换了所有的<code>img标签</code>的<code>src属性</code>，所以我们可以通过修改正则表达式来匹配，以达到我们的目的</p><p>预期：给图片添加上 class 为<code>nolazyload</code>时不使用懒加载</p><p>代码修改<code>themes/butterfly/scripts/filters/post_lazyload.js</code>，将 lazyload 方法修改</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">lazyload</span><span class="token punctuation">(</span><span class="token parameter">htmlContent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> bg <span class="token operator">=</span> hexo<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>config<span class="token punctuation">.</span>lazyload<span class="token punctuation">.</span>placeholder    <span class="token operator">?</span> <span class="token function">urlFor</span><span class="token punctuation">(</span>hexo<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>config<span class="token punctuation">.</span>lazyload<span class="token punctuation">.</span>placeholder<span class="token punctuation">)</span>    <span class="token operator">:</span> <span class="token string">"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> htmlContent<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(&lt;img(?!.*?class[\t]*=[\t]*['"].*?nolazyload.*?['"]).*? src=)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">,</span>    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$1 "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>bg<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">" data-lazy-src=</span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>给对应的图片添加 class, 修改<code>themes/butterfly/layout/includes/header/index.pug</code>， 注意 ⚠️，butterfly 默认顶图是使用的 background 属性设置，为了 seo 我改为了 img 标签。</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> top_img <span class="token operator">!=</span><span class="token operator">=</span> false  <span class="token keyword">if</span> is_post<span class="token punctuation">(</span><span class="token punctuation">)</span>    include <span class="token punctuation">.</span><span class="token operator">/</span>post<span class="token operator">-</span>info<span class="token punctuation">.</span>pug    img<span class="token comment">#post-top-bg(src=bg_img class='nolazyload')</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img02.anzhiy.cn/adminuploads/1/2022/12/03/638ac112cfd7e.webp!blogimg"></p><p>大功告成！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;经常看我博客的同学应该不难发现我的文章顶图偶尔进来以后还要等一会才能出现，还有加载动画的图片偶尔加载不出来，后来经过我一系列的排查发现居然是懒加载的缘故。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img02.anzhiy.cn/adminuploads/1/202</summary>
      
    
    
    
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
    <category term="butterfly" scheme="https://anzhiy.cn/tags/butterfly/"/>
    
  </entry>
  
  <entry>
    <title>为你的博客安装上便携小空调</title>
    <link href="https://anzhiy.cn/posts/d335.html"/>
    <id>https://anzhiy.cn/posts/d335.html</id>
    <published>2022-11-30T15:04:19.000Z</published>
    <updated>2023-04-15T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>star 了 2 年 <a href="https://www.yunyoujun.cn/">云游君</a> 的<code>小空调项目</code> 我终于在两年后习得真传归来花费了 大概一个下午的时间完成 ✅ 了该项目的 VUE3 重构。</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://anzhiy.cn/air-conditioner/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url( https://img02.anzhiy.cn/adminuploads/1/2022/09/05/6315ec9737ac4.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">云空调，便携小空调</div>            <div class="tag-link-sitename">云空调，便携小空调</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p>项目地址，欢迎大家 Star</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://github.com/anzhiyu-c/air-conditioner-vue">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/anzhiyu-c/air-conditioner-vue.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">云空调，便携小空调项目地址</div>            <div class="tag-link-sitename">云空调，便携小空调项目地址</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p>相对原项目比起来优势大概就是没有使用任何 UI 框架, 极少的依赖, 这能够让我打包后的体积也仅只有<code>84kb</code>的<code>js</code>, 做到了<code>all in js</code>，且兼容至 ie8。</p><h1 id="部署方案"><a href="#部署方案" class="headerlink" title="部署方案"></a>部署方案</h1><p>如果你和我一样是使用 hexo 的话，那么将变的极其简单。</p><p>在你的博客根目录执行以下命令:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page air-conditioner<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>然后在会生成<code>source/air-conditioner/index.md</code>, 将以下内容替换原内容</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> 便携小空调 <span class="token punctuation">-</span> 为你的夏日带去清凉<span class="token tag">!</span><span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2022-10-20 22:06:17</span><span class="token key atrule">comments</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">aside</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">top_img</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span><span class="token punctuation">---</span></span><span class="token blockquote punctuation">></span> 终于为博客安装上了便携小空调<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><span class="token selector">.copyright-box a</span> <span class="token punctuation">&#123;</span>  <span class="token property">border-bottom</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>air-conditioner-vue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">data-pjax</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://npm.elemecdn.com/anzhiyu-air-conditioner@1.0.1/index.3f125bc6.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后访问<code>https://你的博客域名/air-conditioner</code>就可以得到一个没有风的空调 ❄️</p><h1 id="其他部署方案"><a href="#其他部署方案" class="headerlink" title="其他部署方案"></a>其他部署方案</h1><p>如果你使用的是其他的，部署也一样简单，只需加入以下代码嵌入网站即可</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>740<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://loquacious-bienenstitch-58539b.netlify.app/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="自行构建部署"><a href="#自行构建部署" class="headerlink" title="自行构建部署"></a>自行构建部署</h1><ol><li><p>进入 <a href="https://github.com/anzhiyu-c/air-conditioner-vue">https://github.com/anzhiyu-c/air-conditioner-vue</a></p></li><li><p>点击项目右上角的 <code>fork 叉子</code></p></li><li><p>进入 <a href="https://vercel.com/">vercel</a> 或 <a href="https://app.netlify.com/">netlify</a></p></li><li><p>部署项目 选择仓库时选择刚刚 fork 的仓库然后 点击 <code>deploy</code> 即可。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;star 了 2 年 &lt;a href=&quot;https://www.yunyoujun.cn/&quot;&gt;云游君&lt;/a&gt; 的&lt;code&gt;小空调项目&lt;/code&gt; 我终于在两年后习得真传归来花费了 大概一个下午的时间完成 ✅ 了该项目的 VUE3 重构。&lt;/p&gt;
&lt;div calss=&#39;</summary>
      
    
    
    
    
    <category term="小空调" scheme="https://anzhiy.cn/tags/%E5%B0%8F%E7%A9%BA%E8%B0%83/"/>
    
  </entry>
  
  <entry>
    <title>我的图床方案</title>
    <link href="https://anzhiy.cn/posts/2785.html"/>
    <id>https://anzhiy.cn/posts/2785.html</id>
    <published>2022-11-26T15:55:44.000Z</published>
    <updated>2023-04-16T03:11:15.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>自从写博客以来就一直面临着图床问题，各种各样的图片该存放在哪里，又该如何管理，在我经过不断的探索以后写下了这篇博客</p></blockquote><h1 id="初识图床"><a href="#初识图床" class="headerlink" title="初识图床"></a>初识图床</h1><p>图床图床，就是用来存放图片的温床，博客内有大量的图片，大量的地方需要使用到图片，优化博客加载方便管理的除了压缩图片的大小之外，首选就是多处使用图片链接，到不同的资源地址去进行加载来完成图片的加载。</p><h1 id="网络免费图床"><a href="#网络免费图床" class="headerlink" title="网络免费图床"></a>网络免费图床</h1><p>可以通过百度图床搜索 🔍 到很多很多各种各样的图床, 在此不做介绍如 SMMS 等图床.</p><table><thead><tr><th align="center">特点</th></tr></thead><tbody><tr><td align="center">无配置，仅需注册，有些甚至不用注册 ✅</td></tr><tr><td align="center">方便上传，方便管理 ✅</td></tr><tr><td align="center">免费 ✅</td></tr><tr><td align="center">容易跑路 ❌</td></tr><tr><td align="center">图像处理：如裁剪，压缩等 ❌</td></tr><tr><td align="center">图片加载速度不够快 ❌</td></tr><tr><td align="center">稳定性差 ❌</td></tr></tbody></table><h1 id="Github-图床"><a href="#Github-图床" class="headerlink" title="Github 图床"></a>Github 图床</h1><p>大部分同学是没有服务器的，那么就很需要图床来优化自己的仓库内容，毕竟 github 一个仓库大小只能在 1G 左右，一个比较成熟的方案是使用 <a href="https://github.com/">github</a> + <a href="https://www.jsdelivr.com/">jsd</a> + <a href="https://picgo.github.io/PicGo-Doc/zh/guide/">PicGo</a></p><table><thead><tr><th align="center">特点</th></tr></thead><tbody><tr><td align="center">配置较为简单 ✅</td></tr><tr><td align="center">方便上传 ✅</td></tr><tr><td align="center">免费 ✅</td></tr><tr><td align="center">多个仓库可无限容量 ✅</td></tr><tr><td align="center">图像处理：如裁剪，压缩等 ❌</td></tr><tr><td align="center">一个仓库只能 1G❌</td></tr><tr><td align="center">图片加载速度不够快 ❌</td></tr><tr><td align="center">github 做图床有封号封仓库风险 ❌</td></tr><tr><td align="center">稳定性差 ❌</td></tr></tbody></table><h1 id="npm-图床"><a href="#npm-图床" class="headerlink" title="npm 图床"></a>npm 图床</h1><p>具体配置方法可以去参考我的这篇文章</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://anzhiy.cn/posts/72ea.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/anzhiy.cn/posts/72ea.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">npm图床</div>            <div class="tag-link-sitename">npm图床配置教程</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><table><thead><tr><th align="center">特点</th></tr></thead><tbody><tr><td align="center">配置较为简 ✅</td></tr><tr><td align="center">免费 ✅</td></tr><tr><td align="center">镜像资源多，也可以自建，选对了镜像加载较快 ✅</td></tr><tr><td align="center">多个包或使用多个版本控制可无限容量 ✅</td></tr><tr><td align="center">方便上传，每次新加资源都需要重新发布版本 ❌</td></tr><tr><td align="center">图像处理：如裁剪，压缩等 ❌</td></tr><tr><td align="center">一个版本只能 100M-200M❌</td></tr><tr><td align="center">配置较为复杂 ❌</td></tr><tr><td align="center">高度依赖镜像，镜像寄就寄了 ❌</td></tr></tbody></table><h1 id="腾讯云或阿里云等各大平台的云存储-CDN-方案"><a href="#腾讯云或阿里云等各大平台的云存储-CDN-方案" class="headerlink" title="腾讯云或阿里云等各大平台的云存储+CDN 方案"></a>腾讯云或阿里云等各大平台的云存储+CDN 方案</h1><p>这个方案比较好，缺点是需要付费，大概为每年 20 元的存储费用 ➕ CDN 费用，CDN 为流量加速费用，具体得看站点流量大小。又拍云与七牛云都有免费的存储与 CDN 额度可以自行申请。</p><table><thead><tr><th align="center">特点</th></tr></thead><tbody><tr><td align="center">稳定性好 ✅</td></tr><tr><td align="center">方便管理图片，上传方便，有 API ✅</td></tr><tr><td align="center">容量取决于服务器 ✅</td></tr><tr><td align="center">图像处理：如裁剪，压缩等 ✅</td></tr><tr><td align="center">配置较为复杂 ❌</td></tr><tr><td align="center">需要额外费用 ❌</td></tr><tr><td align="center">容易被刷爆 ❌</td></tr></tbody></table><h1 id="自建图床"><a href="#自建图床" class="headerlink" title="自建图床"></a>自建图床</h1><p>如果你有一台服务器，那么你就可以自建自己的图床，以达到稳定性与速度兼备，可以自建<a href="https://www.lsky.pro/">兰空图床</a>，缺点大概就是需要一台服务器的费用。</p><table><thead><tr><th align="center">特点</th></tr></thead><tbody><tr><td align="center">稳定性好 ✅</td></tr><tr><td align="center">方便管理图片，上传方便，有 API ✅</td></tr><tr><td align="center">容量取决于服务器 ✅</td></tr><tr><td align="center">图像处理：如裁剪，压缩等 ✅</td></tr><tr><td align="center">配置较为复杂 ❌</td></tr><tr><td align="center">需要服务器费用 ❌</td></tr></tbody></table><h1 id="付费图床"><a href="#付费图床" class="headerlink" title="付费图床"></a>付费图床</h1><p>目前我比较推荐的是杜老师的<a href="https://7bu.top/">去不图床</a>, 10 元 1G, 容量收费。</p><table><thead><tr><th align="center">特点</th></tr></thead><tbody><tr><td align="center">稳定性好 ✅</td></tr><tr><td align="center">方便管理图片，上传方便，有 API ✅</td></tr><tr><td align="center">容量取决于服务器 ✅</td></tr><tr><td align="center">图像处理：如裁剪，压缩等 ✅</td></tr><tr><td align="center">配置简单 ✅</td></tr><tr><td align="center">需要一定费用 ❌</td></tr></tbody></table><h1 id="博主目前的方案"><a href="#博主目前的方案" class="headerlink" title="博主目前的方案"></a>博主目前的方案</h1><p>博主目前的方案为自建图床 ➕npm 图床 ➕ 云存储，三种方式都有使用，后续应该会逐渐迁移至云存储的方式。</p><p>目前为云存储 ➕cdn 来处理 js 等文件，搭建了 <a href="https://alist.nn.ci/zh/">alist</a>来管理文件。</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://pan.anzhiy.cn/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url( https://cloud.anzhiy.cn/static/img/c192.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">安知鱼alist</div>            <div class="tag-link-sitename">安知鱼alist</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><p>图片搭建了兰空图床企业版来使用。</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://image.anzhiy.cn">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://img02.anzhiy.cn/adminuploads/1/2022/04/27/6268e7d9de532.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">安知鱼图床</div>            <div class="tag-link-sitename">安知鱼图床</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;自从写博客以来就一直面临着图床问题，各种各样的图片该存放在哪里，又该如何管理，在我经过不断的探索以后写下了这篇博客&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;初识图床&quot;&gt;&lt;a href=&quot;#初识图床&quot; class=&quot;headerlink&quot;</summary>
      
    
    
    
    
    <category term="Hexo" scheme="https://anzhiy.cn/tags/Hexo/"/>
    
    <category term="教程" scheme="https://anzhiy.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="图床" scheme="https://anzhiy.cn/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
</feed>
