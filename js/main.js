"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function r(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{r({},"")}catch(t){r=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i,r,a,c,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),o=new b(o||[]);return e._invoke=(i=t,r=n,a=o,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return E()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var o=e.iterator[n.method];if(void 0===o){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}o=s(o,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,u;o=o.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a);if(n){if(n===u)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";n=s(i,r,a);if("normal"===n.type){if(c=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c="completed",a.method="throw",a.arg=n.arg)}}),e}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var u={};function d(){}function h(){}function m(){}var e={},y=(r(e,o,function(){return this}),Object.getPrototypeOf),y=y&&y(y(w([]))),f=(y&&y!==t&&l.call(y,o)&&(e=y),m.prototype=d.prototype=Object.create(e));function g(t){["next","throw","return"].forEach(function(e){r(t,e,function(t){return this._invoke(e,t)})})}function p(a,c){var e;this._invoke=function(n,o){function t(){return new c(function(t,e){!function e(t,n,o,i){var r,t=s(a[t],a,n);if("throw"!==t.type)return(n=(r=t.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,o,i)},function(t){e("throw",t,o,i)}):c.resolve(n).then(function(t){r.value=t,o(r)},function(t){return e("throw",t,o,i)});i(t.arg)}(n,o,t,e)})}return e=e?e.then(t,t):t()}}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function w(e){if(e){var n,t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:E}}function E(){return{value:void 0,done:!0}}return r(f,"constructor",h.prototype=m),r(m,"constructor",h),h.displayName=r(m,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,r(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t},a.awrap=function(t){return{__await:t}},g(p.prototype),r(p.prototype,n,function(){return this}),a.AsyncIterator=p,a.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var r=new p(c(t,e,n,o),i);return a.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},g(f),r(f,i,"Generator"),r(f,o,function(){return this}),r(f,"toString",function(){return"[object Generator]"}),a.keys=function(n){var t,o=[];for(t in n)o.push(t);return o.reverse(),function t(){for(;o.length;){var e=o.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=w,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function t(t,e){return r.type="throw",r.arg=n,o.next=t,e&&(o.method="next",o.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],r=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),c=l.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&l.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var r=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,o,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(o=n.arg,L(i)),o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:w(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},a}function asyncGeneratorStep(t,e,n,o,i,r,a){try{var c=t[r](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(o,i)}function _asyncToGenerator(c){return function(){var t=this,a=arguments;return new Promise(function(e,n){var o=c.apply(t,a);function i(t){asyncGeneratorStep(o,e,n,i,r,"next",t)}function r(t){asyncGeneratorStep(o,e,n,i,r,"throw",t)}i(void 0)})}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var anzhiyu_musicFirst=!1,anzhiyu_musicPlaying=!1,adjectives=["美丽的","英俊的","聪明的","勇敢的","可爱的","慷慨的","善良的","可靠的","开朗的","成熟的","稳重的","真诚的","幽默的","豁达的","有趣的","活泼的","优雅的","敏捷的","温柔的","温暖的","敬业的","细心的","耐心的","深沉的","朴素的","含蓄的","率直的","开放的","务实的","坚强的","自信的","谦虚的","文静的","深刻的","纯真的","朝气蓬勃的","慎重的","大方的","顽强的","迷人的","机智的","善解人意的","富有想象力的","有魅力的","独立的","好奇的","干净的","宽容的","尊重他人的","体贴的","守信的","有耐性的","有责任心的","有担当的","有远见的","有智慧的","有眼光的","有冒险精神的","有爱心的","有同情心的","喜欢思考的","喜欢学习的","具有批判性思维的","善于表达的","善于沟通的","善于合作的","善于领导的","有激情的","有幽默感的","有思想的","有个性的","有正义感的","有责任感的","有创造力的","有想象力的","有艺术细胞的","有团队精神的","有协调能力的","有决策能力的","有组织能力的","有学习能力的","有执行能力的","有分析能力的","有逻辑思维的","有创新能力的","有专业素养的","有商业头脑的"],vegetablesAndFruits=["萝卜","白菜","芹菜","生菜","青椒","辣椒","茄子","豆角","黄瓜","西红柿","洋葱","大蒜","土豆","南瓜","豆腐","韭菜","花菜","西兰花","蘑菇","金针菇","苹果","香蕉","橙子","柠檬","猕猴桃","草莓","葡萄","桃子","杏子","李子","石榴","西瓜","哈密瓜","蜜瓜","樱桃","蓝莓","柿子","橄榄","柚子","火龙果"];document.addEventListener("DOMContentLoaded",function(){function m(t){t&&(e=document.getElementById("site-name").offsetWidth,t=document.querySelectorAll("#menus .menus_item"),n=0,t.length&&t.forEach(function(t){n+=t.offsetWidth}),t=document.querySelector("#search-button"),o=t?t.offsetWidth:0,f=document.getElementById("nav")),window.innerWidth<=768||e+n+o>f.offsetWidth-120?f.classList.add("hide-menu"):f.classList.remove("hide-menu")}function y(){var t,e,n,r,a,o,c,l,s,u,i,d,h,m,y=GLOBAL_CONFIG.highlight;function f(t,e,n){var o,i=document.createDocumentFragment();a&&((o=document.createElement("div")).className="highlight-tools ".concat(u),o.innerHTML=l+t+s,o.addEventListener("click",h),i.appendChild(o)),r&&e.offsetHeight>r+30&&((t=document.createElement("div")).className="code-expand-btn",t.innerHTML='<i class="anzhiyufont anzhiyu-icon-angle-double-down"></i>',t.addEventListener("click",m),i.appendChild(t)),"hl"===n?e.insertBefore(i,e.firstChild):e.parentNode.insertBefore(i,e)}y&&(t=y.highlightCopy,e=y.highlightLang,n=GLOBAL_CONFIG_SITE.isHighlightShrink,r=y.highlightHeightLimit,a=t||e||void 0!==n,o="highlighjs"===y.plugin?document.querySelectorAll("figure.highlight"):document.querySelectorAll('pre[class*="language-"]'),(a||r)&&o.length&&(c="prismjs"===y.plugin,u=!(s=l="")===n?"closed":"",void 0!==n&&(l='<i class="anzhiyufont anzhiyu-icon-angle-down expand '.concat(u,'"></i>')),t&&(s='<div class="copy-notice"></div><i class="anzhiyufont anzhiyu-icon-paste copy-button"></i>'),i=function(t){var e,n=t.parentNode,o=(n.classList.add("copy-true"),window.getSelection()),i=document.createRange();c?i.selectNodeContents(n.querySelectorAll("pre code")[0]):i.selectNodeContents(n.querySelectorAll("table .code pre")[0]),o.removeAllRanges(),o.addRange(i),o.toString();i=t.lastChild,document.queryCommandSupported&&document.queryCommandSupported("copy")?(document.execCommand("copy"),void 0!==GLOBAL_CONFIG.Snackbar?anzhiyu.snackbarShow(GLOBAL_CONFIG.copy.success):((e=i.previousElementSibling).innerText=GLOBAL_CONFIG.copy.success,e.style.opacity=1,setTimeout(function(){e.style.opacity=0},700))):void 0!==GLOBAL_CONFIG.Snackbar?anzhiyu.snackbarShow(GLOBAL_CONFIG.copy.noSupport):i.previousElementSibling.innerText=GLOBAL_CONFIG.copy.noSupport,o.removeAllRanges(),n.classList.remove("copy-true")},d=function(t){var e=_toConsumableArray(t.parentNode.children).slice(1);t.firstChild.classList.toggle("closed"),anzhiyu.isHidden(e[e.length-1])?e.forEach(function(t){t.style.display="block"}):e.forEach(function(t){t.style.display="none"})},h=function(t){t=t.target.classList;t.contains("expand")?d(this):t.contains("copy-button")&&i(this)},m=function(){this.classList.toggle("expand-done")},e?c?o.forEach(function(t){var e=t.getAttribute("data-language")?t.getAttribute("data-language"):"Code",e='<div class="code-lang">'.concat(e,"</div>");anzhiyu.wrap(t,"figure",{class:"highlight"}),f(e,t)}):o.forEach(function(t){var e=t.getAttribute("class").split(" ")[1];f('<div class="code-lang">'.concat(e="plain"!==e&&void 0!==e?e:"Code","</div>"),t,"hl")}):c?o.forEach(function(t){anzhiyu.wrap(t,"figure",{class:"highlight"}),f("",t)}):o.forEach(function(t){f("",t,"hl")})))}var e,n,o,f,i=!1,g=function(){anzhiyu.sidebarPaddingR(),document.body.style.overflow="hidden",anzhiyu.animateIn(document.getElementById("menu-mask"),"to_show 0.5s"),document.getElementById("sidebar-menus").classList.add("open"),i=!0},r=function(){var t=document.body;t.style.overflow="",t.style.paddingRight="",anzhiyu.animateOut(document.getElementById("menu-mask"),"to_hide 0.5s"),document.getElementById("sidebar-menus").classList.remove("open"),i=!1};function p(t){function n(n,o){var t,i=null!=(t=n.getAttribute("data-limit"))?t:o.length;!n.classList.contains("lazyload")||o.length<i?n.innerHTML=r(o):n.classList.contains("btn_album_detail_lazyload")?(a(n,o,i),n.nextElementSibling.addEventListener("click",function t(){var e=a(n,o,i);fjGallery(n,"appendImages",n.querySelectorAll(".fj-gallery-item:nth-last-child(-n+".concat(e,")"))),e<i&&n.nextElementSibling.removeEventListener("click",t)})):(a(n,o,i),window.runJustifiedGalleryNextElementSiblingLazyloadFn=function(){var t=a(n,o,i);fjGallery(n,"appendImages",n.querySelectorAll(".fj-gallery-item:nth-last-child(-n+".concat(t,")"))),anzhiyu.loadLightbox(n.querySelectorAll("img")),t<Number(i)&&(window.runJustifiedGalleryNextElementSiblingLazyloadFn=null)}),anzhiyu.initJustifiedGallery(n),anzhiyu.loadLightbox(n.querySelectorAll("img")),window.lazyLoadInstance.update()}function e(){t.forEach(function(e){e.classList.contains("url")?o(e.textContent).then(function(t){n(e,t)}):n(e,JSON.parse(e.textContent))})}var r=function(t){function i(t){return t.replace(/"/g,"&quot;")}var r="";return t.forEach(function(t){var e=t.alt?'alt="'.concat(i(t.alt),'"'):"",n=t.title?'title="'.concat(i(t.title),'"'):"",o=t.address||"";r+=(o?'<div class="fj-gallery-item"><div class="tag-address">'.concat(o,'</div><img src="'):'<div class="fj-gallery-item"><img src="').concat(t.url,'" ').concat(e+n,'"></div>')}),r},a=function(t,e,n){var n=Number(n),o=e.length;return n<o?t.insertAdjacentHTML("beforeend",r(e.splice(0,n))):(t.insertAdjacentHTML("beforeend",r(e)),t.classList.remove("lazyload")),window.lazyLoadInstance.update(),n<o?n:o},o=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.info(e),t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}();window.fjGallery?e():(getCSS("".concat(GLOBAL_CONFIG.source.justifiedGallery.css)),getScript("".concat(GLOBAL_CONFIG.source.justifiedGallery.js)).then(e))}function v(){var n,o,i,r,a,t,c=document.getElementById("rightside"),l=window.innerHeight+56;document.body.scrollHeight<=l?c.style.cssText="opacity: 1; transform: translateX(-58px)":(o=!(n=0),i=document.getElementById("page-header"),r="function"==typeof chatBtnHide,a="function"==typeof chatBtnShow,t=anzhiyu.throttle(function(){var t,e=window.scrollY||document.documentElement.scrollTop;t=n<e,16<(n=e)?(t?(i.classList.contains("nav-visible")&&i.classList.remove("nav-visible"),a&&!0===o&&(chatBtnHide(),o=!1)):(i.classList.contains("nav-visible")||i.classList.add("nav-visible"),r&&!1===o&&(chatBtnShow(),o=!0)),i.classList.add("nav-fixed"),anzhiyu.initThemeColor(),"0"===window.getComputedStyle(c).getPropertyValue("opacity")&&(c.style.cssText="opacity: 0.8; transform: translateX(-58px)")):(0===e&&(i.querySelector(".bili-banner")||(i.classList.remove("nav-fixed"),i.classList.remove("nav-visible")),anzhiyu.initThemeColor()),c.style.cssText="opacity: ''; transform: ''"),document.body.scrollHeight<=l&&(c.style.cssText="opacity: 0.8; transform: translateX(-58px)")},200),window.scrollCollect=t,window.addEventListener("scroll",scrollCollect))}function L(){var a,t,c,l,i,s,u,d,h,m=GLOBAL_CONFIG_SITE.isToc,y=GLOBAL_CONFIG.isAnchor,r=document.getElementById("article-container");r&&(m||y)&&(m&&(t=document.getElementById("card-toc"),l=(c=t.getElementsByClassName("toc-content")[0]).querySelectorAll(".toc-link"),i=t.querySelector(".toc-percentage"),s=c.classList.contains("is-expand"),u=function(t){var e=r.clientHeight,n=document.documentElement.clientHeight,o=r.offsetTop,e=n<e?e-n:document.documentElement.scrollHeight-n,n=Math.round(100*((t-o)/e));i.textContent=100<n?100:n<=0?0:n},window.mobileToc={open:function(){t.style.cssText="animation: toc-open .3s; opacity: 1; right: 55px"},close:function(){t.style.animation="toc-close .2s",setTimeout(function(){t.style.cssText="opacity:''; animation: ''; right: ''"},100)}},c.addEventListener("click",function(t){t.preventDefault();var e=t.target.classList;e.contains("toc-content")||(e=e.contains("toc-link")?t.target:t.target.parentElement,anzhiyu.scrollToDest(anzhiyu.getEleTop(document.getElementById(decodeURI(e.getAttribute("href")).replace("#","")))-60,300),window.innerWidth<900&&window.mobileToc.close())}),a=function(t){var t=t.getBoundingClientRect().top,e=c.scrollTop;t>document.documentElement.clientHeight-100&&(c.scrollTop=e+150),t<100&&(c.scrollTop=e-150)}),d=r.querySelectorAll("h1,h2,h3,h4,h5,h6"),h="",window.tocScrollFn=function(){return anzhiyu.throttle(function(){var t=window.scrollY||document.documentElement.scrollTop,n=(m&&u(t),t);if(0!==n){var o="",i="";if(d.forEach(function(t,e){n>anzhiyu.getEleTop(t)-80&&(t=t.id,o=t?"#"+encodeURI(t):"",i=e)}),h!==i&&(y&&anzhiyu.updateAnchor(o),h=i,m&&(c.querySelectorAll(".active").forEach(function(t){t.classList.remove("active")}),""!==o))){var e=l[i];if(e.classList.add("active"),setTimeout(function(){a(e)},0),!s)for(var r=e.parentNode;!r.matches(".toc");r=r.parentNode)r.matches("li")&&r.classList.add("active")}}},100)()},window.addEventListener("scroll",tocScrollFn))}function b(t){t.forEach(function(t){var e=t.getAttribute("datetime");t.innerText=anzhiyu.diffDate(e,!0),t.style.display="inline"})}function w(){var n=!1,o=document.getElementById("nav-music"),i=document.getElementById("footer"),r=document.getElementById("waterfall"),a=document.getElementById("percent"),c=document.getElementById("post-comment")||document.getElementById("footer");window.anzhiyuScrollFnToDo=anzhiyu.throttle(function(){i&&o&&768<document.body.clientWidth&&(o.style.bottom=anzhiyu.isInViewPortOfOne(i)?"-10px":"20px",o.style.opacity=anzhiyu.isInViewPortOfOne(i)?"0":"1");var t=document.documentElement.scrollTop||window.pageYOffset,e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,e=Math.round(t/e*100);e=Math.min(99,Math.max(0,e)),anzhiyu.isInViewPortOfOne(c)||90<e?(document.getElementById("nav-totop").classList.add("long"),a.textContent="返回顶部",n=!0):(document.getElementById("nav-totop").classList.remove("long"),a.textContent=e),r&&(e=t%document.documentElement.clientHeight,!n&&100+e>=document.documentElement.clientHeight?(console.info(e,document.documentElement.clientHeight),setTimeout(function(){waterfall("#waterfall")},500)):setTimeout(function(){r&&waterfall("#waterfall")},500)),(t=document.getElementById("album_detail_gallery_load_more"))&&anzhiyu.isInViewPortOfOne(t)&&setTimeout(function(){var t=window.runJustifiedGalleryNextElementSiblingLazyloadFn;t&&t()},100)},48),window.addEventListener("scroll",anzhiyuScrollFnToDo)}function E(t){if(/^(rgb|RGB)/.test(t)){for(var e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",o=0;o<e.length;o++){var i=Number(e[o]).toString(16);"0"===i&&(i+=i),n+=i}return n=7!==n.length?t:n}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var r=t.replace(/#/,"").split("");if(6===r.length)return t;if(3===r.length){for(var a="#",o=0;o<r.length;o+=1)a+=r[o]+r[o];return a}}function S(t,e){var n=!1;"#"==t[0]&&(t=t.slice(1),n=!0);var o=((t=parseInt(t,16))>>16)+e,i=(255<o?o=255:o<0&&(o=0),(t>>8&255)+e);return 255<i?i=255:i<0&&(i=0),255<(t=(255&t)+e)?t=255:t<0&&(t=0),(n?"#":"")+String("000000"+(t|i<<8|o<<16).toString(16)).slice(-6)}function I(t){return t=299*(t=_(t).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1]+587*t[2]+114*t[3],.5<=(t/=255e3)?"light":"dark"}var a,t,c=function(){var e=document.body,n=(e.classList.add("read-mode"),document.createElement("button"));n.type="button",n.className="anzhiyufont anzhiyu-icon-sign-out-alt exit-readmode",e.appendChild(n),n.addEventListener("click",function t(){e.classList.remove("read-mode"),n.remove(),n.removeEventListener("click",t)})},l=function(){"light"==("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof runMermaid&&window.runMermaid()},s=function(t){var e=document.getElementById("rightside-config-hide").classList;e.toggle("show"),t.classList.contains("show")&&(e.add("status"),setTimeout(function(){e.remove("status")},300)),t.classList.toggle("show")},u=function(){anzhiyu.scrollToDest(0,500)},d=function(){var t=document.documentElement.classList;t.contains("hide-aside")?saveToLocal.set("aside-status","show",2):saveToLocal.set("aside-status","hide",2),t.toggle("hide-aside")},h=function(){var t=document.getElementById("console");document.documentElement.classList.contains("hide-aside")?document.querySelector("#consoleHideAside").classList.add("on"):document.querySelector("#consoleHideAside").classList.remove("on"),t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")},A=function(){"0"===window.getComputedStyle(document.getElementById("card-toc")).getPropertyValue("opacity")?window.mobileToc.open():window.mobileToc.close()},x=(document.getElementById("rightside").addEventListener("click",function(t){var e=t.target.id?t.target:t.target.parentNode;switch(e.id){case"go-up":u();break;case"rightside_config":s(e);break;case"mobile-toc-button":A();break;case"readmode":c();break;case"darkmode":l();break;case"hide-aside-btn":d();break;case"center-console":h()}}),document.addEventListener("touchstart",function(t){anzhiyu.removeRewardMask()},!1),function(){document.querySelectorAll("#article-container .tab > button").forEach(function(t){t.addEventListener("click",function(t){var e,n,o,i=this.parentNode;i.classList.contains("active")||(e=i.parentNode.nextElementSibling,(o=anzhiyu.siblings(i,".active")[0])&&o.classList.remove("active"),i.classList.add("active"),n=this.getAttribute("data-href").replace("#",""),_toConsumableArray(e.children).forEach(function(t){t.id===n?t.classList.add("active"):t.classList.remove("active")}),0<(o=e.querySelectorAll("#".concat(n," .fj-gallery"))).length&&anzhiyu.initJustifiedGallery(o))})})}),O=function(){document.querySelectorAll("#article-container .tabs .tab-to-top").forEach(function(t){t.addEventListener("click",function(){console.info(1),anzhiyu.scrollToDest(anzhiyu.getEleTop(anzhiyu.getParents(this,".tabs"))-60,300)})})},_=function(t){var e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var n="#",o=1;o<4;o+=1)n+=e.slice(o,o+1).concat(e.slice(o,o+1));e=n}for(var i=[],o=1;o<7;o+=2)i.push(parseInt("0x"+e.slice(o,o+2)));return"rgb("+i.join(",")+")"}return e};window.onkeydown=function(t){123===t.keyCode&&anzhiyu.snackbarShow("开发者模式已打开，请遵循GPL协议",!1)};window.refreshFn=function(){m(!0),f.classList.add("show"),GLOBAL_CONFIG_SITE.isPost?(void 0!==GLOBAL_CONFIG.noticeOutdate&&(n=GLOBAL_CONFIG.noticeOutdate,(o=anzhiyu.diffDate(GLOBAL_CONFIG_SITE.postUpdate))>=n.limitDay&&((e=document.createElement("div")).className="post-outdate-notice",e.textContent=n.messagePrev+" "+o+" "+n.messageNext,o=document.getElementById("article-container"),"top"===n.position?o.insertBefore(e,o.firstChild):o.appendChild(e))),GLOBAL_CONFIG.relativeDate.post&&b(document.querySelectorAll("#post-meta time"))):(GLOBAL_CONFIG.relativeDate.homepage&&b(document.querySelectorAll("#recent-posts time")),GLOBAL_CONFIG.runtime&&(n=document.getElementById("runtimeshow"))&&(o=n.getAttribute("data-publishDate"),n.innerText=anzhiyu.diffDate(o)+" "+GLOBAL_CONFIG.runtime),(e=document.getElementById("last-push-date"))&&(t=e.getAttribute("data-lastPushDate"),e.innerText=anzhiyu.diffDate(t,!0)),(t=document.querySelectorAll("#aside-cat-list .card-category-list-item.parent i")).length&&t.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();this.classList.toggle("expand");t=this.parentNode.nextElementSibling;anzhiyu.isHidden(t)?t.style.display="block":t.style.display="none"})})),L(),GLOBAL_CONFIG_SITE.isHome&&(h=document.getElementById("scroll-down"))&&h.addEventListener("click",function(){anzhiyu.scrollToDest(document.getElementById("content-inner").offsetTop,300)}),y(),GLOBAL_CONFIG.isPhotoFigcaption&&document.querySelectorAll("#article-container img").forEach(function(t){var e,n=t.parentNode,o=t.title||t.alt;o&&!n.parentNode.classList.contains("justified-gallery")&&((e=document.createElement("div")).className="img-alt is-center",e.textContent=o,n.insertBefore(e,t.nextSibling))}),v();var t,e,n,o,i,r,a,c,l,s,u,d,h=document.querySelectorAll("#content-inner .fj-gallery");h.length&&p(h),anzhiyu.loadLightbox(document.querySelectorAll("#article-container img:not(.no-lightbox)")),(d=document.querySelectorAll("#article-container :not(.highlight) > table, #article-container > table")).length&&d.forEach(function(t){anzhiyu.wrap(t,"div",{class:"table-wrap"})}),(d=document.querySelectorAll("#article-container .hide-button")).length&&d.forEach(function(t){t.addEventListener("click",function(t){this.classList.add("open");var e=this.nextElementSibling.querySelectorAll(".fj-gallery");e.length&&anzhiyu.initJustifiedGallery(e)})}),x(),O(),i=!1,(d=document.querySelector("#comment-switch > .switch-btn"))&&d.addEventListener("click",function(){this.classList.toggle("move"),document.querySelectorAll("#post-comment > .comment-wrap > div").forEach(function(t){anzhiyu.isHidden(t)?t.style.cssText="display: block;animation: tabshow .5s":t.style.cssText="display: none;animation: ''"}),i||"function"!=typeof loadOtherComment||(i=!0,loadOtherComment())}),document.getElementById("toggle-menu").addEventListener("click",function(){g()}),document.getElementById("post-comment")&&(r=1,a="",(c=document.createElement("div")).id="owo-big",(l=document.querySelector("body")).appendChild(c),document.getElementById("post-comment").addEventListener("DOMNodeInserted",function(t){t.target.classList&&"OwO-body"==t.target.classList.value&&((t=t.target).addEventListener("contextmenu",function(t){return t.preventDefault()}),t.addEventListener("mouseover",function(i){"IMG"==i.target.tagName&&r&&(r=0,a=setTimeout(function(){var t=3*i.target.clientHeight,e=3*i.target.clientWidth,n=i.x-i.offsetX-(e-i.target.clientWidth)/2,o=(n+e>l.clientWidth&&(n-=n+e-l.clientWidth+10),n<0&&(n=10),i.y-i.offsetY);c.style.height=t+"px",c.style.width=e+"px",c.style.left=n+"px",c.style.top=o+"px",c.style.display="flex",c.innerHTML='<img src="'.concat(i.target.src,'">')},300))}),t.addEventListener("mouseout",function(t){c.style.display="none",r=1,clearTimeout(a)}))})),(d=document.querySelector(".topGroup"))&&d.addEventListener("mouseleave",function(){document.getElementById("todayCard").classList.remove("hide"),document.getElementById("todayCard").style.zIndex=1}),d=null==(d=document.getElementById("post-top-bg"))?void 0:d.src,u=document.querySelector(":root"),void 0!==d?((s=new XMLHttpRequest).open("GET",d+"?imageAve",!0),s.send(),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var t=s.responseText;try{var e="#"+(e=JSON.parse(t,function(t,e){return e}).RGB).slice(2);"light"==I(e)&&(e=S(E(e),-40)),u.style.setProperty("--anzhiyu-bar-background",e),anzhiyu.initThemeColor()}catch(t){u.style.setProperty("--anzhiyu-bar-background","var(--anzhiyu-main)"),anzhiyu.initThemeColor()}}}):u.style.setProperty("--anzhiyu-bar-background","var(--anzhiyu-meta-theme-color)"),anzhiyu.initThemeColor(),w(),(d=document.getElementById("toPageText"))&&d.addEventListener("keydown",function(t){13===t.keyCode&&(anzhiyu.toPage(),t=document.getElementById("toPageButton").href,pjax.loadUrl(t))})},refreshFn(),window.addEventListener("resize",function(){m(!1),anzhiyu.isHidden(document.getElementById("toggle-menu"))&&i&&r()}),document.getElementById("menu-mask").addEventListener("click",function(t){r()}),GLOBAL_CONFIG.islazyload&&(window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})),void 0!==GLOBAL_CONFIG.copyright&&(a=GLOBAL_CONFIG.copyright,document.body.oncopy=function(t){t.preventDefault();var e=window.getSelection(0).toString(),e=e.length>a.limitCount?e+"\n\n\n"+a.languages.author+"\n"+a.languages.link+window.location.href+"\n"+a.languages.source+"\n"+a.languages.info:e;return(t.clipboardData?t:window).clipboardData.setData("text",e)}),GLOBAL_CONFIG.navMusic&&(t=setInterval(function(){navMusicEl.querySelector("#nav-music meting-js").aplayer&&(clearInterval(t),navMusicEl.querySelector("#nav-music meting-js").aplayer.on("pause",function(){navMusicEl.classList.remove("playing"),document.getElementById("menu-music-toggle").innerHTML='<i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span>',document.getElementById("nav-music-hoverTips").innerHTML="音乐已暂停",document.querySelector("#consoleMusic").classList.remove("on"),anzhiyu_musicPlaying=!1,navMusicEl.classList.remove("stretch")}))},16)),document.querySelectorAll("#sidebar-menus .site-page.group").forEach(function(t){t.addEventListener("click",function(){this.classList.toggle("hide")})})});